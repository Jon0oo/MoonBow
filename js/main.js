(()=>{"use strict";function e(e){var t=document.querySelector(".nav-dot-indicator");if(t&&e){e.parentElement;var n=e.offsetLeft;t.style.transform="translateX(".concat(n,"px)")}}var t=document.querySelector("base");function n(t){var n=document.getElementById(t);if(n){n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});var o=document.querySelectorAll(".nav-dot");o.forEach((function(e){return e.classList.remove("active")}));var r=Array.from(o).find((function(e){return e.getAttribute("data-slide")===t}));r&&(r.classList.add("active"),e(r))}}function o(){document.querySelectorAll(".slide").forEach((function(e){e.style.width="".concat(window.innerWidth,"px"),e.style.height="".concat(window.innerHeight,"px")}))}t||(t=document.createElement("base"),document.head.appendChild(t)),t.href="/MoonBow/",document.addEventListener("DOMContentLoaded",(function(){var t,o;document.querySelectorAll("nav .menu > li > a[data-dropdown-id]").forEach((function(e){var t=e.getAttribute("data-dropdown-id");e.addEventListener("mouseenter",(function(){return function(e){document.querySelectorAll(".dropdown.show").forEach((function(t){t.id!==e&&t.classList.remove("show")}));var t=document.getElementById(e);t&&t.classList.add("show")}(t)})),e.parentElement.addEventListener("mouseleave",(function(){return function(e){var t=document.getElementById(e);t&&t.classList.remove("show")}(t)}))})),document.addEventListener("click",(function(e){e.target.closest(".menu")||document.querySelectorAll(".dropdown.show").forEach((function(e){return e.classList.remove("show")}))})),document.querySelectorAll(".nav-dot").forEach((function(e){e.addEventListener("click",(function(t){!function(e,t){e.preventDefault();var n=document.getElementById(t);n&&n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}(t,e.getAttribute("data-slide"))}))})),function(){var t=document.querySelectorAll(".slide"),n=document.querySelectorAll(".nav-dot"),o=document.querySelector(".slides-container");if(t.length&&n.length&&o){var r=new IntersectionObserver((function(o){o.forEach((function(o){if(o.isIntersecting){var r=Array.from(t).indexOf(o.target);n.forEach((function(e){return e.classList.remove("active")})),n[r]&&(n[r].classList.add("active"),e(n[r]))}}))}),{root:o,threshold:.6});t.forEach((function(e){return r.observe(e)}))}}(),t=document.querySelectorAll(".nav-dot"),o=document.querySelectorAll(".slide"),t.length&&o.length&&t.forEach((function(n,r){n.addEventListener("click",(function(a){var c;a.preventDefault(),o[r]&&(o[r].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),e(n),t.forEach((function(e){return e.classList.remove("active")})),n.classList.add("active"),c=o[r].id,window.location.pathname.includes("index.html")||window.location.pathname,window.history.pushState(null,null,"?slide=".concat(c)))}))})),document.querySelectorAll(".dropdown a[data-slide]").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.getAttribute("data-slide");window.location.pathname.includes("index.html")||"/"===window.location.pathname?n(o):window.location.href="index.html?slide=".concat(o)}))}));var r=new URLSearchParams(window.location.search).get("slide");r&&n(r)})),window.addEventListener("resize",o),window.addEventListener("DOMContentLoaded",o)})();