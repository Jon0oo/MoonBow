/*! For license information please see slide1.js.LICENSE.txt */
(()=>{"use strict";var t={43:(t,e,n)=>{n.d(e,{xI:()=>cn});var r=n(990),i=n(126),s=n(424);function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var a=n(125);const c=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},u=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),l=new s.Vy("@firebase/auth");function h(t,...e){l.logLevel<=s.$b.ERROR&&l.error(`Auth (${r.MF}): ${t}`,...e)}function d(t,...e){throw m(t,...e)}function f(t,...e){return m(t,...e)}function p(t,e,n){const r=Object.assign(Object.assign({},c()),{[e]:n});return new i.FA("auth","Firebase",r).create(e,{appName:t.name})}function g(t){return p(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return u.create(t,...e)}function v(t,e,...n){if(!t)throw m(e,...n)}function y(t){const e="INTERNAL ASSERTION FAILED: "+t;throw h(e),new Error(e)}function _(t,e){t||y(e)}function w(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function b(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class E{constructor(t,e){this.shortDelay=t,this.longDelay=e,_(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===b()||"https:"===b()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function T(t,e){_(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class I{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},C=new E(3e4,6e4);function k(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function A(t,e,n,r,s={}){return x(t,s,(async()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=(0,i.Am)(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return(0,i.c1)()||(u.referrerPolicy="no-referrer"),I.fetch()(P(t,t.config.apiHost,n,a),u)}))}async function x(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},S),e);try{const e=new D(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw N(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw N(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw N(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw N(t,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw p(t,a,o);d(t,a)}}catch(e){if(e instanceof i.g)throw e;d(t,"network-request-failed",{message:String(e)})}}async function O(t,e,n,r,i={}){const s=await A(t,e,n,r,i);return"mfaPendingCredential"in s&&d(t,"multi-factor-auth-required",{_serverResponse:s}),s}function P(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?T(t.config,i):`${t.config.apiScheme}://${i}`}function R(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(f(this.auth,"network-request-failed"))),C.get())}))}}function N(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=f(t,e,r);return i.customData._tokenResponse=n,i}function L(t){return void 0!==t&&void 0!==t.enterprise}class M{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return R(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F(t,e){return A(t,"GET","/v2/recaptchaConfig",k(t,e))}async function U(t,e){return A(t,"POST","/v1/accounts:lookup",e)}function V(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(t){}}function j(t){return 1e3*Number(t)}function B(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,i.u)(n);return t?JSON.parse(t):(h("Failed to decode base64 JWT payload"),null)}catch(t){return h("Caught error parsing JWT payload as JSON",null==t?void 0:t.toString()),null}}function z(t){const e=B(t);return v(e,"internal-error"),v(void 0!==e.exp,"internal-error"),v(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}async function q(t,e,n=!1){if(n)return e;try{return await e}catch(e){throw e instanceof i.g&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(e)&&t.auth.currentUser===t&&await t.auth.signOut(),e}}class H{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}class ${constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=V(this.lastLoginAt),this.creationTime=V(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function G(t){var e;const n=t.auth,r=await t.getIdToken(),i=await q(t,U(n,{idToken:r}));v(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?K(s.providerUserInfo):[],a=(c=t.providerData,u=o,[...c.filter((t=>!u.some((e=>e.providerId===t.providerId)))),...u]);var c,u;const l=t.isAnonymous,h=!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!l&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}function K(t){return t.map((t=>{var{providerId:e}=t,n=o(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class W{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){v(t.idToken,"internal-error"),v(void 0!==t.idToken,"internal-error"),v(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):z(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){v(0!==t.length,"internal-error");const e=z(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return e||!this.accessToken||this.isExpired?(v(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(t,e){const n=await x(t,{},(async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=P(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",I.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new W;return n&&(v("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(v("number"==typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new W,this.toJSON())}_performRefresh(){return y("not implemented")}}function X(t,e){v("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Y{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=o(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await q(this,this.stsTokenManager.getToken(this.auth,t));return v(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const n=(0,i.Ku)(t),r=await n.getIdToken(e),s=B(r);v(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:V(j(s.auth_time)),issuedAtTime:V(j(s.iat)),expirationTime:V(j(s.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=(0,i.Ku)(t);await G(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(v(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Y(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await G(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const t=await this.getIdToken();return await q(this,async function(t,e){return A(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,c,u;const l=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=e.createdAt)&&void 0!==c?c:void 0,y=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:_,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:T}=e;v(_&&T,t,"internal-error");const I=W.fromJSON(this.name,T);v("string"==typeof _,t,"internal-error"),X(l,t.name),X(h,t.name),v("boolean"==typeof w,t,"internal-error"),v("boolean"==typeof b,t,"internal-error"),X(d,t.name),X(f,t.name),X(p,t.name),X(g,t.name),X(m,t.name),X(y,t.name);const S=new Y({uid:_,auth:t,email:h,emailVerified:w,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:m,lastLoginAt:y});return E&&Array.isArray(E)&&(S.providerData=E.map((t=>Object.assign({},t)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(t,e,n=!1){const r=new W;r.updateFromServerResponse(e);const i=new Y({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await G(i),i}static async _fromGetAccountInfoResponse(t,e,n){const r=e.users[0];v(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?K(r.providerUserInfo):[],s=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),o=new W;o.updateFromIdToken(n);const a=new Y({uid:r.localId,auth:t,stsTokenManager:o,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new $(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(a,c),a}}const Q=new Map;function J(t){_(t instanceof Function,"Expected a class definition");let e=Q.get(t);return e?(_(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q.set(t,e),e)}class Z{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Z.type="NONE";const tt=Z;function et(t,e,n){return`firebase:${t}:${e}:${n}`}class nt{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=et(this.userKey,r.apiKey,i),this.fullPersistenceKey=et("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Y._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new nt(J(tt),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||J(tt);const s=et(n,t.config.apiKey,t.name);let o=null;for(const n of e)try{const e=await n._get(s);if(e){const r=Y._fromJSON(t,e);n!==i&&(o=r),i=n;break}}catch(t){}const a=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(s)}catch(t){}}))),new nt(i,t,n)):new nt(i,t,n)}}function rt(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(at(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(it(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ut(e))return"Blackberry";if(lt(e))return"Webos";if(st(e))return"Safari";if((e.includes("chrome/")||ot(e))&&!e.includes("edge/"))return"Chrome";if(ct(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function it(t=(0,i.ZQ)()){return/firefox\//i.test(t)}function st(t=(0,i.ZQ)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ot(t=(0,i.ZQ)()){return/crios\//i.test(t)}function at(t=(0,i.ZQ)()){return/iemobile/i.test(t)}function ct(t=(0,i.ZQ)()){return/android/i.test(t)}function ut(t=(0,i.ZQ)()){return/blackberry/i.test(t)}function lt(t=(0,i.ZQ)()){return/webos/i.test(t)}function ht(t=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dt(t=(0,i.ZQ)()){return ht(t)||ct(t)||lt(t)||ut(t)||/windows phone/i.test(t)||at(t)}function ft(t,e=[]){let n;switch(t){case"Browser":n=rt((0,i.ZQ)());break;case"Worker":n=`${rt((0,i.ZQ)())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.MF}/${s}`}class pt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{n(t(e))}catch(t){r(t)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(t){e.reverse();for(const t of e)try{t()}catch(t){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==t?void 0:t.message})}}}class gt{constructor(t){var e,n,r,i;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=t.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=null===(e=a.meetsMinPasswordLength)||void 0===e||e),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}class mt{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yt(this),this.idTokenSubscription=new yt(this),this.beforeStateQueue=new pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=J(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await nt.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(t){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUserFromIdToken(t){try{const e=await U(this,{idToken:t}),n=await Y._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if((0,r.xZ)(this.app)){const t=this.app.settings.authIdToken;return t?new Promise((e=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(t).then(e,e)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,r=null==i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==r||!(null==o?void 0:o.user)||(i=o.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(t){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(t)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(t){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await G(t)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if((0,r.xZ)(this.app))return Promise.reject(g(this));const e=t?(0,i.Ku)(t):null;return e&&v(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&v(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(J(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t,e={}){return A(t,"GET","/v2/passwordPolicy",k(t,e))}(this),e=new gt(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new i.FA("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise(((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged((()=>{n(),t()}),e)}}))}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return A(t,"POST","/v2/accounts:revokeToken",k(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&J(t)||this._popupRedirectResolver;v(e,this,"argument-error"),this.redirectPersistenceManager=await nt.create(this,[J(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"==typeof e?e:e.next.bind(e);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"==typeof e){const i=t.addObserver(e,n,r);return()=>{s=!0,i()}}{const n=t.addObserver(e);return()=>{s=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ft(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null==e?void 0:e.error)&&function(t,...e){l.logLevel<=s.$b.WARN&&l.warn(`Auth (${r.MF}): ${t}`,...e)}(`Error while retrieving App Check token: ${e.error}`),null==e?void 0:e.token}}function vt(t){return(0,i.Ku)(t)}class yt{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,i.tD)((t=>this.observer=t))}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _t={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wt(t){return _t.loadJS(t)}function bt(t){return`__${t}${Math.floor(1e6*Math.random())}`}class Et{constructor(){this.enterprise=new Tt}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Tt{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const It="NO_RECAPTCHA";class St{constructor(t){this.type="recaptcha-enterprise",this.auth=vt(t)}async verify(t="verify",e=!1){function n(e,n,r){const i=window.grecaptcha;L(i)?i.enterprise.ready((()=>{i.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n(It)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?(new Et).execute("siteKey",{action:"verify"}):new Promise(((t,r)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{F(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new M(r);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))})(this.auth).then((i=>{if(!e&&L(window.grecaptcha))n(i,t,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let e=_t.recaptchaEnterpriseScript;0!==e.length&&(e+=i),wt(e).then((()=>{n(i,t,r)})).catch((t=>{r(t)}))}})).catch((t=>{r(t)}))}))}}async function Ct(t,e,n,r=!1,i=!1){const s=new St(t);let o;if(i)o=It;else try{o=await s.verify(n)}catch(t){o=await s.verify(n,!0)}const a=Object.assign({},e);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const t=a.phoneEnrollmentInfo.phoneNumber,e=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const t=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function kt(t,e,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=t._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ct(t,e,n,"getOobCode"===n);return r(t,i)}return r(t,e).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ct(t,e,n,"getOobCode"===n);return r(t,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=t._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await Ct(t,e,n);return r(t,i).catch((async i=>{var s;if("AUDIT"===(null===(s=t._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Ct(t,e,n,!1,!0);return r(t,i)}return Promise.reject(i)}))}{const i=await Ct(t,e,n,!1,!0);return r(t,i)}}return Promise.reject(i+" provider is not supported.")}function At(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xt(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Ot{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return y("not implemented")}_getIdTokenResponse(t){return y("not implemented")}_linkToIdToken(t,e){return y("not implemented")}_getReauthenticationResolver(t){return y("not implemented")}}async function Pt(t,e){return A(t,"POST","/v1/accounts:signUp",e)}async function Rt(t,e){return O(t,"POST","/v1/accounts:signInWithPassword",k(t,e))}class Dt extends Ot{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Dt(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Dt(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return kt(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rt,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return O(t,"POST","/v1/accounts:signInWithEmailLink",k(t,e))}(t,{email:this._email,oobCode:this._password});default:d(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return kt(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pt,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return O(t,"POST","/v1/accounts:signInWithEmailLink",k(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:d(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Nt(t,e){return O(t,"POST","/v1/accounts:signInWithIdp",k(t,e))}class Lt extends Ot{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Lt(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):d("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=o(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Lt(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return Nt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Nt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Nt(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,i.Am)(e)}return t}}async function Mt(t,e){return A(t,"POST","/v1/accounts:sendVerificationCode",k(t,e))}const Ft={USER_NOT_FOUND:"user-not-found"};class Ut extends Ot{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Ut({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Ut({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return O(t,"POST","/v1/accounts:signInWithPhoneNumber",k(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await O(t,"POST","/v1/accounts:signInWithPhoneNumber",k(t,e));if(n.temporaryProof)throw N(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return O(t,"POST","/v1/accounts:signInWithPhoneNumber",k(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Ft)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new Ut({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Vt{constructor(t){var e,n,r,s,o,a;const c=(0,i.I9)((0,i.hp)(t)),u=null!==(e=c.apiKey)&&void 0!==e?e:null,l=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);v(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=(0,i.I9)((0,i.hp)(t)).link,n=e?(0,i.I9)((0,i.hp)(e)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(t)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||e||t}(t);try{return new Vt(e)}catch(t){return null}}}class jt{constructor(){this.providerId=jt.PROVIDER_ID}static credential(t,e){return Dt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Vt.parseLink(e);return v(n,"argument-error"),Dt._fromEmailAndCode(t,n.code,n.tenantId)}}jt.PROVIDER_ID="password",jt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",jt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bt{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class zt extends Bt{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qt extends zt{constructor(){super("facebook.com")}static credential(t){return Lt._fromParams({providerId:qt.PROVIDER_ID,signInMethod:qt.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qt.credentialFromTaggedObject(t)}static credentialFromError(t){return qt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return qt.credential(t.oauthAccessToken)}catch(t){return null}}}qt.FACEBOOK_SIGN_IN_METHOD="facebook.com",qt.PROVIDER_ID="facebook.com";class Ht extends zt{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Lt._fromParams({providerId:Ht.PROVIDER_ID,signInMethod:Ht.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ht.credentialFromTaggedObject(t)}static credentialFromError(t){return Ht.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Ht.credential(e,n)}catch(t){return null}}}Ht.GOOGLE_SIGN_IN_METHOD="google.com",Ht.PROVIDER_ID="google.com";class $t extends zt{constructor(){super("github.com")}static credential(t){return Lt._fromParams({providerId:$t.PROVIDER_ID,signInMethod:$t.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $t.credentialFromTaggedObject(t)}static credentialFromError(t){return $t.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $t.credential(t.oauthAccessToken)}catch(t){return null}}}$t.GITHUB_SIGN_IN_METHOD="github.com",$t.PROVIDER_ID="github.com";class Gt extends zt{constructor(){super("twitter.com")}static credential(t,e){return Lt._fromParams({providerId:Gt.PROVIDER_ID,signInMethod:Gt.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Gt.credentialFromTaggedObject(t)}static credentialFromError(t){return Gt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Gt.credential(e,n)}catch(t){return null}}}Gt.TWITTER_SIGN_IN_METHOD="twitter.com",Gt.PROVIDER_ID="twitter.com";class Kt{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await Y._fromIdTokenResponse(t,n,r),s=Wt(n);return new Kt({user:i,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=Wt(n);return new Kt({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function Wt(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Xt extends i.g{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Xt.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new Xt(t,e,n,r)}}function Yt(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Xt._fromErrorAndOperation(t,n,e,r);throw n}))}function Qt(t,e){return A(t,"POST","/v2/accounts/mfaEnrollment:start",k(t,e))}new WeakMap;const Jt="__sak";class Zt{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Jt,"1"),this.storage.removeItem(Jt),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class te extends Zt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dt(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},s=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}te.type="LOCAL";const ee=te;class ne extends Zt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}ne.type="SESSION";const re=ne;class ie{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new ie(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async t=>t(e.origin,i))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function se(t="",e=10){let n="";for(let t=0;t<e;t++)n+=Math.floor(10*Math.random());return t+n}ie.receivers=[];class oe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=se("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(e.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ae(){return window}function ce(){return void 0!==ae().WorkerGlobalScope&&"function"==typeof ae().importScripts}const ue="firebaseLocalStorageDb",le="firebaseLocalStorage",he="fbase_key";class de{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function fe(t,e){return t.transaction([le],e?"readwrite":"readonly").objectStore(le)}function pe(){const t=indexedDB.open(ue,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(le,{keyPath:he})}catch(t){n(t)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(le)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(ue);return new de(t).toPromise()}(),e(await pe()))}))}))}async function ge(t,e,n){const r=fe(t,!0).put({[he]:e,value:n});return new de(r).toPromise()}function me(t,e){const n=fe(t,!0).delete(e);return new de(n).toPromise()}class ve{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await pe()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(t){if(e++>3)throw t;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ce()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ie._getInstance(ce()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new oe(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){var e;if(this.sender&&this.activeServiceWorker&&((null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await pe();return await ge(t,Jt,"1"),await me(t,Jt),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>ge(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=fe(t,!1).get(e),r=await new de(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>me(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=fe(t,!1).getAll();return new de(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;if(0!==t.length)for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const t of Object.keys(this.localCache))this.localCache[t]&&!n.has(t)&&(this.notifyListeners(t,null),e.push(t));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ve.type="LOCAL";const ye=ve;function _e(t,e){return A(t,"POST","/v2/accounts/mfaSignIn:start",k(t,e))}bt("rcb"),new E(3e4,6e4);const we="recaptcha";async function be(t,e,n){var r;if(!t._getRecaptchaConfig())try{await async function(t){const e=vt(t),n=await F(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new M(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new St(e).verify()}(t)}catch(t){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"==typeof e?{phoneNumber:e}:e,"session"in i){const e=i.session;if("phoneNumber"in i){v("enroll"===e.type,t,"internal-error");const r=kt(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},"mfaSmsEnrollment",(async(t,e)=>e.phoneEnrollmentInfo.captchaResponse===It?(v((null==n?void 0:n.type)===we,t,"argument-error"),Qt(t,await Ee(t,e,n))):Qt(t,e)),"PHONE_PROVIDER");return(await r.catch((t=>Promise.reject(t)))).phoneSessionInfo.sessionInfo}{v("signin"===e.type,t,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;v(s,t,"missing-multi-factor-info");const o=kt(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},"mfaSmsSignIn",(async(t,e)=>e.phoneSignInInfo.captchaResponse===It?(v((null==n?void 0:n.type)===we,t,"argument-error"),_e(t,await Ee(t,e,n))):_e(t,e)),"PHONE_PROVIDER");return(await o.catch((t=>Promise.reject(t)))).phoneResponseInfo.sessionInfo}}{const e=kt(t,{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},"sendVerificationCode",(async(t,e)=>e.captchaResponse===It?(v((null==n?void 0:n.type)===we,t,"argument-error"),Mt(t,await Ee(t,e,n))):Mt(t,e)),"PHONE_PROVIDER");return(await e.catch((t=>Promise.reject(t)))).sessionInfo}}finally{null==n||n._reset()}}async function Ee(t,e,n){v(n.type===we,t,"argument-error");const r=await n.verify();v("string"==typeof r,t,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const t=i.phoneEnrollmentInfo.phoneNumber,e=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:r,captchaResponse:e,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const t=i.phoneSignInInfo.captchaResponse,e=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:t,clientType:e,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Te{constructor(t){this.providerId=Te.PROVIDER_ID,this.auth=vt(t)}verifyPhoneNumber(t,e){return be(this.auth,t,(0,i.Ku)(e))}static credential(t,e){return Ut._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Te.credentialFromTaggedObject(e)}static credentialFromError(t){return Te.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?Ut._fromTokenResponse(e,n):null}}Te.PROVIDER_ID="phone",Te.PHONE_SIGN_IN_METHOD="phone";class Ie extends Ot{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Nt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Nt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Se(t){return async function(t,e,n=!1){if((0,r.xZ)(t.app))return Promise.reject(g(t));const i="signIn",s=await Yt(t,i,e),o=await Kt._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}(t.auth,new Ie(t),t.bypassAuthState)}function Ce(t){const{auth:e,user:n}=t;return v(n,e,"internal-error"),async function(t,e,n=!1){const{auth:i}=t;if((0,r.xZ)(i.app))return Promise.reject(g(i));const s="reauthenticate";try{const r=await q(t,Yt(i,s,e,t),n);v(r.idToken,i,"internal-error");const o=B(r.idToken);v(o,i,"internal-error");const{sub:a}=o;return v(t.uid===a,i,"user-mismatch"),Kt._forOperation(t,s,r)}catch(t){throw"auth/user-not-found"===(null==t?void 0:t.code)&&d(i,"user-mismatch"),t}}(n,new Ie(t),t.bypassAuthState)}async function ke(t){const{auth:e,user:n}=t;return v(n,e,"internal-error"),async function(t,e,n=!1){const r=await q(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kt._forOperation(t,"link",r)}(n,new Ie(t),t.bypassAuthState)}class Ae{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(t){this.reject(t)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(t){this.reject(t)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Se;case"linkViaPopup":case"linkViaRedirect":return ke;case"reauthViaPopup":case"reauthViaRedirect":return Ce;default:d(this.auth,"internal-error")}}resolve(t){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xe=new E(2e3,1e4);class Oe extends Ae{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Oe.currentPopupAction&&Oe.currentPopupAction.cancel(),Oe.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return v(t,this.auth,"internal-error"),t}async onExecution(){_(1===this.filter.length,"Popup operations only handle one event");const t=se();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(f(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oe.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,xe.get())};t()}}Oe.currentPopupAction=null;const Pe=new Map;class Re extends Ae{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=Pe.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=function(t){return et("pendingRedirect",t.config.apiKey,t.name)}(e),r=function(t){return J(t._redirectPersistence)}(t);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}Pe.set(this.auth._key(),t)}return this.bypassAuthState||Pe.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function De(t,e){Pe.set(t._key(),e)}async function Ne(t,e,n=!1){if((0,r.xZ)(t.app))return Promise.reject(g(t));const i=vt(t),s=function(t,e){return e?J(e):(v(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(i,e),o=new Re(i,s,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}class Le{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fe(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Fe(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(f(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Me(t))}saveEventToCache(t){this.cachedEventUids.add(Me(t)),this.lastProcessedEventTime=Date.now()}}function Me(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Fe({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}const Ue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ve=/^https?/;function je(t){const e=w(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ve.test(n))return!1;if(Ue.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Be=new E(3e4,6e4);function ze(){const t=ae().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}function qe(t){return new Promise(((e,n)=>{var r,i,s;function o(){ze(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ze(),n(f(t,"network-request-failed"))},timeout:Be.get()})}if(null===(i=null===(r=ae().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=ae().gapi)||void 0===s?void 0:s.load)){const e=bt("iframefcb");return ae()[e]=()=>{gapi.load?o():n(f(t,"network-request-failed"))},wt(`${_t.gapiScript}?onload=${e}`).catch((t=>n(t)))}o()}})).catch((t=>{throw He=null,t}))}let He=null;const $e=new E(5e3,15e3),Ge={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ke=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function We(t){const e=t.config;v(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?T(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,s={apiKey:e.apiKey,appName:t.name,v:r.MF},o=Ke.get(t.config.apiHost);o&&(s.eid=o);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${(0,i.Am)(s).slice(1)}`}const Xe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ye{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}const Qe=encodeURIComponent("fac");async function Je(t,e,n,s,o,a){v(t.config.authDomain,t,"auth-domain-config-required"),v(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:r.MF,eventId:o};if(e instanceof Bt){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",(0,i.Im)(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))c[t]=e}if(e instanceof zt){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(c.scopes=t.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const t of Object.keys(u))void 0===u[t]&&delete u[t];const l=await t._getAppCheckToken(),h=l?`#${Qe}=${encodeURIComponent(l)}`:"";return`${function({config:t}){return t.emulator?T(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${(0,i.Am)(u).slice(1)}${h}`}const Ze="webStorageSupport",tn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=re,this._completeRedirectFn=Ne,this._overrideRedirectResult=De}async _openPopup(t,e,n,r){var s;return _(null===(s=this.eventManagers[t._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()"),function(t,e,n,r=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},Xe),{width:r.toString(),height:s.toString(),top:o,left:a}),l=(0,i.ZQ)().toLowerCase();n&&(c=ot(l)?"_blank":n),it(l)&&(e=e||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(function(t=(0,i.ZQ)()){var e;return ht(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==c)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",c),new Ye(null);const d=window.open(e||"",c,h);v(d,t,"popup-blocked");try{d.focus()}catch(t){}return new Ye(d)}(t,await Je(t,e,n,w(),r),se())}async _openRedirect(t,e,n,r){return await this._originValidation(t),i=await Je(t,e,n,w(),r),ae().location.href=i,new Promise((()=>{}));var i}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await async function(t){const e=await function(t){return He=He||qe(t),He}(t),n=ae().gapi;return v(n,t,"internal-error"),e.open({where:document.body,url:We(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ge,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=f(t,"network-request-failed"),s=ae().setTimeout((()=>{r(i)}),$e.get());function o(){ae().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{r(i)}))}))))}(t),n=new Le(t);return e.register("authEvent",(e=>(v(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:n.onEvent(e.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ze,{type:Ze},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Ze];void 0!==i&&e(!!i),d(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=async function(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return A(t,"GET","/v1/projects",e)}(t);for(const t of e)try{if(je(t))return}catch(t){}d(t,"unauthorized-domain")}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return dt()||st()||ht()}};var en="@firebase/auth",nn="1.9.1";class rn{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null==e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const sn=(0,i.XA)("authIdTokenMaxAge")||300;let on=null;const an=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sn)return;const i=null==n?void 0:n.token;on!==i&&(on=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cn(t=(0,r.Sx)()){const e=(0,r.j6)(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=(0,r.j6)(t,"auth");if(n.isInitialized()){const t=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!=e?e:{}))return t;d(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:tn,persistence:[ye,ee,re]}),s=(0,i.XA)("authTokenSyncURL");if(s&&"boolean"==typeof isSecureContext&&isSecureContext){const t=new URL(s,location.origin);if(location.origin===t.origin){const e=an(t.toString());!function(t,e,n){(0,i.Ku)(t).beforeAuthStateChanged(e,n)}(n,e,(()=>e(n.currentUser))),function(t){(0,i.Ku)(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}}const o=(0,i.Tj)("auth");return o&&function(t,e,n){const r=vt(t);v(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(null==n?void 0:n.disableWarnings),o=At(e),{host:a,port:c}=function(t){const e=At(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:xt(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:xt(e)}}}(e),u={url:`${o}//${a}${null===c?"":`:${c}`}/`},l=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return v(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void v((0,i.bD)(u,r.config.emulator)&&(0,i.bD)(l,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,s||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${o}`),n}var un;_t={loadJS:t=>new Promise(((e,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=f("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},un="Browser",(0,r.om)(new a.uA("auth",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;v(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:s,authDomain:o,clientPlatform:un,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ft(un)},c=new mt(n,r,i,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(J);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(c,e),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),(0,r.om)(new a.uA("auth-internal",(t=>{return e=vt(t.getProvider("auth").getImmediate()),new rn(e);var e}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(en,nn,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(un)),(0,r.KO)(en,nn,"esm2017")},121:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,s=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof _?e:_,s=Object.create(i.prototype),a=new R(r||[]);return o(s,"_invoke",{value:A(t,n,a)}),s}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p="suspendedStart",g="suspendedYield",m="executing",v="completed",y={};function _(){}function w(){}function b(){}var E={};h(E,c,(function(){return this}));var T=Object.getPrototypeOf,I=T&&T(T(D([])));I&&I!==n&&s.call(I,c)&&(E=I);var S=b.prototype=_.prototype=Object.create(E);function C(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=f(t[i],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==r(h)&&s.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function s(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(s,s):s()}})}function A(e,n,r){var i=p;return function(s,o){if(i===m)throw Error("Generator is already running");if(i===v){if("throw"===s)throw o;return{value:t,done:!0}}for(r.method=s,r.arg=o;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var u=f(e,n,r);if("normal"===u.type){if(i=r.done?v:g,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var s=f(i,e.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,y;var o=s.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(s.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:w,configurable:!0}),w.displayName=h(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,h(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(k.prototype),h(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var o=new k(d(t,n,r,i),s);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),h(S,l,"Generator"),h(S,c,(function(){return this})),h(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=D,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function s(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}function o(){return a.apply(this,arguments)}function a(){var t;return t=i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://ipapi.co/json/");case 3:if((e=t.sent).ok){t.next=6;break}throw new Error("Network response was not ok");case 6:return t.next=8,e.json();case 8:return n=t.sent,t.abrupt("return",n.region);case 12:return t.prev=12,t.t0=t.catch(0),console.error(" Error fetching region:",t.t0),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})),a=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,c,"next",t)}function c(t){s(o,r,i,a,c,"throw",t)}a(void 0)}))},a.apply(this,arguments)}function c(){var t=document.querySelector(".button-sent-demo-request");t&&(t.disabled=!1)}n.d(e,{JN:()=>o,lG:()=>c})},125:(t,e,n)=>{n.d(e,{h1:()=>a,uA:()=>i});var r=n(126);class i{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const s="[DEFAULT]";class o{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new r.cY;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t=s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=s){return this.instances.has(t)}getOptions(t=s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(t)&&e.resolve(r);return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===s?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var r;return n||null}normalizeInstanceIdentifier(t=s){return this.component?this.component.multipleInstances?t:s:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new o(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},126:(t,e,n)=>{n.d(e,{cY:()=>f,FA:()=>S,g:()=>I,u:()=>a,Uj:()=>o,Fy:()=>p,tD:()=>D,bD:()=>A,hp:()=>R,T9:()=>h,Tj:()=>u,yU:()=>l,XA:()=>d,Ku:()=>M,ZQ:()=>g,sr:()=>y,c1:()=>v,Im:()=>k,lT:()=>w,zW:()=>E,jZ:()=>m,lV:()=>_,nr:()=>b,Am:()=>O,I9:()=>P,eX:()=>T});const r=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let e=0;e<t.length;e+=3){const i=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,c=a?t[e+2]:0,u=i>>2,l=(3&i)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let e=0;e<t.length;){const i=n[t.charAt(e++)],o=e<t.length?n[t.charAt(e)]:0;++e;const a=e<t.length?n[t.charAt(e)]:64;++e;const c=e<t.length?n[t.charAt(e)]:64;if(++e,null==i||null==o||null==a||null==c)throw new s;const u=i<<2|o>>4;if(r.push(u),64!==a){const t=o<<4&240|a>>2;if(r.push(t),64!==c){const t=a<<6&192|c;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(t){return function(t){const e=r(t);return i.encodeByteArray(e,!0)}(t).replace(/\./g,"")},a=function(t){try{return i.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},c=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&a(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},u=t=>{var e,n;return null===(n=null===(e=c())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},l=t=>{const e=u(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},h=()=>{var t;return null===(t=c())||void 0===t?void 0:t.config},d=t=>{var e;return null===(e=c())||void 0===e?void 0:e[`_${t}`]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function v(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function y(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){const t=g();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return!function(){var t;const e=null===(t=c())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E(){try{return"object"==typeof indexedDB}catch(t){return!1}}function T(){return new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}class I extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(C,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new I(r,o,n)}}const C=/\{\$([^}]+)}/g;function k(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(x(n)&&x(s)){if(!A(n,s))return!1}else if(n!==s)return!1}for(const t of r)if(!n.includes(t))return!1;return!0}function x(t){return null!==t&&"object"==typeof t}function O(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function P(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function R(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function D(t,e){const n=new N(t,e);return n.subscribe.bind(n)}class N{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t){if("object"!=typeof t||null===t)return!1;for(const e of["next","error","complete"])if(e in t&&"function"==typeof t[e])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function L(){}function M(t){return t&&t._delegate?t._delegate:t}},419:(t,e,n)=>{n.d(e,{A:()=>d});var r=n(426),i=n(738);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function o(){o=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var s=e&&e.prototype instanceof _?e:_,o=Object.create(s.prototype),a=new R(r||[]);return i(o,"_invoke",{value:A(t,n,a)}),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p="suspendedStart",g="suspendedYield",m="executing",v="completed",y={};function _(){}function w(){}function b(){}var E={};h(E,c,(function(){return this}));var T=Object.getPrototypeOf,I=T&&T(T(D([])));I&&I!==n&&r.call(I,c)&&(E=I);var S=b.prototype=_.prototype=Object.create(E);function C(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,c){var u=f(t[i],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==s(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function A(e,n,r){var i=p;return function(s,o){if(i===m)throw Error("Generator is already running");if(i===v){if("throw"===s)throw o;return{value:t,done:!0}}for(r.method=s,r.arg=o;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var u=f(e,n,r);if("normal"===u.type){if(i=r.done?v:g,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var s=f(i,e.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,y;var o=s.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=h(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,h(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(k.prototype),h(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var o=new k(d(t,n,r,i),s);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),h(S,l,"Generator"),h(S,c,(function(){return this})),h(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=D,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function a(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}function l(t){var e=getComputedStyle(document.documentElement).getPropertyValue(t).trim();return console.log("getVar: ".concat(t," = ").concat(e)),e}var h=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modalElement=e,this.closeButton=this.modalElement.querySelector(".modal-close"),this.submitButtons=this.modalElement.querySelectorAll(".button-sent-demo-request"),this.productToggles=this.modalElement.querySelectorAll(".product-toggle"),this.form=this.modalElement.querySelector(".scheduleDemoForm"),this.isActive=!1,this.open=this.open.bind(this),this.close=this.close.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.attachListeners(),this.attachProductListeners(),this.attachSubmitButtonAnimations(),this.attachFormListener()},e=[{key:"attachListeners",value:function(){this.closeButton.addEventListener("click",this.close),this.modalElement.addEventListener("click",this.handleBackdropClick),document.addEventListener("keydown",this.handleKeyDown)}},{key:"attachProductListeners",value:function(){var t=this;this.productToggles.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("active"),t.updateValidationMessage()}))}))}},{key:"updateValidationMessage",value:function(){if(this.isActive){var t=this.modalElement.querySelectorAll(".product-toggle.active"),e=this.modalElement.querySelector(".validation-message"),n=this.modalElement.querySelector(".validation-message-wrapper");e&&n?0===t.length?(e.style.display="block",e.classList.add("isVisible"),n.classList.add("isVisible")):(e.style.display="none",e.classList.remove("isVisible"),n.classList.remove("isVisible")):console.warn(" Validation elements not found inside modal!")}}},{key:"attachSubmitButtonAnimations",value:function(){this.submitButtons.forEach((function(t){var e=t.closest("form");e&&(e.addEventListener("submit",function(){var n,r=(n=o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),!t.classList.contains("active")){n.next=3;break}return n.abrupt("return");case 3:return t.classList.add("active"),n.prev=4,document.dispatchEvent(new CustomEvent("demoSubmissionStart",{detail:{formData:new FormData(e)}})),n.next=8,new Promise((function(t){document.addEventListener("demoSubmissionComplete",(function(e){t(e.detail.success)}),{once:!0})}));case 8:if(n.sent){n.next=11;break}return n.abrupt("return");case 11:i.os.to(t,{keyframes:[{"--left-wing-first-x":50,"--left-wing-first-y":100,"--right-wing-second-x":50,"--right-wing-second-y":100,duration:.2,onComplete:function(){i.os.set(t,{"--left-wing-first-y":0,"--left-wing-second-x":40,"--left-wing-second-y":100,"--left-wing-third-x":0,"--left-wing-third-y":100,"--left-body-third-x":40,"--right-wing-first-x":50,"--right-wing-first-y":0,"--right-wing-second-x":60,"--right-wing-second-y":100,"--right-wing-third-x":100,"--right-wing-third-y":100,"--right-body-third-x":60})}},{"--left-wing-third-x":20,"--left-wing-third-y":90,"--left-wing-second-y":90,"--left-body-third-y":90,"--right-wing-third-x":80,"--right-wing-third-y":90,"--right-body-third-y":90,"--right-wing-second-y":90,duration:.2},{"--rotate":50,"--left-wing-third-y":95,"--left-wing-third-x":27,"--right-body-third-x":45,"--right-wing-second-x":45,"--right-wing-third-x":60,"--right-wing-third-y":83,duration:.25},{"--rotate":55,"--plane-x":-8,"--plane-y":24,duration:.2},{"--rotate":40,"--plane-x":45,"--plane-y":-180,"--plane-opacity":0,duration:.3},{"--rotate":0,duration:.2}]}),i.os.to(t,{keyframes:[{"--text-opacity":0,"--border-radius":0,"--left-wing-background":l("--primary-darkest"),"--right-wing-background":l("--primary-darkest"),duration:.1},{"--left-wing-background":l("--primary"),"--right-wing-background":l("--primary"),duration:.1},{"--left-body-background":l("--primary-dark"),"--right-body-background":l("--primary-darkest"),duration:.4},{"--success-opacity":1,"--success-scale":1,duration:.25,delay:.25}]}),i.os.to(t,{onComplete:function(){t.classList.add("sent"),t.disabled=!0,console.log("Form submitted successfully and button animated")}}),n.next=21;break;case 16:n.prev=16,n.t0=n.catch(4),console.error(" Form submission failed:",n.t0),t.classList.remove("active"),t.disabled=!1;case 21:case"end":return n.stop()}}),n,null,[[4,16]])})),function(){var t=this,e=arguments;return new Promise((function(r,i){var s=n.apply(t,e);function o(t){a(s,r,i,o,c,"next",t)}function c(t){a(s,r,i,o,c,"throw",t)}o(void 0)}))});return function(t){return r.apply(this,arguments)}}()),document.addEventListener("dialogOpened",(function(){t.classList.remove("active","sent"),t.removeAttribute("style"),t.disabled=!1})))}))}},{key:"attachFormListener",value:function(){var t=this;document.addEventListener("dialogOpened",(function(){var e=t.modalElement.querySelector(".scheduleDemoForm");e&&!e.getAttribute("data-listener-attached")&&(e.addEventListener("submit",r.f),e.setAttribute("data-listener-attached","true"),console.log(" Form listener attached inside modal."))}))}},{key:"open",value:function(){this.modalElement.classList.add("active"),this.modalElement.setAttribute("aria-hidden","false"),this.isActive=!0,document.dispatchEvent(new Event("dialogOpened"));var t=this.modalElement.querySelector("input");t&&t.focus(),this.updateValidationMessage()}},{key:"close",value:function(){this.modalElement.classList.remove("active"),this.modalElement.setAttribute("aria-hidden","true"),this.isActive=!1}},{key:"handleBackdropClick",value:function(t){t.target===this.modalElement&&this.close()}},{key:"handleKeyDown",value:function(t){"Escape"===t.key&&this.modalElement.classList.contains("active")&&this.close()}}],e&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const d=h},424:(t,e,n)=>{n.d(e,{$b:()=>i,Vy:()=>u});const r=[];var i;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class u{constructor(t){this.name=t,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},426:(t,e,n)=>{n.d(e,{f:()=>l});var r=n(575),i=n(121),s=n(594);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var s=e&&e.prototype instanceof _?e:_,o=Object.create(s.prototype),a=new R(r||[]);return i(o,"_invoke",{value:A(t,n,a)}),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p="suspendedStart",g="suspendedYield",m="executing",v="completed",y={};function _(){}function w(){}function b(){}var E={};h(E,c,(function(){return this}));var T=Object.getPrototypeOf,I=T&&T(T(D([])));I&&I!==n&&r.call(I,c)&&(E=I);var S=b.prototype=_.prototype=Object.create(E);function C(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,s,a,c){var u=f(t[i],t,s);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==o(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var s;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return s=s?s.then(i,i):i()}})}function A(e,n,r){var i=p;return function(s,o){if(i===m)throw Error("Generator is already running");if(i===v){if("throw"===s)throw o;return{value:t,done:!0}}for(r.method=s,r.arg=o;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var u=f(e,n,r);if("normal"===u.type){if(i=r.done?v:g,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var s=f(i,e.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,y;var o=s.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}throw new TypeError(o(e)+" is not iterable")}return w.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=h(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,h(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(k.prototype),h(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var o=new k(d(t,n,r,i),s);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(S),h(S,l,"Generator"),h(S,c,(function(){return this})),h(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=D,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function c(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}var u=!1;function l(t){return h.apply(this,arguments)}function h(){var t;return t=a().mark((function t(e){var n,o,c,l,h,d,f,p,g,m,v,y;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),console.log(" Form submission triggered!"),n=e.currentTarget,!u){t.next=6;break}return console.warn(" Submission blocked: already in progress."),t.abrupt("return",!1);case 6:if(u=!0,(o=n.querySelector(".button-sent-demo-request"))&&(o.disabled=!0),console.log(" Form submission started."),console.log(" Checking for .product-toggle.active elements:",n.querySelectorAll(".product-toggle.active")),c=n.closest(".modal-popup"),l=Array.from(c.querySelectorAll(".product-toggle.active")).map((function(t){var e;return(null===(e=t.querySelector(".product-selection-span"))||void 0===e?void 0:e.textContent.trim())||""})),console.log(" Selected products:",l),h=n.querySelector('[name="fullName"]').value.trim(),d=n.querySelector('[name="email"]').value.trim(),f=n.querySelector('[name="demo-message"]').value.trim(),p=n.querySelector('[name="company"]').value.trim(),g=n.querySelector('[name="phone"]').value.trim(),h&&d&&p){t.next=24;break}return console.error(" Form validation failed - missing required fields."),(0,i.lG)(),u=!1,t.abrupt("return",!1);case 24:if(0!==l.length){t.next=31;break}return console.error(" Form validation failed - no product selected."),(m=n.querySelector(".validation-message-wrapper"))&&(m.classList.add("isVisible"),n.querySelector(".validation-message").style.display="block"),(0,i.lG)(),u=!1,t.abrupt("return",!1);case 31:return t.next=33,(0,i.JN)();case 33:return v=t.sent,t.prev=34,t.next=37,(0,s.gS)((0,s.rJ)(r.db,"demoRequests"),{name:h,email:d,message:f,company:p,phone:g,selectedProducts:l,timestamp:(0,s.O5)(),region:v,state:"pending"});case 37:return y=t.sent,console.log(" Document successfully written with ID:",y.id),n.reset(),o&&(o.querySelector(".default").style.display="none",o.querySelector(".success").style.display="inline"),n.querySelectorAll(".product-toggle").forEach((function(t){return t.classList.remove("active")})),document.dispatchEvent(new CustomEvent("demoSubmissionComplete",{detail:{success:!0}})),t.abrupt("return",!0);case 46:return t.prev=46,t.t0=t.catch(34),console.error(" Error submitting request:",t.t0),(0,i.lG)(),document.dispatchEvent(new CustomEvent("demoSubmissionComplete",{detail:{success:!1}})),t.abrupt("return",!1);case 52:return t.prev=52,u=!1,o&&(o.disabled=!1),t.finish(52);case 56:case"end":return t.stop()}}),t,null,[[34,46,52,56]])})),h=function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function o(t){c(s,r,i,o,a,"next",t)}function a(t){c(s,r,i,o,a,"throw",t)}o(void 0)}))},h.apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".modal-content").forEach((function(t){t.getAttribute("data-listener-attached")||(t.addEventListener("submit",l),t.setAttribute("data-listener-attached","true"),console.log(" Form event listener attached for form instance."))}))}))},575:(t,e,n)=>{n.d(e,{db:()=>a});var r=n(990);(0,r.KO)("firebase","11.5.0","app");var i=n(43),s=n(594),o=(0,r.Wp)({apiKey:"AIzaSyDY1zNPbPtrXbXpOTXjp45xwEv97pqK88I",authDomain:"moonbow-1.firebaseapp.com",projectId:"moonbow-1",storageBucket:"moonbow-1.firebasestorage.app",messagingSenderId:"857153315917",appId:"1:857153315917:web:91cfab2128c8c16119e804"}),a=(0,s.aU)(o);(0,i.xI)(o),console.log(" Firebase & Auth initialized.")},594:(t,e,n)=>{n.d(e,{gS:()=>Js,rJ:()=>Ss,aU:()=>xs,O5:()=>Zs});var r,i=n(990),s=n(125),o=n(424),a=n(126),c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},u={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function i(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,i=this.B,s=this.h,o=0;o<e;){if(0==s)for(;o<=r;)n(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var s={};function o(t){return-128<=t&&128>t?function(t){var e=s;return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=function(t){return new i([0|t],0>t?-1:0)}(t)}(t):new i([0|t],0>t?-1:0)}function a(t){if(isNaN(t)||!isFinite(t))return c;if(0>t)return p(a(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=4294967296;return new i(e,0)}var c=o(0),l=o(1),h=o(16777216);function d(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function f(t){return-1==t.h}function p(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new i(n,~t.h).add(l)}function g(t,e){return t.add(p(e))}function m(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function v(t,e){this.g=t,this.h=e}function y(t,e){if(d(e))throw Error("division by zero");if(d(t))return new v(c,c);if(f(t))return e=y(p(t),e),new v(p(e.g),p(e.h));if(f(e))return e=y(t,p(e)),new v(p(e.g),e.h);if(30<t.g.length){if(f(t)||f(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=e;0>=r.l(t);)n=_(n),r=_(r);var i=w(n,1),s=w(r,1);for(r=w(r,2),n=w(n,2);!d(r);){var o=s.add(r);0>=o.l(t)&&(i=i.add(n),s=o),r=w(r,1),n=w(n,1)}return e=g(t,i.j(e)),new v(i,e)}for(i=c;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=a(n)).j(e);f(o)||0<o.l(t);)o=(s=a(n-=r)).j(e);d(s)&&(s=l),i=i.add(s),t=g(t,o)}return new v(i,t)}function _(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.i(r)<<1|t.i(r-1)>>>31;return new i(n,t.h)}function w(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.i(o+n)>>>e|t.i(o+n+1)<<32-e:t.i(o+n);return new i(s,t.h)}(t=i.prototype).m=function(){if(f(this))return-p(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.i(n);t+=(0<=r?r:4294967296+r)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(d(this))return"0";if(f(this))return"-"+p(this).toString(t);for(var e=a(Math.pow(t,6)),n=this,r="";;){var i=y(n,e).g,s=((0<(n=g(n,i.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(d(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return f(t=g(this,t))?-1:d(t)?0:1},t.abs=function(){return f(this)?p(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(65535&this.i(s))+(65535&t.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(t.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(d(this)||d(t))return c;if(f(this))return f(t)?p(this).j(p(t)):p(p(this).j(t));if(f(t))return p(this.j(p(t)));if(0>this.l(h)&&0>t.l(h))return a(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var o=this.i(r)>>>16,u=65535&this.i(r),l=t.i(s)>>>16,g=65535&t.i(s);n[2*r+2*s]+=u*g,m(n,2*r+2*s),n[2*r+2*s+1]+=o*g,m(n,2*r+2*s+1),n[2*r+2*s+1]+=u*l,m(n,2*r+2*s+1),n[2*r+2*s+2]+=o*l,m(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new i(n,0)},t.A=function(t){return y(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)&t.i(r);return new i(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)|t.i(r);return new i(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)^t.i(r);return new i(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,u.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=a,i.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return p(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=c,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+o),n);8>o?(o=a(Math.pow(n,o)),i=i.j(o).add(a(u))):i=(i=i.j(r)).add(a(u))}return i},r=u.Integer=i}).apply(void 0!==c?c:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var l,h,d,f,p,g,m,v,y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t},n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof y&&y];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,r){if(r)t:{var i=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];if(!(o in i))break t;i=i[o]}(r=r(s=i[t=t[t.length-1]]))!=s&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(0,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(t,e){return e}))}}));var r=r||{},i=this||self;function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function c(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function u(t,e,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:c).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function b(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function E(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t,e){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(s(n)){const e=t.length||0,r=n.length||0;t.length=e+r;for(let i=0;i<r;i++)t[e+i]=n[i]}else t.push(n)}}function I(t){return/^[\s\xa0]*$/.test(t)}function S(){var t=i.navigator;return t&&(t=t.userAgent)?t:""}function C(t){return C[" "](t),t}C[" "]=function(){};var k=!(-1==S().indexOf("Gecko")||-1!=S().toLowerCase().indexOf("webkit")&&-1==S().indexOf("Edge")||-1!=S().indexOf("Trident")||-1!=S().indexOf("MSIE")||-1!=S().indexOf("Edge"));function A(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function x(t){const e={};for(const n in t)e[n]=t[n];return e}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(t,e){let n,r;for(let e=1;e<arguments.length;e++){for(n in r=arguments[e],r)t[n]=r[n];for(let e=0;e<O.length;e++)n=O[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function R(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function D(t){i.setTimeout((()=>{throw t}),0)}function N(){var t=V;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var L=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new M),(t=>t.reset()));class M{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let F,U=!1,V=new class{constructor(){this.h=this.g=null}add(t,e){const n=L.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const t=i.Promise.resolve(void 0);F=()=>{t.then(B)}};var B=()=>{for(var t;t=N();){try{t.h.call(t.g)}catch(t){D(t)}var e=L;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}U=!1};function z(){this.s=this.s,this.C=this.C}function q(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},q.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};i.addEventListener("test",t,e),i.removeEventListener("test",t,e)}catch(t){}return t}();function $(t,e){if(q.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(k){t:{try{C(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:G[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$.aa.h.call(this)}}b($,q);var G={2:"touch",3:"pen",4:"mouse"};$.prototype.h=function(){$.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),W=0;function X(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++W,this.da=this.fa=!1}function Y(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Q(t){this.src=t,this.g={},this.h=0}function J(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Array.prototype.indexOf.call(i,e,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Y(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Z(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.da&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}Q.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Z(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new X(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var tt="closure_lm_"+(1e6*Math.random()|0),et={};function nt(t,e,n,r,i){if(r&&r.once)return it(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)nt(t,e[s],n,r,i);return null}return n=ht(n),t&&t[K]?t.K(e,n,o(r)?!!r.capture:!!r,i):rt(t,e,n,!1,r,i)}function rt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,c=ut(t);if(c||(t[tt]=c=new Q(t)),(n=c.add(e,n,r,a,s)).proxy)return n;if(r=function(){const t=ct;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)H||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(at(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function it(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)it(t,e[s],n,r,i);return null}return n=ht(n),t&&t[K]?t.L(e,n,o(r)?!!r.capture:!!r,i):rt(t,e,n,!0,r,i)}function st(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)st(t,e[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=ht(n),t&&t[K]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Z(s=t.g[e],n,r,i))&&(Y(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=ut(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Z(e,n,r,i)),(n=-1<t?e[t]:null)&&ot(n))}function ot(t){if("number"!=typeof t&&t&&!t.da){var e=t.src;if(e&&e[K])J(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(at(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ut(e))?(J(n,t),0==n.h&&(n.src=null,e[tt]=null)):Y(t)}}}function at(t){return t in et?et[t]:et[t]="on"+t}function ct(t,e){if(t.da)t=!0;else{e=new $(e,this);var n=t.listener,r=t.ha||t.src;t.fa&&ot(t),t=n.call(r,e)}return t}function ut(t){return(t=t[tt])instanceof Q?t:null}var lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ht(t){return"function"==typeof t?t:(t[lt]||(t[lt]=function(e){return t.handleEvent(e)}),t[lt])}function dt(){z.call(this),this.i=new Q(this),this.M=this,this.F=null}function ft(t,e){var n,r=t.F;if(r)for(n=[];r;r=r.F)n.push(r);if(t=t.M,r=e.type||e,"string"==typeof e)e=new q(e,t);else if(e instanceof q)e.target=e.target||t;else{var i=e;P(e=new q(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=pt(o,r,!0,e)&&i}if(i=pt(o=e.g=t,r,!0,e)&&i,i=pt(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=pt(o=e.g=n[s],r,!1,e)&&i}function pt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.da&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.fa&&J(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function gt(t,e,n){if("function"==typeof t)n&&(t=u(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=u(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function mt(t){t.g=gt((()=>{t.g=null,t.i&&(t.i=!1,mt(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}b(dt,z),dt.prototype[K]=!0,dt.prototype.removeEventListener=function(t,e,n,r){st(this,t,e,n,r)},dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Y(n[r]);delete e.g[t],e.h--}}this.F=null},dt.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},dt.prototype.L=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};class vt extends z{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yt(t){z.call(this),this.h=t,this.g={}}b(yt,z);var _t=[];function wt(t){A(t.g,(function(t,e){this.g.hasOwnProperty(e)&&ot(t)}),t),t.g={}}yt.prototype.N=function(){yt.aa.N.call(this),wt(this)},yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bt=i.JSON.stringify,Et=i.JSON.parse,Tt=class{stringify(t){return i.JSON.stringify(t,void 0)}parse(t){return i.JSON.parse(t,void 0)}};function It(){}function St(t){return t.h||(t.h=t.i())}function Ct(){}It.prototype.h=null;var kt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function At(){q.call(this,"d")}function xt(){q.call(this,"c")}b(At,q),b(xt,q);var Ot={},Pt=null;function Rt(){return Pt=Pt||new dt}function Dt(t){q.call(this,Ot.La,t)}function Nt(t){const e=Rt();ft(e,new Dt(e))}function Lt(t,e){q.call(this,Ot.STAT_EVENT,t),this.stat=e}function Mt(t){const e=Rt();ft(e,new Lt(e,t))}function Ft(t,e){q.call(this,Ot.Ma,t),this.size=e}function Ut(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){t()}),e)}function Vt(){this.g=!0}function jt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return bt(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Ot.La="serverreachability",b(Dt,q),Ot.STAT_EVENT="statevent",b(Lt,q),Ot.Ma="timingevent",b(Ft,q),Vt.prototype.xa=function(){this.g=!1},Vt.prototype.info=function(){};var Bt,zt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ht(){}function $t(t,e,n,r){this.j=t,this.i=e,this.l=n,this.R=r||1,this.U=new yt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gt}function Gt(){this.i=null,this.g="",this.h=!1}b(Ht,It),Ht.prototype.g=function(){return new XMLHttpRequest},Ht.prototype.i=function(){return{}},Bt=new Ht;var Kt={},Wt={};function Xt(t,e,n){t.L=1,t.v=be(me(e)),t.m=n,t.P=!0,Yt(t,null)}function Yt(t,e){t.F=Date.now(),Zt(t),t.A=me(t.v);var n=t.A,r=t.R;Array.isArray(r)||(r=[String(r)]),Le(n.i,"t",r),t.C=0,n=t.j.J,t.h=new Gt,t.g=Tn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new vt(u(t.Y,t,t.g),t.O)),e=t.U,n=t.g,r=t.ca;var i="readystatechange";Array.isArray(i)||(i&&(_t[0]=i.toString()),i=_t);for(var s=0;s<i.length;s++){var o=nt(n,i[s],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?x(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Nt(),function(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function Qt(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.j.Ca}function Jt(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Wt:(n=Number(e.substring(n,r)),isNaN(n)?Kt:(r+=1)+n>e.length?Wt:(e=e.slice(r,r+n),t.C=r+n,e))}function Zt(t){t.S=Date.now()+t.I,te(t,t.I)}function te(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ut(u(t.ba,t),e)}function ee(t){t.B&&(i.clearTimeout(t.B),t.B=null)}function ne(t){0==t.j.G||t.J||yn(t.j,t)}function re(t){ee(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,wt(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function ie(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||ue(n.h,t)))if(!t.K&&ue(n.h,t)&&3==n.G){try{var r=n.Da.g.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;vn(n),an(n)}pn(n),Mt(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ut(u(n.Za,n),6e3));if(1>=ce(n.h)&&n.ca){try{n.ca()}catch(t){}n.ca=void 0}}else wn(n,11)}else if((t.K||n.g==t)&&vn(n),!I(e))for(i=n.Da.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const e=u[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(le(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.ya=t,we(r.I,r.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=t;if((r=n).qa=En(r,r.J?r.ia:null,r.W),o.K){he(r.h,o);var a=o,c=r.L;c&&(a.I=c),a.B&&(ee(a),Zt(a)),r.g=o}else fn(r);0<n.i.length&&un(n)}else"stop"!=u[0]&&"close"!=u[0]||wn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?wn(n,7):on(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Nt()}catch(t){}}$t.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==en(t)?e.j():this.Y(t)},$t.prototype.Y=function(t){try{if(t==this.g)t:{const d=en(this.g);var e=this.g.Ba();if(this.g.Z(),!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=d||7==e||Nt(),ee(this);var n=this.g.Z();this.X=n;e:if(Qt(this)){var r=nn(this.g);t="";var s=r.length,o=4==en(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){re(this),ne(this);var a="";break e}this.h.i=new i.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:!(o&&e==s-1)});r.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(c)){var l=c;break e}}l=null}if(!(n=l)){this.o=!1,this.s=3,Mt(12),re(this),ne(this);break t}jt(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ie(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<a.length;){if(t=Jt(this,a),t==Wt){4==d&&(this.s=4,Mt(14),n=!1),jt(this.i,this.l,null,"[Incomplete Response]");break}if(t==Kt){this.s=4,Mt(15),jt(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}jt(this.i,this.l,t,null),ie(this,t)}if(Qt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Mt(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),gn(h),h.M=!0,Mt(11))}}else jt(this.i,this.l,a,"[Invalid Chunked Response]"),re(this),ne(this)}else jt(this.i,this.l,a,null),ie(this,a);4==d&&re(this),this.o&&!this.J&&(4==d?yn(this.j,this):(this.o=!1,Zt(this)))}else(function(t){const e={};t=(t.g&&2<=en(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(I(t[r]))continue;var n=R(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),re(this),ne(this)}}}catch(t){}},$t.prototype.cancel=function(){this.J=!0,re(this)},$t.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(Nt(),Mt(17)),re(this),this.s=2,ne(this)):te(this,this.S-t)};var se=class{constructor(t,e){this.g=t,this.map=e}};function oe(t){this.l=t||10,t=i.PerformanceNavigationTiming?0<(t=i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ae(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ce(t){return t.h?1:t.g?t.g.size:0}function ue(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function le(t,e){t.g?t.g.add(e):t.h=e}function he(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function de(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return E(t.i)}function fe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(s(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}oe.prototype.cancel=function(){if(this.i=de(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var pe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ge(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof ge){this.h=t.h,ve(this,t.j),this.o=t.o,this.g=t.g,ye(this,t.s),this.l=t.l;var e=t.i,n=new Pe;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_e(this,n),this.m=t.m}else t&&(e=String(t).match(pe))?(this.h=!1,ve(this,e[1]||"",!0),this.o=Ee(e[2]||""),this.g=Ee(e[3]||"",!0),ye(this,e[4]),this.l=Ee(e[5]||"",!0),_e(this,e[6]||"",!0),this.m=Ee(e[7]||"")):(this.h=!1,this.i=new Pe(null,this.h))}function me(t){return new ge(t)}function ve(t,e,n){t.j=n?Ee(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ye(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function _e(t,e,n){e instanceof Pe?(t.i=e,function(t,e){e&&!t.j&&(Re(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(De(this,e),Le(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=Te(e,xe)),t.i=new Pe(e,t.h))}function we(t,e,n){t.i.set(e,n)}function be(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ee(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Te(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ie),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ie(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ge.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Te(e,Ce,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(Te(e,Ce,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Te(n,"/"==n.charAt(0)?Ae:ke,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",Te(n,Oe)),t.join("")};var Se,Ce=/[#\/\?@]/g,ke=/[#\?:]/g,Ae=/[#\?]/g,xe=/[#\?@]/g,Oe=/#/g;function Pe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Re(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function De(t,e){Re(t),e=Me(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ne(t,e){return Re(t),e=Me(t,e),t.g.has(e)}function Le(t,e,n){De(t,e),0<n.length&&(t.i=null,t.g.set(Me(t,e),E(n)),t.h+=n.length)}function Me(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Fe(t,e,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(t){}}function Ue(){this.g=new Tt}function Ve(t,e,n){const r=n||"";try{fe(t,(function(t,n){let i=t;o(t)&&(i=bt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function je(t){this.l=t.Ub||null,this.j=t.eb||!1}function Be(t,e){dt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function ze(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function qe(t){t.readyState=4,t.l=null,t.j=null,t.v=null,He(t)}function He(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function $e(t){let e="";return A(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Ge(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=$e(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):we(t,e,n))}function Ke(t){dt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Pe.prototype).add=function(t,e){Re(this),this.i=null,t=Me(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){Re(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},t.na=function(){Re(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},t.V=function(t){Re(this);let e=[];if("string"==typeof t)Ne(this,t)&&(e=e.concat(this.g.get(Me(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return Re(this),this.i=null,Ne(this,t=Me(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")},b(je,It),je.prototype.g=function(){return new Be(this.l,this.j)},je.prototype.i=(Se={},function(){return Se}),b(Be,dt),(t=Be.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,He(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||i).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qe(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,He(this)),this.g&&(this.readyState=3,He(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ze(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qe(this):He(this),3==this.readyState&&ze(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,qe(this))},t.Qa=function(t){this.g&&(this.response=t,qe(this))},t.ga=function(){this.g&&qe(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Be.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),b(Ke,dt);var We=/^https?$/i,Xe=["POST","PUT"];function Ye(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,Qe(t),Ze(t)}function Qe(t){t.A||(t.A=!0,ft(t,"complete"),ft(t,"error"))}function Je(t){if(t.h&&void 0!==r&&(!t.v[1]||4!=en(t)||2!=t.Z()))if(t.u&&4==en(t))gt(t.Ea,0,t);else if(ft(t,"readystatechange"),4==en(t)){t.h=!1;try{const r=t.Z();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=0===r){var o=String(t.D).match(pe)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!We.test(o?o.toLowerCase():"")}n=s}if(n)ft(t,"complete"),ft(t,"success");else{t.m=6;try{var a=2<en(t)?t.g.statusText:""}catch(t){a=""}t.l=a+" ["+t.Z()+"]",Qe(t)}}finally{Ze(t)}}}function Ze(t,e){if(t.g){tn(t);const n=t.g,r=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||ft(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function tn(t){t.I&&(i.clearTimeout(t.I),t.I=null)}function en(t){return t.g?t.g.readyState:0}function nn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sn(t){this.Aa=0,this.i=[],this.j=new Vt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,t),this.cb=rn("retryDelaySeedMs",1e4,t),this.Wa=rn("forwardChannelMaxRetries",2,t),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new oe(t&&t.concurrentRequestLimit),this.Da=new Ue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function on(t){if(cn(t),3==t.G){var e=t.U++,n=me(t.I);if(we(n,"SID",t.K),we(n,"RID",e),we(n,"TYPE","terminate"),hn(t,n),(e=new $t(t,t.j,e)).L=2,e.v=be(me(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(e.v.toString(),"")}catch(t){}!n&&i.Image&&((new Image).src=e.v,n=!0),n||(e.g=Tn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Zt(e)}bn(t)}function an(t){t.g&&(gn(t),t.g.cancel(),t.g=null)}function cn(t){an(t),t.u&&(i.clearTimeout(t.u),t.u=null),vn(t),t.h.cancel(),t.s&&("number"==typeof t.s&&i.clearTimeout(t.s),t.s=null)}function un(t){if(!ae(t.h)&&!t.s){t.s=!0;var e=t.Ga;F||j(),U||(F(),U=!0),V.add(e,t),t.B=0}}function ln(t,e){var n;n=e?e.l:t.U++;const r=me(t.I);we(r,"SID",t.K),we(r,"RID",n),we(r,"AID",t.T),hn(t,r),t.m&&t.o&&Ge(r,t.m,t.o),n=new $t(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=dn(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),le(t.h,n),Xt(n,r,e)}function hn(t,e){t.H&&A(t.H,(function(t,n){we(e,n,t)})),t.l&&fe({},(function(t,n){we(e,n,t)}))}function dn(t,e,n){n=Math.min(t.i.length,n);var r=t.l?u(t.l.Na,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=e,0>n)e=Math.max(0,i[o].g-100),s=!1;else try{Ve(a,t,"req"+n+"_")}catch(t){r&&r(a)}}if(s){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function fn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;F||j(),U||(F(),U=!0),V.add(e,t),t.v=0}}function pn(t){return!(t.g||t.u||3<=t.v||(t.Y++,t.u=Ut(u(t.Fa,t),_n(t,t.v)),t.v++,0))}function gn(t){null!=t.A&&(i.clearTimeout(t.A),t.A=null)}function mn(t){t.g=new $t(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=me(t.qa);we(e,"RID","rpc"),we(e,"SID",t.K),we(e,"AID",t.T),we(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&we(e,"TO",t.ja),we(e,"TYPE","xmlhttp"),hn(t,e),t.m&&t.o&&Ge(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=be(me(e)),n.m=null,n.P=!0,Yt(n,t)}function vn(t){null!=t.C&&(i.clearTimeout(t.C),t.C=null)}function yn(t,e){var n=null;if(t.g==e){vn(t),gn(t),t.g=null;var r=2}else{if(!ue(t.h,e))return;n=e.D,he(t.h,e),r=1}if(0!=t.G)if(e.o)if(1==r){n=e.m?e.m.length:0,e=Date.now()-e.F;var i=t.B;ft(r=Rt(),new Ft(r,n)),un(t)}else fn(t);else if(3==(i=e.s)||0==i&&0<e.X||!(1==r&&function(t,e){return!(ce(t.h)>=t.h.j-(t.s?1:0)||(t.s?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa)||(t.s=Ut(u(t.Ga,t,e),_n(t,t.B)),t.B++,0)))}(t,e)||2==r&&pn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:wn(t,5);break;case 4:wn(t,10);break;case 3:wn(t,6);break;default:wn(t,2)}}function _n(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function wn(t,e){if(t.j.info("Error code "+e),2==e){var n=u(t.fb,t),r=t.Xa;const e=!r;r=new ge(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ve(r,"https"),be(r),e?function(t,e){const n=new Vt;if(i.Image){const r=new Image;r.onload=w(Fe,n,"TestLoadImage: loaded",!0,e,r),r.onerror=w(Fe,n,"TestLoadImage: error",!1,e,r),r.onabort=w(Fe,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=w(Fe,n,"TestLoadImage: timeout",!1,e,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(r.toString(),n):function(t,e){new Vt;const n=new AbortController,r=setTimeout((()=>{n.abort(),Fe(0,0,!1,e)}),1e4);fetch(t,{signal:n.signal}).then((t=>{clearTimeout(r),t.ok?Fe(0,0,!0,e):Fe(0,0,!1,e)})).catch((()=>{clearTimeout(r),Fe(0,0,!1,e)}))}(r.toString(),n)}else Mt(2);t.G=0,t.l&&t.l.sa(e),bn(t),cn(t)}function bn(t){if(t.G=0,t.ka=[],t.l){const e=de(t.h);0==e.length&&0==t.i.length||(T(t.ka,e),T(t.ka,t.i),t.h.i.length=0,E(t.i),t.i.length=0),t.l.ra()}}function En(t,e,n){var r=n instanceof ge?me(n):new ge(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ye(r,r.s);else{var s=i.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new ge(null);r&&ve(o,r),e&&(o.g=e),s&&ye(o,s),n&&(o.l=n),r=o}return n=t.D,e=t.ya,n&&e&&we(r,n,e),we(r,"VER",t.la),hn(t,r),r}function Tn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new Ke(new je({eb:n})):new Ke(t.pa)).Ha(t.J),e}function In(){}function Sn(){}function Cn(t,e){dt.call(this),this.g=new sn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!I(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new xn(this)}function kn(t){At.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function An(){xt.call(this),this.status=1}function xn(t){this.g=t}(t=Ke.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bt.g(),this.v=this.o?St(this.o):St(Bt),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(t){return void Ye(this,t)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),s=i.FormData&&t instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Xe,e,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of n)this.g.setRequestHeader(t,e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tn(this),this.u=!0,this.g.send(t),this.u=!1}catch(t){Ye(this,t)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,ft(this,"complete"),ft(this,"abort"),Ze(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ze(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Je(this):this.bb())},t.bb=function(){Je(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<en(this)?this.g.status:-1}catch(t){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Et(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=sn.prototype).la=8,t.G=1,t.connect=function(t,e,n,r){Mt(0),this.W=t,this.H=e||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=En(this,null,this.W),un(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new $t(this,this.j,t);let s=this.o;if(this.S&&(s?(s=x(s),P(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=dn(this,i,e),we(n=me(this.I),"RID",t),we(n,"CVER",22),this.D&&we(n,"X-HTTP-Session-Id",this.D),hn(this,n),s&&(this.O?e="headers="+encodeURIComponent(String($e(s)))+"&"+e:this.m&&Ge(n,this.m,s)),le(this.h,i),this.Ua&&we(n,"TYPE","init"),this.P?(we(n,"$req",e),we(n,"SID","null"),i.T=!0,Xt(i,n,null)):Xt(i,n,e),this.G=2}}else 3==this.G&&(t?ln(this,t):0==this.i.length||ae(this.h)||ln(this))},t.Fa=function(){if(this.u=null,mn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Ut(u(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),an(this),mn(this))},t.Za=function(){null!=this.C&&(this.C=null,an(this),pn(this),Mt(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=In.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},Sn.prototype.g=function(t,e){return new Cn(t,e)},b(Cn,dt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){on(this.g)},Cn.prototype.o=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=bt(t),t=n);e.i.push(new se(e.Ya++,t)),3==e.G&&un(e)},Cn.prototype.N=function(){this.g.l=null,delete this.j,on(this.g),delete this.g,Cn.aa.N.call(this)},b(kn,At),b(An,xt),b(xn,In),xn.prototype.ua=function(){ft(this.g,"a")},xn.prototype.ta=function(t){ft(this.g,new kn(t))},xn.prototype.sa=function(t){ft(this.g,new An)},xn.prototype.ra=function(){ft(this.g,"b")},Sn.prototype.createWebChannel=Sn.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,v=_.createWebChannelTransport=function(){return new Sn},m=_.getStatEventTarget=function(){return Rt()},g=_.Event=Ot,p=_.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zt.NO_ERROR=0,zt.TIMEOUT=8,zt.HTTP_ERROR=6,f=_.ErrorCode=zt,qt.COMPLETE="complete",d=_.EventType=qt,Ct.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",dt.prototype.listen=dt.prototype.K,h=_.WebChannel=Ct,_.FetchXmlHttpFactory=je,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,l=_.XhrIo=Ke}).apply(void 0!==y?y:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const w="@firebase/firestore",b="4.7.10";class E{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}E.UNAUTHENTICATED=new E(null),E.GOOGLE_CREDENTIALS=new E("google-credentials-uid"),E.FIRST_PARTY=new E("first-party-uid"),E.MOCK_USER=new E("mock-user");let T="11.5.0";const I=new o.Vy("@firebase/firestore");function S(){return I.logLevel}function C(t,...e){if(I.logLevel<=o.$b.DEBUG){const n=e.map(x);I.debug(`Firestore (${T}): ${t}`,...n)}}function k(t,...e){if(I.logLevel<=o.$b.ERROR){const n=e.map(x);I.error(`Firestore (${T}): ${t}`,...n)}}function A(t,...e){if(I.logLevel<=o.$b.WARN){const n=e.map(x);I.warn(`Firestore (${T}): ${t}`,...n)}}function x(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${T}) INTERNAL ASSERTION FAILED: `+t;throw k(e),new Error(e)}function P(t,e){t||O()}function R(t,e){return t}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends a.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class L{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class M{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(E.UNAUTHENTICATED)))}shutdown(){}}class U{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class V{constructor(t){this.t=t,this.currentUser=E.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){P(void 0===this.o);let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new L;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new L,t.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},o=t=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new L)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(P("string"==typeof e.accessToken),new M(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return P(null===t||"string"==typeof t),new E(t)}}class j{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=E.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class B{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new j(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(E.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,(0,i.xZ)(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){P(void 0===this.o);const n=t=>{null!=t.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.R;return this.R=t.token,C("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new z(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(P("string"==typeof t.token),this.R=t.token,new z(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function H(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}class ${static newId(){const t=62*Math.floor(256/62);let e="";for(;e.length<20;){const n=H(40);for(let r=0;r<n.length;++r)e.length<20&&n[r]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return e}}function G(t,e){return t<e?-1:t>e?1:0}function K(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return G(r,i);{const s=new TextEncoder,o=X(s.encode(W(t,n)),s.encode(W(e,n)));return 0!==o?o:G(r,i)}}n+=r>65535?2:1}return G(t.length,e.length)}function W(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function X(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return G(t[n],e[n]);return G(t.length,e.length)}function Y(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}const Q=-62135596800,J=1e6;class Z{static now(){return Z.fromMillis(Date.now())}static fromDate(t){return Z.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*J);return new Z(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new N(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new N(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Q)throw new N(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new N(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J}_compareTo(t){return this.seconds===t.seconds?G(this.nanoseconds,t.nanoseconds):G(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Q;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class tt{static fromTimestamp(t){return new tt(t)}static min(){return new tt(new Z(0,0))}static max(){return new tt(new Z(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const et="__name__";class nt{constructor(t,e,n){void 0===e?e=0:e>t.length&&O(),void 0===n?n=t.length-e:n>t.length-e&&O(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===nt.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof nt?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=nt.compareSegments(t.get(r),e.get(r));if(0!==n)return n}return G(t.length,e.length)}static compareSegments(t,e){const n=nt.isNumericId(t),r=nt.isNumericId(e);return n&&!r?-1:!n&&r?1:n&&r?nt.extractNumericId(t).compare(nt.extractNumericId(e)):K(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return r.fromString(t.substring(4,t.length-2))}}class rt extends nt{construct(t,e,n){return new rt(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new N(D.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new rt(e)}static emptyPath(){return new rt([])}}const it=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends nt{construct(t,e,n){return new st(t,e,n)}static isValidIdentifier(t){return it.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===et}static keyField(){return new st([et])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new N(D.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new N(D.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new N(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new N(D.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new st(e)}static emptyPath(){return new st([])}}class ot{constructor(t){this.path=t}static fromPath(t){return new ot(rt.fromString(t))}static fromName(t){return new ot(rt.fromString(t).popFirst(5))}static empty(){return new ot(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===rt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return rt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ot(new rt(t.slice()))}}function at(t){return new ct(t.readTime,t.key,-1)}class ct{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new ct(tt.min(),ot.empty(),-1)}static max(){return new ct(tt.max(),ot.empty(),-1)}}function ut(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ot.comparator(t.documentKey,e.documentKey),0!==n?n:G(t.largestBatchId,e.largestBatchId))}const lt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ht{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function dt(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==lt)throw t;C("LocalStore","Unexpectedly lost primary lease")}class ft{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ft(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ft?e:ft.resolve(e)}catch(t){return ft.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ft.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ft.reject(e)}static resolve(t){return new ft(((e,n)=>{e(t)}))}static reject(t){return new ft(((e,n)=>{n(t)}))}static waitFor(t){return new ft(((e,n)=>{let r=0,i=0,s=!1;t.forEach((t=>{++r,t.next((()=>{++i,s&&i===r&&e()}),(t=>n(t)))})),s=!0,i===r&&e()}))}static or(t){let e=ft.resolve(!1);for(const n of t)e=e.next((t=>t?ft.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new ft(((n,r)=>{const i=t.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;e(t[c]).next((t=>{s[c]=t,++o,o===i&&n(s)}),(t=>r(t)))}}))}static doWhile(t,e){return new ft(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function pt(t){return"IndexedDbTransactionError"===t.name}class gt{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.oe(t),this._e=t=>e.writeSequenceNumber(t))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}gt.ae=-1;const mt=-1;function vt(t){return null==t}function yt(t){return 0===t&&1/t==-1/0}function _t(t,e){let n=e;const r=t.length;for(let e=0;e<r;e++){const r=t.charAt(e);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function wt(t){return t+""}const bt="owner",Et="mutationQueues",Tt="mutations",It="documentMutations",St="remoteDocumentGlobal",Ct="targets",kt="targetDocuments",At="targetGlobal",xt="collectionParents",Ot="clientMetadata",Pt="bundles",Rt="namedQueries";function Dt(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nt(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lt(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Mt{constructor(t,e){this.comparator=t,this.root=e||Ut.EMPTY}insert(t,e){return new Mt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(t){return new Mt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ft(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ft(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ft(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ft(this.root,t,this.comparator,!0)}}class Ft{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ut{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Ut.RED,this.left=null!=r?r:Ut.EMPTY,this.right=null!=i?i:Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Ut(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ut.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw O();if(this.right.isRed())throw O();const t=this.left.check();if(t!==this.right.check())throw O();return t+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1,Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ut(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(t){this.comparator=t,this.data=new Mt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new jt(this.data.getIterator())}getIteratorFrom(t){return new jt(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Vt))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Vt(this.comparator);return e.data=t,e}}class jt{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bt{constructor(t){this.fields=t,t.sort(st.comparator)}static empty(){return new Bt([])}unionWith(t){let e=new Vt(st.comparator);for(const t of this.fields)e=e.add(t);for(const n of t)e=e.add(n);return new Bt(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Y(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class zt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qt{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new zt("Invalid base64 string: "+t):t}}(t);return new qt(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new qt(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return G(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const Ht=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $t(t){if(P(!!t),"string"==typeof t){let e=0;const n=Ht.exec(t);if(P(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Kt(t){return"string"==typeof t?qt.fromBase64String(t):qt.fromUint8Array(t)}const Wt="server_timestamp",Xt="__type__",Yt="__previous_value__",Qt="__local_write_time__";function Jt(t){var e,n;return(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{})[Xt])||void 0===n?void 0:n.stringValue)===Wt}function Zt(t){const e=t.mapValue.fields[Yt];return Jt(e)?Zt(e):e}function te(t){const e=$t(t.mapValue.fields[Qt].timestampValue);return new Z(e.seconds,e.nanos)}class ee{constructor(t,e,n,r,i,s,o,a,c){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}const ne="(default)";class re{constructor(t,e){this.projectId=t,this.database=e||ne}static empty(){return new re("","")}get isDefaultDatabase(){return this.database===ne}isEqual(t){return t instanceof re&&t.projectId===this.projectId&&t.database===this.database}}const ie="__type__",se="__max__",oe={fields:{__type__:{stringValue:se}}},ae="__vector__",ce="value";function ue(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jt(t)?4:Te(t)?9007199254740991:be(t)?10:11:O()}function le(t,e){if(t===e)return!0;const n=ue(t);if(n!==ue(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return te(t).isEqual(te(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=$t(t.timestampValue),r=$t(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Kt(t.bytesValue).isEqual(Kt(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Gt(t.geoPointValue.latitude)===Gt(e.geoPointValue.latitude)&&Gt(t.geoPointValue.longitude)===Gt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Gt(t.integerValue)===Gt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Gt(t.doubleValue),r=Gt(e.doubleValue);return n===r?yt(n)===yt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Y(t.arrayValue.values||[],e.arrayValue.values||[],le);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Dt(n)!==Dt(r))return!1;for(const t in n)if(n.hasOwnProperty(t)&&(void 0===r[t]||!le(n[t],r[t])))return!1;return!0}(t,e);default:return O()}}function he(t,e){return void 0!==(t.values||[]).find((t=>le(t,e)))}function de(t,e){if(t===e)return 0;const n=ue(t),r=ue(e);if(n!==r)return G(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return G(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Gt(t.integerValue||t.doubleValue),r=Gt(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fe(t.timestampValue,e.timestampValue);case 4:return fe(te(t),te(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Kt(t),r=Kt(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let t=0;t<n.length&&t<r.length;t++){const e=G(n[t],r[t]);if(0!==e)return e}return G(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=G(Gt(t.latitude),Gt(e.latitude));return 0!==n?n:G(Gt(t.longitude),Gt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pe(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n,r,i,s;const o=t.fields||{},a=e.fields||{},c=null===(n=o[ce])||void 0===n?void 0:n.arrayValue,u=null===(r=a[ce])||void 0===r?void 0:r.arrayValue,l=G((null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==l?l:pe(c,u)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===oe&&e===oe)return 0;if(t===oe)return 1;if(e===oe)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let t=0;t<r.length&&t<s.length;++t){const e=K(r[t],s[t]);if(0!==e)return e;const o=de(n[r[t]],i[s[t]]);if(0!==o)return o}return G(r.length,s.length)}(t.mapValue,e.mapValue);default:throw O()}}function fe(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return G(t,e);const n=$t(t),r=$t(e),i=G(n.seconds,r.seconds);return 0!==i?i:G(n.nanos,r.nanos)}function pe(t,e){const n=t.values||[],r=e.values||[];for(let t=0;t<n.length&&t<r.length;++t){const e=de(n[t],r[t]);if(e)return e}return G(n.length,r.length)}function ge(t){return me(t)}function me(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=$t(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return Kt(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return ot.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=me(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${me(t.fields[i])}`;return n+"}"}(t.mapValue):O()}function ve(t){switch(ue(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zt(t);return e?16+ve(e):16;case 5:return 2*t.stringValue.length;case 6:return Kt(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce(((t,e)=>t+ve(e)),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return Nt(t.fields,((t,n)=>{e+=t.length+ve(n)})),e}(t.mapValue);default:throw O()}}function ye(t){return!!t&&"integerValue"in t}function _e(t){return!!t&&"arrayValue"in t}function we(t){return!!t&&"mapValue"in t}function be(t){var e,n;return(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{})[ie])||void 0===n?void 0:n.stringValue)===ae}function Ee(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Nt(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ee(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ee(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Te(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===se}class Ie{constructor(t){this.value=t}static empty(){return new Ie({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!we(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ee(e)}setAll(t){let e=st.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Ee(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());we(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return le(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];we(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Nt(e,((e,n)=>t[e]=n));for(const e of n)delete t[e]}clone(){return new Ie(Ee(this.value))}}function Se(t){const e=[];return Nt(t.fields,((t,n)=>{const r=new st([t]);if(we(n)){const t=Se(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new Bt(e)}class Ce{constructor(t,e,n,r,i,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Ce(t,0,tt.min(),tt.min(),tt.min(),Ie.empty(),0)}static newFoundDocument(t,e,n,r){return new Ce(t,1,e,tt.min(),n,r,0)}static newNoDocument(t,e){return new Ce(t,2,e,tt.min(),tt.min(),Ie.empty(),0)}static newUnknownDocument(t,e){return new Ce(t,3,e,tt.min(),tt.min(),Ie.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(tt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ie.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ie.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ce&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ce(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ke{constructor(t,e){this.position=t,this.inclusive=e}}function Ae(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ot.comparator(ot.fromName(o.referenceValue),n.key):de(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function xe(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!le(t.position[n],e.position[n]))return!1;return!0}class Oe{constructor(t,e="asc"){this.field=t,this.dir=e}}function Pe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Re{}class De extends Re{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new je(t,e,n):"array-contains"===e?new He(t,n):"in"===e?new $e(t,n):"not-in"===e?new Ge(t,n):"array-contains-any"===e?new Ke(t,n):new De(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Be(t,n):new ze(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(de(e,this.value)):null!==e&&ue(this.value)===ue(e)&&this.matchesComparison(de(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ne extends Re{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new Ne(t,e)}matches(t){return Le(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Le(t){return"and"===t.op}function Me(t){return function(t){for(const e of t.filters)if(e instanceof Ne)return!1;return!0}(t)&&Le(t)}function Fe(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+ge(t.value);if(Me(t))return t.filters.map((t=>Fe(t))).join(",");{const e=t.filters.map((t=>Fe(t))).join(",");return`${t.op}(${e})`}}function Ue(t,e){return t instanceof De?function(t,e){return e instanceof De&&t.op===e.op&&t.field.isEqual(e.field)&&le(t.value,e.value)}(t,e):t instanceof Ne?function(t,e){return e instanceof Ne&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&Ue(n,e.filters[r])),!0)}(t,e):void O()}function Ve(t){return t instanceof De?function(t){return`${t.field.canonicalString()} ${t.op} ${ge(t.value)}`}(t):t instanceof Ne?function(t){return t.op.toString()+" {"+t.getFilters().map(Ve).join(" ,")+"}"}(t):"Filter"}class je extends De{constructor(t,e,n){super(t,e,n),this.key=ot.fromName(n.referenceValue)}matches(t){const e=ot.comparator(t.key,this.key);return this.matchesComparison(e)}}class Be extends De{constructor(t,e){super(t,"in",e),this.keys=qe(0,e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class ze extends De{constructor(t,e){super(t,"not-in",e),this.keys=qe(0,e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function qe(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>ot.fromName(t.referenceValue)))}class He extends De{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return _e(e)&&he(e.arrayValue,this.value)}}class $e extends De{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&he(this.value.arrayValue,e)}}class Ge extends De{constructor(t,e){super(t,"not-in",e)}matches(t){if(he(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!he(this.value.arrayValue,e)}}class Ke extends De{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!_e(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>he(this.value.arrayValue,t)))}}class We{constructor(t,e=null,n=[],r=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.le=null}}function Xe(t,e=null,n=[],r=[],i=null,s=null,o=null){return new We(t,e,n,r,i,s,o)}function Ye(t){const e=R(t);if(null===e.le){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Fe(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),vt(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>ge(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>ge(t))).join(",")),e.le=t}return e.le}function Qe(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ue(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xe(t.startAt,e.startAt)&&xe(t.endAt,e.endAt)}class Je{constructor(t,e=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Ze(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function tn(t){const e=R(t);if(null===e.he){e.he=[];const t=new Set;for(const n of e.explicitOrderBy)e.he.push(n),t.add(n.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",r=function(t){let e=new Vt(st.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);r.forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.he.push(new Oe(r,n))})),t.has(st.keyField().canonicalString())||e.he.push(new Oe(st.keyField(),n))}return e.he}function en(t){const e=R(t);return e.Pe||(e.Pe=function(t,e){if("F"===t.limitType)return Xe(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new Oe(t.field,e)}));const n=t.endAt?new ke(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ke(t.startAt.position,t.startAt.inclusive):null;return Xe(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,tn(t))),e.Pe}function nn(t,e,n){return new Je(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rn(t,e){return Qe(en(t),en(e))&&t.limitType===e.limitType}function sn(t){return`${Ye(en(t))}|lt:${t.limitType}`}function on(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>Ve(t))).join(", ")}]`),vt(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>ge(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>ge(t))).join(",")),`Target(${e})`}(en(t))}; limitType=${t.limitType})`}function an(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ot.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of tn(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=Ae(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,tn(t),e)||t.endAt&&!function(t,e,n){const r=Ae(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,tn(t),e))}(t,e)}function cn(t,e,n){const r=t.field.isKeyField()?ot.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?de(r,i):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class un{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[e,r]of n)if(this.equalsFn(e,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Nt(this.inner,((e,n)=>{for(const[e,r]of n)t(e,r)}))}isEmpty(){return Lt(this.inner)}size(){return this.innerSize}}const ln=new Mt(ot.comparator);function hn(){return ln}const dn=new Mt(ot.comparator);function fn(...t){let e=dn;for(const n of t)e=e.insert(n.key,n);return e}function pn(t){let e=dn;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function gn(){return vn()}function mn(){return vn()}function vn(){return new un((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yn=new Mt(ot.comparator),_n=new Vt(ot.comparator);function wn(...t){let e=_n;for(const n of t)e=e.add(n);return e}const bn=new Vt(G);function En(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yt(e)?"-0":e}}function Tn(t){return{integerValue:""+t}}function In(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!yt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?Tn(e):En(t,e)}class Sn{constructor(){this._=void 0}}function Cn(t,e,n){return t instanceof xn?function(t,e){const n={fields:{[Xt]:{stringValue:Wt},[Qt]:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&Jt(e)&&(e=Zt(e)),e&&(n.fields[Yt]=e),{mapValue:n}}(n,e):t instanceof On?Pn(t,e):t instanceof Rn?Dn(t,e):function(t,e){const n=An(t,e),r=Ln(n)+Ln(t.Ie);return ye(n)&&ye(t.Ie)?Tn(r):En(t.serializer,r)}(t,e)}function kn(t,e,n){return t instanceof On?Pn(t,e):t instanceof Rn?Dn(t,e):n}function An(t,e){return t instanceof Nn?function(t){return ye(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class xn extends Sn{}class On extends Sn{constructor(t){super(),this.elements=t}}function Pn(t,e){const n=Mn(e);for(const e of t.elements)n.some((t=>le(t,e)))||n.push(e);return{arrayValue:{values:n}}}class Rn extends Sn{constructor(t){super(),this.elements=t}}function Dn(t,e){let n=Mn(e);for(const e of t.elements)n=n.filter((t=>!le(t,e)));return{arrayValue:{values:n}}}class Nn extends Sn{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function Ln(t){return Gt(t.integerValue||t.doubleValue)}function Mn(t){return _e(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Fn{constructor(t,e){this.field=t,this.transform=e}}class Un{constructor(t,e){this.version=t,this.transformResults=e}}class Vn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Vn}static exists(t){return new Vn(void 0,t)}static updateTime(t){return new Vn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jn(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Bn{}function zn(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Jn(t.key,Vn.none()):new Kn(t.key,t.data,Vn.none());{const n=t.data,r=Ie.empty();let i=new Vt(st.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new Wn(t.key,r,new Bt(i.toArray()),Vn.none())}}function qn(t,e,n){t instanceof Kn?function(t,e,n){const r=t.value.clone(),i=Yn(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Wn?function(t,e,n){if(!jn(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Yn(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Xn(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Hn(t,e,n,r){return t instanceof Kn?function(t,e,n,r){if(!jn(t.precondition,e))return n;const i=t.value.clone(),s=Qn(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wn?function(t,e,n,r){if(!jn(t.precondition,e))return n;const i=Qn(t.fieldTransforms,r,e),s=e.data;return s.setAll(Xn(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return jn(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function $n(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=An(r.transform,t||null);null!=i&&(null===n&&(n=Ie.empty()),n.set(r.field,i))}return n||null}function Gn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Y(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof On&&e instanceof On||t instanceof Rn&&e instanceof Rn?Y(t.elements,e.elements,le):t instanceof Nn&&e instanceof Nn?le(t.Ie,e.Ie):t instanceof xn&&e instanceof xn}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kn extends Bn{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wn extends Bn{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Xn(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Yn(t,e,n){const r=new Map;P(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,kn(o,a,n[i]))}return r}function Qn(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,Cn(t,s,e))}return r}class Jn extends Bn{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zn extends Bn{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tr{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const r=this.mutations[e];r.key.isEqual(t.key)&&qn(r,t,n[e])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Hn(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Hn(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=mn();return this.mutations.forEach((r=>{const i=t.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=e.has(r.key)?null:o;const a=zn(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(tt.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),wn())}isEqual(t){return this.batchId===t.batchId&&Y(this.mutations,t.mutations,((t,e)=>Gn(t,e)))&&Y(this.baseMutations,t.baseMutations,((t,e)=>Gn(t,e)))}}class er{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){P(t.mutations.length===n.length);let r=yn;const i=t.mutations;for(let t=0;t<i.length;t++)r=r.insert(i[t].key,n[t].version);return new er(t,e,n,r)}}class nr{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}var rr,ir;(ir=rr||(rr={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS",new r([4294967295,4294967295],0),Error;class sr{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function or(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ar(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cr(t,e){return or(t,e.toTimestamp())}function ur(t){return P(!!t),tt.fromTimestamp(function(t){const e=$t(t);return new Z(e.seconds,e.nanos)}(t))}function lr(t,e){return hr(t,e).canonicalString()}function hr(t,e){const n=function(t){return new rt(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function dr(t,e){return lr(t.databaseId,e.path)}function fr(t){const e=function(t){const e=rt.fromString(t);return P(function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}(e)),e}(t);return 4===e.length?rt.emptyPath():function(t){return P(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}(e)}function pr(t,e,n){return{name:dr(t,e),fields:n.value.mapValue.fields}}function gr(t){let e=fr(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){P(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=mr(t);return e instanceof Ne&&Me(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map((t=>function(t){return new Oe(vr(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,vt(e)?null:e}(n.limit));let c=null;n.startAt&&(c=function(t){const e=!!t.before,n=t.values||[];return new ke(n,e)}(n.startAt));let u=null;return n.endAt&&(u=function(t){const e=!t.before,n=t.values||[];return new ke(n,e)}(n.endAt)),function(t,e,n,r,i,s,o,a){return new Je(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function mr(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=vr(t.unaryFilter.field);return De.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=vr(t.unaryFilter.field);return De.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vr(t.unaryFilter.field);return De.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vr(t.unaryFilter.field);return De.create(i,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?function(t){return De.create(vr(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Ne.create(t.compositeFilter.filters.map((t=>mr(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return O()}}(t.compositeFilter.op))}(t):O()}function vr(t){return st.fromServerFormat(t.fieldPath)}function yr(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}class _r{constructor(t){this.Tt=t}}function wr(t){const e=gr({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?nn(e,e.limit,"L"):e}class br{constructor(){}At(t,e){this.Rt(t,e),e.Vt()}Rt(t,e){if("nullValue"in t)this.ft(e,5);else if("booleanValue"in t)this.ft(e,10),e.gt(t.booleanValue?1:0);else if("integerValue"in t)this.ft(e,15),e.gt(Gt(t.integerValue));else if("doubleValue"in t){const n=Gt(t.doubleValue);isNaN(n)?this.ft(e,13):(this.ft(e,15),yt(n)?e.gt(0):e.gt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.ft(e,20),"string"==typeof n&&(n=$t(n)),e.yt(`${n.seconds||""}`),e.gt(n.nanos||0)}else if("stringValue"in t)this.wt(t.stringValue,e),this.St(e);else if("bytesValue"in t)this.ft(e,30),e.bt(Kt(t.bytesValue)),this.St(e);else if("referenceValue"in t)this.Dt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ft(e,45),e.gt(n.latitude||0),e.gt(n.longitude||0)}else"mapValue"in t?Te(t)?this.ft(e,Number.MAX_SAFE_INTEGER):be(t)?this.vt(t.mapValue,e):(this.Ct(t.mapValue,e),this.St(e)):"arrayValue"in t?(this.Ft(t.arrayValue,e),this.St(e)):O()}wt(t,e){this.ft(e,25),this.Mt(t,e)}Mt(t,e){e.yt(t)}Ct(t,e){const n=t.fields||{};this.ft(e,55);for(const t of Object.keys(n))this.wt(t,e),this.Rt(n[t],e)}vt(t,e){var n,r;const i=t.fields||{};this.ft(e,53);const s=ce,o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(e,15),e.gt(Gt(o)),this.wt(s,e),this.Rt(i[s],e)}Ft(t,e){const n=t.values||[];this.ft(e,50);for(const t of n)this.Rt(t,e)}Dt(t,e){this.ft(e,37),ot.fromName(t).path.forEach((t=>{this.ft(e,60),this.Mt(t,e)}))}ft(t,e){t.gt(e)}St(t){t.gt(2)}}br.xt=new br;class Er{constructor(){this.Tn=new Tr}addToCollectionParentIndex(t,e){return this.Tn.add(e),ft.resolve()}getCollectionParents(t,e){return ft.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return ft.resolve()}deleteFieldIndex(t,e){return ft.resolve()}deleteAllFieldIndexes(t){return ft.resolve()}createTargetIndexes(t,e){return ft.resolve()}getDocumentsMatchingTarget(t,e){return ft.resolve(null)}getIndexType(t,e){return ft.resolve(0)}getFieldIndexes(t,e){return ft.resolve([])}getNextCollectionGroupToUpdate(t){return ft.resolve(null)}getMinOffset(t,e){return ft.resolve(ct.min())}getMinOffsetFromCollectionGroup(t,e){return ft.resolve(ct.min())}updateCollectionGroup(t,e,n){return ft.resolve()}updateIndexEntries(t,e){return ft.resolve()}}class Tr{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Vt(rt.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Vt(rt.comparator)).toArray()}}new Uint8Array(0);const Ir={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sr=41943040;class Cr{static withCacheSize(t){return new Cr(t,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(Sr,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);class kr{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new kr(0)}static Kn(){return new kr(-1)}}const Ar="LruGarbageCollector";function xr([t,e],[n,r]){const i=G(t,n);return 0===i?G(e,r):i}class Or{constructor(t){this.Hn=t,this.buffer=new Vt(xr),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();xr(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Pr{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(t){C(Ar,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pt(t)?C(Ar,"Ignoring IndexedDB error during garbage collection: ",t):await dt(t)}await this.er(3e5)}))}}class Rr{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return ft.resolve(gt.ae);const n=new Or(e);return this.tr.forEachTarget(t,(t=>n.Zn(t.sequenceNumber))).next((()=>this.tr.rr(t,(t=>n.Zn(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.tr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(Ir)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ir):this.ir(t,e)))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let n,r,i,s,a,c,u;const l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(C("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),this.nthSequenceNumber(t,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(t,n,e)))).next((e=>(i=e,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(u=Date.now(),S()<=o.$b.DEBUG&&C("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-l}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(c-a)+"ms\n"+`\tRemoved ${t} documents in `+(u-c)+"ms\n"+`Total Duration: ${u-l}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t}))))}}class Dr{constructor(){this.changes=new un((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ce.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?ft.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Nr{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Lr{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&Hn(n.mutation,t,Bt.empty(),Z.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,wn()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=wn()){const r=gn();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=fn();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=gn();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,wn())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=hn();const s=vn(),o=vn();return e.forEach(((t,e)=>{const o=n.get(e.key);r.has(e.key)&&(void 0===o||o.mutation instanceof Wn)?i=i.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),Hn(o.mutation,e,o.mutation.getFieldMask(),Z.now())):s.set(e.key,Bt.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new Nr(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=vn();let r=new Mt(((t,e)=>t-e)),i=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||Bt.empty();o=i.applyToLocalView(s,o),n.set(t,o);const a=(r.get(i.batchId)||wn()).add(t);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,u=mn();c.forEach((t=>{if(!i.has(t)){const r=zn(e.get(t),n.get(t));null!==r&&u.set(t,r),i=i.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,u))}return ft.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,r){return function(t){return ot.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):function(t){return null!==t.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):ft.resolve(gn());let o=-1,a=i;return s.next((e=>ft.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(e)?ft.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,wn()))).next((t=>({batchId:o,changes:pn(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ot(e)).next((t=>{let e=fn();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const i=e.collectionGroup;let s=fn();return this.indexManager.getCollectionParents(t,i).next((o=>ft.forEach(o,(o=>{const a=function(t,e){return new Je(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return this.getDocumentsMatchingCollectionQuery(t,a,n,r).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,r)))).next((t=>{i.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Ce.newInvalidDocument(r)))}));let n=fn();return t.forEach(((t,r)=>{const s=i.get(t);void 0!==s&&Hn(s.mutation,r,Bt.empty(),Z.now()),an(e,r)&&(n=n.insert(t,r))})),n}))}}class Mr{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return ft.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:ur(t.createTime)}}(e)),ft.resolve()}getNamedQuery(t,e){return ft.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(t){return{name:t.name,query:wr(t.bundledQuery),readTime:ur(t.readTime)}}(e)),ft.resolve()}}class Fr{constructor(){this.overlays=new Mt(ot.comparator),this.Rr=new Map}getOverlay(t,e){return ft.resolve(this.overlays.get(e))}getOverlays(t,e){const n=gn();return ft.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.Et(t,e,r)})),ft.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.Rr.delete(n)),ft.resolve()}getOverlaysForCollection(t,e,n){const r=gn(),i=e.length+1,s=new ot(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return ft.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new Mt(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=gn(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=gn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=r)););return ft.resolve(o)}Et(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new nr(e,n));let i=this.Rr.get(e);void 0===i&&(i=wn(),this.Rr.set(e,i)),this.Rr.set(e,i.add(n.key))}}class Ur{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(t){return ft.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ft.resolve()}}class Vr{constructor(){this.Vr=new Vt(jr.mr),this.gr=new Vt(jr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const n=new jr(t,e);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.wr(new jr(t,e))}Sr(t,e){t.forEach((t=>this.removeReference(t,e)))}br(t){const e=new ot(new rt([])),n=new jr(e,t),r=new jr(e,t+1),i=[];return this.gr.forEachInRange([n,r],(t=>{this.wr(t),i.push(t.key)})),i}Dr(){this.Vr.forEach((t=>this.wr(t)))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new ot(new rt([])),n=new jr(e,t),r=new jr(e,t+1);let i=wn();return this.gr.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new jr(t,0),n=this.Vr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class jr{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return ot.comparator(t.key,e.key)||G(t.Cr,e.Cr)}static pr(t,e){return G(t.Cr,e.Cr)||ot.comparator(t.key,e.key)}}class Br{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Vt(jr.mr)}checkEmpty(t){return ft.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new tr(i,e,n,r);this.mutationQueue.push(s);for(const e of r)this.Mr=this.Mr.add(new jr(e.key,i)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return ft.resolve(s)}lookupMutationBatch(t,e){return ft.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.Nr(n),i=r<0?0:r;return ft.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(0===this.mutationQueue.length?mt:this.Fr-1)}getAllMutationBatches(t){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new jr(e,0),r=new jr(e,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(t=>{const e=this.Or(t.Cr);i.push(e)})),ft.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Vt(G);return e.forEach((t=>{const e=new jr(t,0),r=new jr(t,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([e,r],(t=>{n=n.add(t.Cr)}))})),ft.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;ot.isDocumentKey(i)||(i=i.child(""));const s=new jr(new ot(i),0);let o=new Vt(G);return this.Mr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.Cr)),!0)}),s),ft.resolve(this.Br(o))}Br(t){const e=[];return t.forEach((t=>{const n=this.Or(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){P(0===this.Lr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return ft.forEach(e.mutations,(r=>{const i=new jr(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Mr=n}))}qn(t){}containsKey(t,e){const n=new jr(e,0),r=this.Mr.firstAfterOrEqual(n);return ft.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ft.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class zr{constructor(t){this.kr=t,this.docs=new Mt(ot.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return ft.resolve(n?n.document.mutableCopy():Ce.newInvalidDocument(e))}getEntries(t,e){let n=hn();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Ce.newInvalidDocument(t))})),ft.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=hn();const s=e.path,o=new ot(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||ut(at(o),n)<=0||(r.has(o.key)||an(e,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ft.resolve(i)}getAllFromCollectionGroup(t,e,n,r){O()}qr(t,e){return ft.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new qr(this)}getSize(t){return ft.resolve(this.size)}}class qr extends Dr{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.Ir.addEntry(t,r)):this.Ir.removeEntry(n)})),ft.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}class Hr{constructor(t){this.persistence=t,this.Qr=new un((t=>Ye(t)),Qe),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Vr,this.targetCount=0,this.Kr=kr.Un()}forEachTarget(t,e){return this.Qr.forEach(((t,n)=>e(n))),ft.resolve()}getLastRemoteSnapshotVersion(t){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ft.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.$r&&(this.$r=e),ft.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Kr=new kr(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,ft.resolve()}updateTargetData(t,e){return this.zn(e),ft.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,ft.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Qr.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)})),ft.waitFor(i).next((()=>r))}getTargetCount(t){return ft.resolve(this.targetCount)}getTargetData(t,e){const n=this.Qr.get(e)||null;return ft.resolve(n)}addMatchingKeys(t,e,n){return this.Ur.yr(e,n),ft.resolve()}removeMatchingKeys(t,e,n){this.Ur.Sr(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),ft.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Ur.br(e),ft.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Ur.vr(e);return ft.resolve(n)}containsKey(t,e){return ft.resolve(this.Ur.containsKey(e))}}class $r{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new gt(0),this.zr=!1,this.zr=!0,this.jr=new Ur,this.referenceDelegate=t(this),this.Hr=new Hr(this),this.indexManager=new Er,this.remoteDocumentCache=function(t){return new zr(t)}((t=>this.referenceDelegate.Jr(t))),this.serializer=new _r(e),this.Yr=new Mr(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Fr,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Wr[t.toKey()];return n||(n=new Br(e,this.referenceDelegate),this.Wr[t.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,n){C("MemoryPersistence","Starting transaction:",t);const r=new Gr(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((t=>this.referenceDelegate.Xr(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}ei(t,e){return ft.or(Object.values(this.Wr).map((n=>()=>n.containsKey(t,e))))}}class Gr extends ht{constructor(t){super(),this.currentSequenceNumber=t}}class Kr{constructor(t){this.persistence=t,this.ti=new Vr,this.ni=null}static ri(t){return new Kr(t)}get ii(){if(this.ni)return this.ni;throw O()}addReference(t,e,n){return this.ti.addReference(n,e),this.ii.delete(n.toString()),ft.resolve()}removeReference(t,e,n){return this.ti.removeReference(n,e),this.ii.add(n.toString()),ft.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),ft.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach((t=>this.ii.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.ii.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.ii,(n=>{const r=ot.fromPath(n);return this.si(t,r).next((t=>{t||e.removeEntry(r,tt.min())}))})).next((()=>(this.ni=null,e.apply(t))))}updateLimboDocument(t,e){return this.si(t,e).next((t=>{t?this.ii.delete(e.toString()):this.ii.add(e.toString())}))}Jr(t){return 0}si(t,e){return ft.or([()=>ft.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class Wr{constructor(t,e){this.persistence=t,this.oi=new un((t=>function(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=wt(e)),e=_t(t.get(n),e);return wt(e)}(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=function(t,e){return new Rr(t,e)}(this,e)}static ri(t,e){return new Wr(t,e)}Zr(){}Xr(t){return ft.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}sr(t){let e=0;return this.rr(t,(t=>{e++})).next((()=>e))}rr(t,e){return ft.forEach(this.oi,((n,r)=>this.ar(t,n,r).next((t=>t?ft.resolve():e(r)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(t,(r=>this.ar(t,r,e).next((t=>{t||(n++,i.removeEntry(r,tt.min()))})))).next((()=>i.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),ft.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.oi.set(n,t.currentSequenceNumber),ft.resolve()}removeReference(t,e,n){return this.oi.set(n,t.currentSequenceNumber),ft.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),ft.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=ve(t.data.value)),e}ar(t,e,n){return ft.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.oi.get(e);return ft.resolve(void 0!==t&&t>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xr{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Hi=n,this.Ji=r}static Yi(t,e){let n=wn(),r=wn();for(const t of e.docChanges)switch(t.type){case 0:n=n.add(t.doc.key);break;case 1:r=r.add(t.doc.key)}return new Xr(t,e.fromCache,n,r)}}class Yr{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Qr{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(0,a.nr)()?8:function(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}((0,a.ZQ)())>0?6:4}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,n,r){const i={result:null};return this.rs(t,e).next((t=>{i.result=t})).next((()=>{if(!i.result)return this.ss(t,e,r,n).next((t=>{i.result=t}))})).next((()=>{if(i.result)return;const n=new Yr;return this._s(t,e,n).next((r=>{if(i.result=r,this.Xi)return this.us(t,e,n,r.size)}))})).next((()=>i.result))}us(t,e,n,r){return n.documentReadCount<this.es?(S()<=o.$b.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",on(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ft.resolve()):(S()<=o.$b.DEBUG&&C("QueryEngine","Query:",on(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(S()<=o.$b.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",on(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,en(e))):ft.resolve())}rs(t,e){if(Ze(e))return ft.resolve(null);let n=en(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=nn(e,null,"F"),n=en(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=wn(...r);return this.ns.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.cs(e,r);return this.ls(e,s,i,n.readTime)?this.rs(t,nn(e,null,"F")):this.hs(t,s,e,n)}))))})))))}ss(t,e,n,r){return Ze(e)||r.isEqual(tt.min())?ft.resolve(null):this.ns.getDocuments(t,n).next((i=>{const s=this.cs(e,i);return this.ls(e,s,n,r)?ft.resolve(null):(S()<=o.$b.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),on(e)),this.hs(t,s,e,function(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(1e9===r?new Z(n+1,0):new Z(n,r));return new ct(i,ot.empty(),e)}(r,-1)).next((t=>t)))}))}cs(t,e){let n=new Vt(function(t){return(e,n)=>{let r=!1;for(const i of tn(t)){const t=cn(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}(t));return e.forEach(((e,r)=>{an(t,r)&&(n=n.add(r))})),n}ls(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(t,e,n){return S()<=o.$b.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",on(e)),this.ns.getDocumentsMatchingQuery(t,e,ct.min(),n)}hs(t,e,n,r){return this.ns.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}const Jr="LocalStore";class Zr{constructor(t,e,n,r){this.persistence=t,this.Ps=e,this.serializer=r,this.Ts=new Mt(G),this.Is=new un((t=>Ye(t)),Qe),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(n)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Lr(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ts)))}}async function ti(t,e){const n=R(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.As(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],s=[];let o=wn();for(const t of r){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({Rs:t,removedBatchIds:i,addedBatchIds:s})))}))}))}function ei(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=mt),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}class ni{constructor(){this.activeTargetIds=bn}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ri{constructor(){this.ho=new ni,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,n){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new ni,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ii{To(t){}shutdown(){}}const si="ConnectivityMonitor";class oi{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){C(si,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){C(si,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ai=null;function ci(){return null===ai?ai=268435456+Math.round(2147483648*Math.random()):ai++,"0x"+ai.toString(16)}const ui="RestConnection",li={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hi{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===ne?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(t,e,n,r,i){const s=ci(),o=this.bo(t,e.toUriEncodedString());C(ui,`Sending RPC '${t}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,r,i),this.vo(t,o,a,n).then((e=>(C(ui,`Received RPC '${t}' ${s}: `,e),e)),(e=>{throw A(ui,`RPC '${t}' ${s} failed with error: `,e,"url: ",o,"request:",n),e}))}Co(t,e,n,r,i,s){return this.So(t,e,n,r,i)}Do(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+T,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}bo(t,e){const n=li[t];return`${this.po}/v1/${e}:${n}`}terminate(){}}class di{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}const fi="WebChannelConnection";class pi extends hi{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,n,r){const i=ci();return new Promise(((s,o)=>{const a=new l;a.setWithCredentials(!0),a.listenOnce(d.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case f.NO_ERROR:const e=a.getResponseJson();C(fi,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(e)),s(e);break;case f.TIMEOUT:C(fi,`RPC '${t}' ${i} timed out`),o(new N(D.DEADLINE_EXCEEDED,"Request time out"));break;case f.HTTP_ERROR:const n=a.getStatus();if(C(fi,`RPC '${t}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(e)>=0?e:D.UNKNOWN}(e.status);o(new N(t,e.message))}else o(new N(D.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new N(D.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{C(fi,`RPC '${t}' ${i} completed.`)}}));const c=JSON.stringify(r);C(fi,`RPC '${t}' ${i} sending request:`,r),a.send(e,"POST",c,n,15)}))}Wo(t,e,n){const r=ci(),i=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=v(),o=m(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const u=i.join("");C(fi,`Creating RPC '${t}' stream ${r}: ${u}`,a);const l=s.createWebChannel(u,a);let d=!1,f=!1;const y=new di({Fo:e=>{f?C(fi,`Not sending because RPC '${t}' stream ${r} is closed:`,e):(d||(C(fi,`Opening RPC '${t}' stream ${r} transport.`),l.open(),d=!0),C(fi,`RPC '${t}' stream ${r} sending:`,e),l.send(e))},Mo:()=>l.close()}),_=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return _(l,h.EventType.OPEN,(()=>{f||(C(fi,`RPC '${t}' stream ${r} transport opened.`),y.Qo())})),_(l,h.EventType.CLOSE,(()=>{f||(f=!0,C(fi,`RPC '${t}' stream ${r} transport closed`),y.Uo())})),_(l,h.EventType.ERROR,(e=>{f||(f=!0,A(fi,`RPC '${t}' stream ${r} transport errored:`,e),y.Uo(new N(D.UNAVAILABLE,"The operation could not be completed")))})),_(l,h.EventType.MESSAGE,(e=>{var n;if(!f){const i=e.data[0];P(!!i);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){C(fi,`RPC '${t}' stream ${r} received error:`,o);const e=o.status;let n=function(t){const e=rr[t];if(void 0!==e)return function(t){if(void 0===t)return k("GRPC error has no .code"),D.UNKNOWN;switch(t){case rr.OK:return D.OK;case rr.CANCELLED:return D.CANCELLED;case rr.UNKNOWN:return D.UNKNOWN;case rr.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case rr.INTERNAL:return D.INTERNAL;case rr.UNAVAILABLE:return D.UNAVAILABLE;case rr.UNAUTHENTICATED:return D.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case rr.NOT_FOUND:return D.NOT_FOUND;case rr.ALREADY_EXISTS:return D.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return D.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case rr.ABORTED:return D.ABORTED;case rr.OUT_OF_RANGE:return D.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return D.UNIMPLEMENTED;case rr.DATA_LOSS:return D.DATA_LOSS;default:return O()}}(e)}(e),i=o.message;void 0===n&&(n=D.INTERNAL,i="Unknown error status: "+e+" with message "+o.message),f=!0,y.Uo(new N(n,i)),l.close()}else C(fi,`RPC '${t}' stream ${r} received:`,i),y.Ko(i)}})),_(o,g.STAT_EVENT,(e=>{e.stat===p.PROXY?C(fi,`RPC '${t}' stream ${r} detected buffering proxy`):e.stat===p.NOPROXY&&C(fi,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{y.$o()}),0),y}}function gi(){return"undefined"!=typeof document?document:null}function mi(t){return new sr(t,!0)}class vi{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Ti=t,this.timerId=e,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,e-n);r>0&&C("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),t()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const yi="PersistentStream";class _i{constructor(t,e,n,r,i,s,o,a){this.Ti=t,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vi(t,e)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==t?this.a_.reset():e&&e.code===D.RESOURCE_EXHAUSTED?(k(e.toString()),k("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===D.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.i_===e&&this.V_(t,n)}),(e=>{t((()=>{const t=new N(D.UNKNOWN,"Fetching auth token failed: "+e.message);return this.m_(t)}))}))}V_(t,e){const n=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((t=>{n((()=>this.m_(t)))})),this.stream.onMessage((t=>{n((()=>1==++this.__?this.g_(t):this.onNext(t)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(t){return C(yi,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget((()=>this.i_===t?e():(C(yi,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wi extends _i{constructor(t,e,n,r,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return P(!!t.streamToken),this.lastStreamToken=t.streamToken,P(!t.writeResults||0===t.writeResults.length),this.listener.D_()}onNext(t){P(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=function(t,e){return t&&t.length>0?(P(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?ur(t.updateTime):ur(e);return n.isEqual(tt.min())&&(n=ur(e)),new Un(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=ur(t.commitTime);return this.listener.v_(n,e)}C_(){const t={};t.database=function(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>function(t,e){let n;if(e instanceof Kn)n={update:pr(t,e.key,e.value)};else if(e instanceof Jn)n={delete:dr(t,e.key)};else if(e instanceof Wn)n={update:pr(t,e.key,e.data),updateMask:yr(e.fieldMask)};else{if(!(e instanceof Zn))return O();n={verify:dr(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof xn)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof On)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Rn)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Nn)return{fieldPath:e.field.canonicalString(),increment:n.Ie};throw O()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:cr(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:O()}(t,e.precondition)),n}(this.serializer,t)))};this.I_(e)}}class bi{}class Ei extends bi{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new N(D.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.So(t,hr(e,n),r,i,s))).catch((t=>{throw"FirebaseError"===t.name?(t.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new N(D.UNKNOWN,t.toString())}))}Co(t,e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Co(t,hr(e,n),r,s,o,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new N(D.UNKNOWN,t.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Ti{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(t){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,"Online"===t&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(k(e),this.N_=!1):C("OnlineStateTracker",e)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Ii="RemoteStore";class Si{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((t=>{n.enqueueAndForget((async()=>{Ai(this)&&(C(Ii,"Restarting streams for network reachability change."),await async function(t){const e=R(t);e.W_.add(4),await ki(e),e.j_.set("Unknown"),e.W_.delete(4),await Ci(e)}(this))}))})),this.j_=new Ti(n,r)}}async function Ci(t){if(Ai(t))for(const e of t.G_)await e(!0)}async function ki(t){for(const e of t.G_)await e(!1)}function Ai(t){return 0===R(t).W_.size}async function xi(t,e,n){if(!pt(e))throw e;t.W_.add(1),await ki(t),t.j_.set("Offline"),n||(n=()=>function(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Hr.getLastRemoteSnapshotVersion(t)))}(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{C(Ii,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Ci(t)}))}function Oi(t,e){return e().catch((n=>xi(t,n,e)))}async function Pi(t){const e=R(t),n=Bi(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:mt;for(;Ri(e);)try{const t=await ei(e.localStore,r);if(null===t){0===e.U_.length&&n.P_();break}r=t.batchId,Di(e,t)}catch(t){await xi(e,t)}Ni(e)&&Li(e)}function Ri(t){return Ai(t)&&t.U_.length<10}function Di(t,e){t.U_.push(e);const n=Bi(t);n.c_()&&n.S_&&n.b_(e.mutations)}function Ni(t){return Ai(t)&&!Bi(t).u_()&&t.U_.length>0}function Li(t){Bi(t).start()}async function Mi(t){Bi(t).C_()}async function Fi(t){const e=Bi(t);for(const n of t.U_)e.b_(n.mutations)}async function Ui(t,e,n){const r=t.U_.shift(),i=er.from(r,e,n);await Oi(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Pi(t)}async function Vi(t,e){e&&Bi(t).S_&&await async function(t,e){if(function(t){return function(t){switch(t){case D.OK:return O();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return O()}}(t)&&t!==D.ABORTED}(e.code)){const n=t.U_.shift();Bi(t).h_(),await Oi(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Pi(t)}}(t,e),Ni(t)&&Li(t)}async function ji(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),C(Ii,"RemoteStore received new credentials");const r=Ai(n);n.W_.add(3),await ki(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Ci(n)}function Bi(t){return t.Y_||(t.Y_=function(t,e,n){const r=R(t);return r.M_(),new wi(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Mi.bind(null,t),Lo:Vi.bind(null,t),D_:Fi.bind(null,t),v_:Ui.bind(null,t)}),t.G_.push((async e=>{e?(t.Y_.h_(),await Pi(t)):(await t.Y_.stop(),t.U_.length>0&&(C(Ii,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))}))),t.Y_}class zi{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new L,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new zi(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new N(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qi(t,e){if(k("AsyncQueue",`${e}: ${t}`),pt(t))return new N(D.UNAVAILABLE,`${e}: ${t}`);throw t}class Hi{constructor(){this.queries=$i(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(t,e){const n=R(t),r=n.queries;n.queries=$i(),r.forEach(((t,n)=>{for(const t of n.ta)t.onError(e)}))}(this,new N(D.ABORTED,"Firestore shutting down"))}}function $i(){return new un((t=>sn(t)),rn)}var Gi,Ki;(Ki=Gi||(Gi={}))._a="default",Ki.Cache="cache";class Wi{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new un((t=>sn(t)),rn),this.qa=new Map,this.Qa=new Set,this.$a=new Mt(ot.comparator),this.Ua=new Map,this.Ka=new Vr,this.Wa={},this.Ga=new Map,this.za=kr.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}function Xi(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=R(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const t of n.ta)t.sa(e)&&(r=!0)})),r&&function(t){t.ia.forEach((t=>{t.next()}))}(n)}(r.eventManager,e),t.length&&r.La.p_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yi(t,e){const n=R(t),r=e.batch.batchId;try{const t=await function(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=ft.resolve();return s.forEach((t=>{o=o.next((()=>r.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);P(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=wn();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);Zi(n,r,null),Ji(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ts(n,t)}catch(t){await dt(t)}}async function Qi(t,e,n){const r=R(t);try{const t=await function(t,e){const n=R(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(P(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);Zi(r,e,n),Ji(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ts(r,t)}catch(n){await dt(n)}}function Ji(t,e){(t.Ga.get(e)||[]).forEach((t=>{t.resolve()})),t.Ga.delete(e)}function Zi(t,e,n){const r=R(t);let i=r.Wa[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}async function ts(t,e,n){const r=R(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach(((t,a)=>{o.push(r.Ha(a,e,n).then((t=>{var e;if((t||n)&&r.isPrimaryClient){const i=t?!t.fromCache:null===(e=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(t){i.push(t);const e=Xr.Yi(a.targetId,t);s.push(e)}})))})),await Promise.all(o),r.La.p_(i),await async function(t,e){const n=R(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>ft.forEach(e,(e=>ft.forEach(e.Hi,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>ft.forEach(e.Ji,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!pt(t))throw t;C(Jr,"Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function es(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const t=await ti(n.localStore,e);n.currentUser=e,function(t){t.Ga.forEach((t=>{t.forEach((t=>{t.reject(new N(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Ga.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await ts(n,t.Rs)}}function ns(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yi.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qi.bind(null,e),e}class rs{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mi(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return function(t,e,n,r){return new Zr(t,e,n,r)}(this.persistence,new Qr,t.initialUser,this.serializer)}Xa(t){return new $r(Kr.ri,this.serializer)}Za(t){return new ri}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rs.provider={build:()=>new rs};class is extends rs{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){P(this.persistence.referenceDelegate instanceof Wr);const n=this.persistence.referenceDelegate.garbageCollector;return new Pr(n,t.asyncQueue,e)}Xa(t){const e=void 0!==this.cacheSizeBytes?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new $r((t=>Wr.ri(t,e)),this.serializer)}}class ss{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Xi(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=es.bind(null,this.syncEngine),await async function(t,e){const n=R(t);e?(n.W_.delete(2),await Ci(n)):e||(n.W_.add(2),await ki(n),n.j_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Hi}createDatastore(t){const e=mi(t.databaseInfo.databaseId),n=function(t){return new pi(t)}(t.databaseInfo);return function(t,e,n,r){return new Ei(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,i){return new Si(t,e,n,r,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>Xi(this.syncEngine,t,0)),oi.D()?new oi:new ii)}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new Wi(t,e,n,r,i,s);return o&&(a.ja=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=R(t);C(Ii,"RemoteStore shutting down."),e.W_.add(5),await ki(e),e.z_.shutdown(),e.j_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}ss.provider={build:()=>new ss};const os="FirestoreClient";class as{constructor(t,e,n,r,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=E.UNAUTHENTICATED,this.clientId=$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async t=>{C(os,"Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(C(os,"Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new L;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=qi(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function cs(t,e){t.asyncQueue.verifyOperationInProgress(),C(os,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await ti(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function us(t,e){t.asyncQueue.verifyOperationInProgress();const n=await async function(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C(os,"Using user provided OfflineComponentProvider");try{await cs(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(t){return"FirebaseError"===t.name?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;A("Error using user provided cache. Falling back to memory cache: "+n),await cs(t,new rs)}}else C(os,"Using default OfflineComponentProvider"),await cs(t,new is(void 0));return t._offlineComponents}(t);C(os,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>ji(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>ji(e.remoteStore,n))),t._onlineComponents=e}function ls(t){return async function(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(C(os,"Using user provided OnlineComponentProvider"),await us(t,t._uninitializedComponentsProvider._online)):(C(os,"Using default OnlineComponentProvider"),await us(t,new ss))),t._onlineComponents}(t).then((t=>t.syncEngine))}function hs(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const ds=new Map;function fs(t,e,n){if(!n)throw new N(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ps(t){if(!ot.isDocumentKey(t))throw new N(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gs(t){if(ot.isDocumentKey(t))throw new N(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ms(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":O()}function vs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new N(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ms(t);throw new N(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const ys="firestore.googleapis.com",_s=!0;class ws{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new N(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ys,this.ssl=_s}else this.host=t.host,this.ssl=null!==(e=t.ssl)&&void 0!==e?e:_s;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=Sr;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new N(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new N(D.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hs(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new N(D.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new N(D.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new N(D.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bs{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ws({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new N(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new N(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ws(t),this._emulatorOptions=t.emulatorOptions||{},void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new F;switch(t.type){case"firstParty":return new B(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new N(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=ds.get(t);e&&(C("ComponentProvider","Removing Datastore"),ds.delete(t),e.terminate())}(this),Promise.resolve()}}class Es{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Es(this.firestore,t,this._query)}}class Ts{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ts(this.firestore,t,this._key)}}class Is extends Es{constructor(t,e,n){super(t,e,function(t){return new Je(t)}(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ts(this.firestore,null,new ot(t))}withConverter(t){return new Is(this.firestore,t,this._path)}}function Ss(t,e,...n){if(t=(0,a.Ku)(t),fs("collection","path",e),t instanceof bs){const r=rt.fromString(e,...n);return gs(r),new Is(t,null,r)}{if(!(t instanceof Ts||t instanceof Is))throw new N(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return gs(r),new Is(t.firestore,null,r)}}const Cs="AsyncQueue";class ks{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vi(this,"async_queue_retry"),this.Su=()=>{const t=gi();t&&C(Cs,"Visibility state changed to "+t.visibilityState),this.a_.t_()},this.bu=t;const e=gi();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=gi();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise((()=>{}));const e=new L;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Vu.push(t),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!pt(t))throw t;C(Cs,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(t){const e=this.bu.then((()=>(this.pu=!0,t().catch((t=>{this.gu=t,this.pu=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw k("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.pu=!1,t))))));return this.bu=e,e}enqueueAfterDelay(t,e,n){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const r=zi.createAndSchedule(this,t,e,n,(t=>this.Fu(t)));return this.fu.push(r),r}Du(){this.gu&&O()}verifyOperationInProgress(){}async Mu(){let t;do{t=this.bu,await t}while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then((()=>{this.fu.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.fu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Mu()}))}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class As extends bs{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new ks,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ks(t),this._firestoreClient=void 0,await t}}}function xs(t,e){const n="object"==typeof t?t:(0,i.Sx)(),r="string"==typeof t?t:e||ne,s=(0,i.j6)(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const t=(0,a.yU)("firestore");t&&function(t,e,n,r={}){var i;const s=(t=vs(t,bs))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s.host!==ys&&s.host!==c&&A("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:c,ssl:!1,emulatorOptions:r});if(!(0,a.bD)(u,o)&&(t._setSettings(u),r.mockUserToken)){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=E.MOCK_USER;else{e=(0,a.Fy)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new N(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new E(s)}t._authCredentials=new U(new M(e,n))}}(s,...t)}return s}function Os(t){if(t._terminated)throw new N(D.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function(t){var e,n,r;const i=t._freezeSettings(),s=function(t,e,n,r){return new ee(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,hs(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new as(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}(t),t._firestoreClient}class Ps{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ps(qt.fromBase64String(t))}catch(t){throw new N(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Ps(qt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Rs{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new N(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ds{constructor(t){this._methodName=t}}class Ns{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new N(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new N(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return G(this._lat,t._lat)||G(this._long,t._long)}}class Ls{constructor(t){this._values=(t||[]).map((t=>t))}toArray(){return this._values.map((t=>t))}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}}const Ms=/^__.*__$/;class Fs{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Wn(t,this.data,this.fieldMask,e,this.fieldTransforms):new Kn(t,this.data,e,this.fieldTransforms)}}function Us(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class Vs{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Vs(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ku({path:n,Qu:!1});return r.$u(t),r}Uu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Ys(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(0===t.length)throw this.Wu("Document fields must not be empty");if(Us(this.Lu)&&Ms.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class js{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||mi(t)}ju(t,e,n,r=!1){return new Vs({Lu:t,methodName:e,zu:n,path:st.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bs(t){const e=t._freezeSettings(),n=mi(t._databaseId);return new js(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zs(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);Ks("Data must be an object, but it was:",o,r);const a=$s(r,o);let c,u;if(s.merge)c=new Bt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=Ws(e,r,n);if(!o.contains(i))throw new N(D.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Qs(t,i)||t.push(i)}c=new Bt(t),u=o.fieldTransforms.filter((t=>c.covers(t.field)))}else c=null,u=o.fieldTransforms;return new Fs(new Ie(a),c,u)}class qs extends Ds{_toFieldTransform(t){return new Fn(t.path,new xn)}isEqual(t){return t instanceof qs}}function Hs(t,e){if(Gs(t=(0,a.Ku)(t)))return Ks("Unsupported field value:",e,t),$s(t,e);if(t instanceof Ds)return function(t,e){if(!Us(e.Lu))throw e.Wu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Wu(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&4!==e.Lu)throw e.Wu("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=Hs(i,e.Ku(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,a.Ku)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return In(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Z.fromDate(t);return{timestampValue:or(e.serializer,n)}}if(t instanceof Z){const n=new Z(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:or(e.serializer,n)}}if(t instanceof Ns)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ps)return{bytesValue:ar(e.serializer,t._byteString)};if(t instanceof Ts){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:lr(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof Ls)return function(t,e){return{mapValue:{fields:{[ie]:{stringValue:ae},[ce]:{arrayValue:{values:t.toArray().map((t=>{if("number"!=typeof t)throw e.Wu("VectorValues must only contain numeric values.");return En(e.serializer,t)}))}}}}}}(t,e);throw e.Wu(`Unsupported field value: ${ms(t)}`)}(t,e)}function $s(t,e){const n={};return Lt(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nt(t,((t,r)=>{const i=Hs(r,e.qu(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Gs(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Z||t instanceof Ns||t instanceof Ps||t instanceof Ts||t instanceof Ds||t instanceof Ls)}function Ks(t,e,n){if(!Gs(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=ms(n);throw"an object"===r?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Ws(t,e,n){if((e=(0,a.Ku)(e))instanceof Rs)return e._internalPath;if("string"==typeof e)return function(t,e,n){if(e.search(Xs)>=0)throw Ys(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rs(...e.split("."))._internalPath}catch(r){throw Ys(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e);throw Ys("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xs=new RegExp("[~\\*/\\[\\]]");function Ys(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new N(D.INVALID_ARGUMENT,a+t+c)}function Qs(t,e){return t.some((t=>t.isEqual(e)))}function Js(t,e){const n=vs(t.firestore,As),r=function(t,e,...n){if(t=(0,a.Ku)(t),1===arguments.length&&(e=$.newId()),fs("doc","path",e),t instanceof bs){const r=rt.fromString(e,...n);return ps(r),new Ts(t,null,new ot(r))}{if(!(t instanceof Ts||t instanceof Is))throw new N(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return ps(r),new Ts(t.firestore,t instanceof Is?t.converter:null,new ot(r))}}(t),i=function(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function(t,e){return function(t,e){const n=new L;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=ns(t);try{const t=await function(t,e){const n=R(t),r=Z.now(),i=e.reduce(((t,e)=>t.add(e.key)),wn());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=hn(),c=wn();return n.ds.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(c=c.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((i=>{s=i;const o=[];for(const t of e){const e=$n(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new Wn(t.key,e,Se(e.value.mapValue),Vn.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,o,e)})).next((e=>{o=e;const r=e.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:pn(s)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Wa[t.currentUser.toKey()];r||(r=new Mt(G)),r=r.insert(e,n),t.Wa[t.currentUser.toKey()]=r}(r,t.batchId,n),await ts(r,t.changes),await Pi(r.remoteStore)}catch(t){const e=qi(t,"Failed to persist write");n.reject(e)}}(await ls(t),e,n))),n.promise}(Os(t),e)}(n,[zs(Bs(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Vn.exists(!1))]).then((()=>r))}function Zs(){return new qs("serverTimestamp")}new WeakMap,function(t,e=!0){!function(t){T=t}(i.MF),(0,i.om)(new s.uA("firestore",((t,{instanceIdentifier:n,options:r})=>{const i=t.getProvider("app").getImmediate(),s=new As(new V(t.getProvider("auth-internal")),new q(i,t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new N(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new re(t.options.projectId,e)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),(0,i.KO)(w,b,t),(0,i.KO)(w,b,"esm2017")}()},607:(t,e,n)=>{function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,{B0:()=>_t,Dx:()=>sn,E_:()=>vt,J7:()=>pn,Ks:()=>G,OF:()=>L,St:()=>fn,Uc:()=>Ce,Vy:()=>he,Yz:()=>E,Zm:()=>Ke,a0:()=>pt,au:()=>ke,dg:()=>J,fA:()=>mt,l1:()=>cn,l_:()=>te,n:()=>gt,n6:()=>je,os:()=>kn,qA:()=>Ie,vM:()=>H,vQ:()=>R,vX:()=>q,wU:()=>ct});var s,o,a,c,u,l,h,d,f,p,g,m,v,y,_,w,b,E={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},T={duration:.5,overwrite:!1,delay:0},I=1e8,S=1e-8,C=2*Math.PI,k=C/4,A=0,x=Math.sqrt,O=Math.cos,P=Math.sin,R=function(t){return"string"==typeof t},D=function(t){return"function"==typeof t},N=function(t){return"number"==typeof t},L=function(t){return void 0===t},M=function(t){return"object"==typeof t},F=function(t){return!1!==t},U=function(){return"undefined"!=typeof window},V=function(t){return D(t)||R(t)},j="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},B=Array.isArray,z=/(?:-?\.?\d|\.)+/gi,q=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,H=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,$=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,G=/[+-]=-?[.\d]+/,K=/[^,'"\[\]\s]+/gi,W=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,X={},Y={},Q=function(t){return(Y=Ct(t,X))&&kn},J=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Z=function(t,e){return!e&&console.warn(t)},tt=function(t,e){return t&&(X[t]=e)&&Y&&(Y[t]=e)||X},et=function(){return 0},nt={suppressEvents:!0,isStart:!0,kill:!1},rt={suppressEvents:!0,kill:!1},it={suppressEvents:!0},st={},ot=[],at={},ct={},ut={},lt=30,ht=[],dt="",ft=function(t){var e,n,r=t[0];if(M(r)||D(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=ht.length;n--&&!ht[n].targetTest(r););e=ht[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new je(t[n],e)))||t.splice(n,1);return t},pt=function(t){return t._gsap||ft(re(t))[0]._gsap},gt=function(t,e,n){return(n=t[e])&&D(n)?t[e]():L(n)&&t.getAttribute&&t.getAttribute(e)||n},mt=function(t,e){return(t=t.split(",")).forEach(e)||t},vt=function(t){return Math.round(1e5*t)/1e5||0},yt=function(t){return Math.round(1e7*t)/1e7||0},_t=function(t,e){var n=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+r:"-"===n?t-r:"*"===n?t*r:t/r},wt=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},bt=function(){var t,e,n=ot.length,r=ot.slice(0);for(at={},ot.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Et=function(t,e,n,r){ot.length&&!o&&bt(),t.render(e,n,r||o&&e<0&&(t._initted||t._startAt)),ot.length&&!o&&bt()},Tt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(K).length<2?e:R(t)?t.trim():t},It=function(t){return t},St=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Ct=function(t,e){for(var n in e)t[n]=e[n];return t},kt=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=M(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},At=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},xt=function(t){var e,n=t.parent||c,r=t.keyframes?(e=B(t.keyframes),function(t,n){for(var r in n)r in t||"duration"===r&&e||"ease"===r||(t[r]=n[r])}):St;if(F(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},Ot=function(t,e,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,o=t[r];if(i)for(s=e[i];o&&o[i]>s;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=o,e.parent=e._dp=t,e},Pt=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=e._prev,s=e._next;i?i._next=s:t[n]===e&&(t[n]=s),s?s._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},Rt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Dt=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Nt=function(t,e,n,r){return t._startAt&&(o?t._startAt.revert(rt):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},Lt=function t(e){return!e||e._ts&&t(e.parent)},Mt=function(t){return t._repeat?Ft(t._tTime,t=t.duration()+t._rDelay)*t:0},Ft=function(t,e){var n=Math.floor(t=yt(t/e));return t&&n===t?n-1:n},Ut=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Vt=function(t){return t._end=yt(t._start+(t._tDur/Math.abs(t._ts||t._rts||S)||0))},jt=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=yt(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Vt(t),n._dirty||Dt(n,t)),t},Bt=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=Ut(t.rawTime(),e),(!e._dur||Zt(0,e.totalDuration(),n)-e._tTime>S)&&e.render(n,!0)),Dt(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},zt=function(t,e,n,r){return e.parent&&Rt(e),e._start=yt((N(n)?n:n||t!==c?Yt(t,n,e):t._time)+e._delay),e._end=yt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Ot(t,e,"_first","_last",t._sort?"_start":0),Gt(e)||(t._recent=e),r||Bt(t,e),t._ts<0&&jt(t,t._tTime),t},qt=function(t,e){return(X.ScrollTrigger||J("scrollTrigger",e))&&X.ScrollTrigger.create(e,t)},Ht=function(t,e,n,r,i){return We(t,e,i),t._initted?!n&&t._pt&&!o&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&f!==ke.frame?(ot.push(t),t._lazy=[i,r],1):void 0:1},$t=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Gt=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Kt=function(t,e,n,r){var i=t._repeat,s=yt(e)||0,o=t._tTime/t._tDur;return o&&!r&&(t._time*=s/t._dur),t._dur=s,t._tDur=i?i<0?1e10:yt(s*(i+1)+t._rDelay*i):s,o>0&&!r&&jt(t,t._tTime=t._tDur*o),t.parent&&Vt(t),n||Dt(t.parent,t),t},Wt=function(t){return t instanceof ze?Dt(t):Kt(t,t._dur)},Xt={_start:0,endTime:et,totalDuration:et},Yt=function t(e,n,r){var i,s,o,a=e.labels,c=e._recent||Xt,u=e.duration()>=I?c.endTime(!1):e._dur;return R(n)&&(isNaN(n)||n in a)?(s=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===s||">"===s?(i>=0&&(n=n.replace(/=/,"")),("<"===s?c._start:c.endTime(c._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?c:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=u),a[n]):(s=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(s=s/100*(B(r)?r[0]:r).totalDuration()),i>1?t(e,n.substr(0,i-1),r)+s:u+s)):null==n?u:+n},Qt=function(t,e,n){var r,i,s=N(e[1]),o=(s?2:1)+(t<2?0:1),a=e[o];if(s&&(a.duration=e[1]),a.parent=n,t){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=F(i.vars.inherit)&&i.parent;a.immediateRender=F(r.immediateRender),t<2?a.runBackwards=1:a.startAt=e[o-1]}return new Ze(e[0],a,e[o+1])},Jt=function(t,e){return t||0===t?e(t):e},Zt=function(t,e,n){return n<t?t:n>e?e:n},te=function(t,e){return R(t)&&(e=W.exec(t))?e[1]:""},ee=[].slice,ne=function(t,e){return t&&M(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&M(t[0]))&&!t.nodeType&&t!==u},re=function(t,e,n){return a&&!e&&a.selector?a.selector(t):!R(t)||n||!l&&Ae()?B(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return R(t)&&!e||ne(t,1)?(r=n).push.apply(r,re(t)):n.push(t)}))||n}(t,n):ne(t)?ee.call(t,0):t?[t]:[]:ee.call((e||h).querySelectorAll(t),0)},ie=function(t){return t=re(t)[0]||Z("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return re(e,n.querySelectorAll?n:n===t?Z("Invalid scope")||h.createElement("div"):t)}},se=function(t){return t.sort((function(){return.5-Math.random()}))},oe=function(t){if(D(t))return t;var e=M(t)?t:{each:t},n=Le(e.ease),r=e.from||0,i=parseFloat(e.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,c=e.axis,u=r,l=r;return R(r)?u=l={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(u=r[0],l=r[1]),function(t,o,h){var d,f,p,g,m,v,y,_,w,b=(h||e).length,E=s[b];if(!E){if(!(w="auto"===e.grid?0:(e.grid||[1,I])[1])){for(y=-I;y<(y=h[w++].getBoundingClientRect().left)&&w<b;);w<b&&w--}for(E=s[b]=[],d=a?Math.min(w,b)*u-.5:r%w,f=w===I?0:a?b*l/w-.5:r/w|0,y=0,_=I,v=0;v<b;v++)p=v%w-d,g=f-(v/w|0),E[v]=m=c?Math.abs("y"===c?g:p):x(p*p+g*g),m>y&&(y=m),m<_&&(_=m);"random"===r&&se(E),E.max=y-_,E.min=_,E.v=b=(parseFloat(e.amount)||parseFloat(e.each)*(w>b?b-1:c?"y"===c?b/w:w:Math.max(w,b/w))||0)*("edges"===r?-1:1),E.b=b<0?i-b:i,E.u=te(e.amount||e.each)||0,n=n&&b<0?De(n):n}return b=(E[t]-E.min)/E.max||0,yt(E.b+(n?n(b):b)*E.v)+E.u}},ae=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var r=yt(Math.round(parseFloat(n)/t)*t*e);return(r-r%1)/e+(N(n)?0:te(n))}},ce=function(t,e){var n,r,i=B(t);return!i&&M(t)&&(n=i=t.radius||I,t.values?(t=re(t.values),(r=!N(t[0]))&&(n*=n)):t=ae(t.increment)),Jt(e,i?D(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var i,s,o=parseFloat(r?e.x:e),a=parseFloat(r?e.y:0),c=I,u=0,l=t.length;l--;)(i=r?(i=t[l].x-o)*i+(s=t[l].y-a)*s:Math.abs(t[l]-o))<c&&(c=i,u=l);return u=!n||c<=n?t[u]:e,r||u===e||N(e)?u:u+te(e)}:ae(t))},ue=function(t,e,n,r){return Jt(B(t)?!e:!0===n?!!(n=0):!r,(function(){return B(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r}))},le=function(t,e,n){return Jt(n,(function(n){return t[~~e(n)]}))},he=function(t){for(var e,n,r,i,s=0,o="";~(e=t.indexOf("random(",s));)r=t.indexOf(")",e),i="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?K:z),o+=t.substr(s,e-s)+ue(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),s=r+1;return o+t.substr(s,t.length-s)},de=function(t,e,n,r,i){var s=e-t,o=r-n;return Jt(i,(function(e){return n+((e-t)/s*o||0)}))},fe=function(t,e,n){var r,i,s,o=t.labels,a=I;for(r in o)(i=o[r]-e)<0==!!n&&i&&a>(i=Math.abs(i))&&(s=r,a=i);return s},pe=function(t,e,n){var r,i,s,o=t.vars,c=o[e],u=a,l=t._ctx;if(c)return r=o[e+"Params"],i=o.callbackScope||t,n&&ot.length&&bt(),l&&(a=l),s=r?c.apply(i,r):c.call(i),a=u,s},ge=function(t){return Rt(t),t.scrollTrigger&&t.scrollTrigger.kill(!!o),t.progress()<1&&pe(t,"onInterrupt"),t},me=[],ve=function(t){if(t)if(t=!t.name&&t.default||t,U()||t.headless){var e=t.name,n=D(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:et,render:un,add:Ge,kill:hn,modifier:ln,rawVars:0},s={targetTest:0,get:0,getSetter:sn,aliases:{},register:0};if(Ae(),t!==r){if(ct[e])return;St(r,St(At(t,i),s)),Ct(r.prototype,Ct(i,At(t,s))),ct[r.prop=e]=r,t.targetTest&&(ht.push(r),st[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}tt(e,r),t.register&&t.register(kn,r,pn)}else me.push(t)},ye=255,_e={aqua:[0,ye,ye],lime:[0,ye,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ye],navy:[0,0,128],white:[ye,ye,ye],olive:[128,128,0],yellow:[ye,ye,0],orange:[ye,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ye,0,0],pink:[ye,192,203],cyan:[0,ye,ye],transparent:[ye,ye,ye,0]},we=function(t,e,n){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*ye+.5|0},be=function(t,e,n){var r,i,s,o,a,c,u,l,h,d,f=t?N(t)?[t>>16,t>>8&ye,t&ye]:0:_e.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),_e[t])f=_e[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),i=t.charAt(2),s=t.charAt(3),t="#"+r+r+i+i+s+s+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(f=parseInt(t.substr(1,6),16))>>16,f>>8&ye,f&ye,parseInt(t.substr(7),16)/255];f=[(t=parseInt(t.substr(1),16))>>16,t>>8&ye,t&ye]}else if("hsl"===t.substr(0,3))if(f=d=t.match(z),e){if(~t.indexOf("="))return f=t.match(q),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,r=2*(c=+f[2]/100)-(i=c<=.5?c*(a+1):c+a-c*a),f.length>3&&(f[3]*=1),f[0]=we(o+1/3,r,i),f[1]=we(o,r,i),f[2]=we(o-1/3,r,i);else f=t.match(z)||_e.transparent;f=f.map(Number)}return e&&!d&&(r=f[0]/ye,i=f[1]/ye,s=f[2]/ye,c=((u=Math.max(r,i,s))+(l=Math.min(r,i,s)))/2,u===l?o=a=0:(h=u-l,a=c>.5?h/(2-u-l):h/(u+l),o=u===r?(i-s)/h+(i<s?6:0):u===i?(s-r)/h+2:(r-i)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*c+.5)),n&&f.length<4&&(f[3]=1),f},Ee=function(t){var e=[],n=[],r=-1;return t.split(Ie).forEach((function(t){var i=t.match(H)||[];e.push.apply(e,i),n.push(r+=i.length+1)})),e.c=n,e},Te=function(t,e,n){var r,i,s,o,a="",c=(t+a).match(Ie),u=e?"hsla(":"rgba(",l=0;if(!c)return t;if(c=c.map((function(t){return(t=be(t,e,1))&&u+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(s=Ee(t),(r=n.c).join(a)!==s.c.join(a)))for(o=(i=t.replace(Ie,"1").split(H)).length-1;l<o;l++)a+=i[l]+(~r.indexOf(l)?c.shift()||u+"0,0,0,0)":(s.length?s:c.length?c:n).shift());if(!i)for(o=(i=t.split(Ie)).length-1;l<o;l++)a+=i[l]+c[l];return a+i[o]},Ie=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in _e)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Se=/hsl[a]?\(/,Ce=function(t){var e,n=t.join(" ");if(Ie.lastIndex=0,Ie.test(n))return e=Se.test(n),t[1]=Te(t[1],e),t[0]=Te(t[0],e,Ee(t[1])),!0},ke=function(){var t,e,n,r,i,s,o=Date.now,a=500,c=33,f=o(),p=f,m=1e3/240,v=m,y=[],_=function n(u){var l,h,d,g,_=o()-p,w=!0===u;if((_>a||_<0)&&(f+=_-c),((l=(d=(p+=_)-f)-v)>0||w)&&(g=++r.frame,i=d-1e3*r.time,r.time=d/=1e3,v+=l+(l>=m?4:m-l),h=1),w||(t=e(n)),h)for(s=0;s<y.length;s++)y[s](d,i,g,u)};return r={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){d&&(!l&&U()&&(u=l=window,h=u.document||{},X.gsap=kn,(u.gsapVersions||(u.gsapVersions=[])).push(kn.version),Q(Y||u.GreenSockGlobals||!u.gsap&&u||{}),me.forEach(ve)),n="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,t&&r.sleep(),e=n||function(t){return setTimeout(t,v-1e3*r.time+1|0)},g=1,_(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(t),g=0,e=et},lagSmoothing:function(t,e){a=t||1/0,c=Math.min(e||33,a)},fps:function(t){m=1e3/(t||240),v=1e3*r.time+m},add:function(t,e,n){var i=e?function(e,n,s,o){t(e,n,s,o),r.remove(i)}:t;return r.remove(t),y[n?"unshift":"push"](i),Ae(),i},remove:function(t,e){~(e=y.indexOf(t))&&y.splice(e,1)&&s>=e&&s--},_listeners:y}}(),Ae=function(){return!g&&ke.wake()},xe={},Oe=/^[\d.\-M][\d.\-,\s]/,Pe=/["']/g,Re=function(t){for(var e,n,r,i={},s=t.substr(1,t.length-3).split(":"),o=s[0],a=1,c=s.length;a<c;a++)n=s[a],e=a!==c-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),i[o]=isNaN(r)?r.replace(Pe,"").trim():+r,o=n.substr(e+1).trim();return i},De=function(t){return function(e){return 1-t(1-e)}},Ne=function t(e,n){for(var r,i=e._first;i;)i instanceof ze?t(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Le=function(t,e){return t&&(D(t)?t:xe[t]||function(t){var e,n,r,i,s=(t+"").split("("),o=xe[s[0]];return o&&s.length>1&&o.config?o.config.apply(null,~t.indexOf("{")?[Re(s[1])]:(e=t,n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n),e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)).split(",").map(Tt)):xe._CE&&Oe.test(t)?xe._CE("",t):o}(t))||e},Me=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,s={easeIn:e,easeOut:n,easeInOut:r};return mt(t,(function(t){for(var e in xe[t]=X[t]=s,xe[i=t.toLowerCase()]=n,s)xe[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=xe[t+"."+e]=s[e]})),s},Fe=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Ue=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/C*(Math.asin(1/i)||0),a=function(t){return 1===t?1:i*Math.pow(2,-10*t)*P((t-o)*s)+1},c="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:Fe(a);return s=C/s,c.config=function(n,r){return t(e,n,r)},c},Ve=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:Fe(r);return i.config=function(n){return t(e,n)},i};mt("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;Me(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),xe.Linear.easeNone=xe.none=xe.Linear.easeIn,Me("Elastic",Ue("in"),Ue("out"),Ue()),m=7.5625,_=2*(y=1/(v=2.75)),w=2.5*y,Me("Bounce",(function(t){return 1-b(1-t)}),b=function(t){return t<y?m*t*t:t<_?m*Math.pow(t-1.5/v,2)+.75:t<w?m*(t-=2.25/v)*t+.9375:m*Math.pow(t-2.625/v,2)+.984375}),Me("Expo",(function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)})),Me("Circ",(function(t){return-(x(1-t*t)-1)})),Me("Sine",(function(t){return 1===t?1:1-O(t*k)})),Me("Back",Ve("in"),Ve("out"),Ve()),xe.SteppedEase=xe.steps=X.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0;return function(t){return((r*Zt(0,.99999999,t)|0)+i)*n}}},T.ease=xe["quad.out"],mt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return dt+=t+","+t+"Params,"}));var je=function(t,e){this.id=A++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:gt,this.set=e?e.getSetter:sn},Be=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Kt(this,+t.duration,1,1),this.data=t.data,a&&(this._ctx=a,a.data.push(this)),g||ke.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Kt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Ae(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(jt(this,t),!n._dp||n.parent||Bt(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&zt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===S||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Et(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Mt(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Mt(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Ft(this._tTime,n)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?Ut(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(Zt(-Math.abs(this._delay),this._tDur,n),!1!==e),Vt(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ae(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==S&&(this._tTime-=S)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&zt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(F(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ut(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=it);var e=o;return o=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),o=e,this},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Wt(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Wt(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Yt(this,t),F(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,F(e)),this._dur||(this._zTime=-1e-8),this},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-S))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=D(t)?t:It,i=function(){var t=e.then;e.then=null,D(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){ge(this)},t}();St(Be.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var ze=function(t){function e(e,n){var i;return void 0===e&&(e={}),(i=t.call(this,e)||this).labels={},i.smoothChildTiming=!!e.smoothChildTiming,i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=F(e.sortChildren),c&&zt(e.parent||c,r(i),n),e.reversed&&i.reverse(),e.paused&&i.paused(!0),e.scrollTrigger&&qt(r(i),e.scrollTrigger),i}i(e,t);var n=e.prototype;return n.to=function(t,e,n){return Qt(0,arguments,this),this},n.from=function(t,e,n){return Qt(1,arguments,this),this},n.fromTo=function(t,e,n,r){return Qt(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,xt(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Ze(t,e,Yt(this,n),1),this},n.call=function(t,e,n){return zt(this,Ze.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,r,i,s,o){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=o,n.parent=this,new Ze(t,n,Yt(this,i)),this},n.staggerFrom=function(t,e,n,r,i,s,o){return n.runBackwards=1,xt(n).immediateRender=F(n.immediateRender),this.staggerTo(t,e,n,r,i,s,o)},n.staggerFromTo=function(t,e,n,r,i,s,o,a){return r.startAt=n,xt(r).immediateRender=F(r.immediateRender),this.staggerTo(t,e,r,i,s,o,a)},n.render=function(t,e,n){var r,i,s,a,u,l,h,d,f,p,g,m,v=this._time,y=this._dirty?this.totalDuration():this._tDur,_=this._dur,w=t<=0?0:yt(t),b=this._zTime<0!=t<0&&(this._initted||!_);if(this!==c&&w>y&&t>=0&&(w=y),w!==this._tTime||n||b){if(v!==this._time&&_&&(w+=this._time-v,t+=this._time-v),r=w,f=this._start,l=!(d=this._ts),b&&(_||(v=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(g=this._yoyo,u=_+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*u+t,e,n);if(r=yt(w%u),w===y?(a=this._repeat,r=_):((a=~~(p=yt(w/u)))&&a===p&&(r=_,a--),r>_&&(r=_)),p=Ft(this._tTime,u),!v&&this._tTime&&p!==a&&this._tTime-p*u-this._dur<=0&&(p=a),g&&1&a&&(r=_-r,m=1),a!==p&&!this._lock){var E=g&&1&p,T=E===(g&&1&a);if(a<p&&(E=!E),v=E?0:w%_?_:w,this._lock=1,this.render(v||(m?0:yt(a*u)),e,!_)._lock=0,this._tTime=w,!e&&this.parent&&pe(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),v&&v!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(_=this._dur,y=this._tDur,T&&(this._lock=2,v=E?_:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;Ne(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,yt(v),yt(r)),h&&(w-=r-(r=h._start))),this._tTime=w,this._time=r,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,v=0),!v&&r&&!e&&!a&&(pe(this,"onStart"),this._tTime!==w))return this;if(r>=v&&t>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!l){h=0,s&&(w+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var I=t<0?t:r;i;){if(s=i._prev,(i._act||I<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(I-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(I-i._start)*i._ts,e,n||o&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!l){h=0,s&&(w+=this._zTime=I?-1e-8:S);break}}i=s}}if(h&&!e&&(this.pause(),h.render(r>=v?0:-1e-8)._zTime=r>=v?1:-1,this._ts))return this._start=f,Vt(this),this.render(t,e,n);this._onUpdate&&!e&&pe(this,"onUpdate",!0),(w===y&&this._tTime>=this.totalDuration()||!w&&v)&&(f!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((t||!_)&&(w===y&&this._ts>0||!w&&this._ts<0)&&Rt(this,1),e||t<0&&!v||!w&&!v&&y||(pe(this,w===y&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(w<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(N(e)||(e=Yt(this,e,t)),!(t instanceof Be)){if(B(t))return t.forEach((function(t){return n.add(t,e)})),this;if(R(t))return this.addLabel(t,e);if(!D(t))return this;t=Ze.delayedCall(0,t)}return this!==t?zt(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-I);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof Ze?e&&i.push(s):(n&&i.push(s),t&&i.push.apply(i,s.getChildren(!0,e,n)))),s=s._next;return i},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return R(t)?this.removeLabel(t):D(t)?this.killTweensOf(t):(t.parent===this&&Pt(this,t),t===this._recent&&(this._recent=this._last),Dt(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=yt(ke.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Yt(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=Ze.delayedCall(0,e||et,n);return r.data="isPause",this._hasPause=1,zt(this,r,Yt(this,t))},n.removePause=function(t){var e=this._first;for(t=Yt(this,t);e;)e._start===t&&"isPause"===e.data&&Rt(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)qe!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],i=re(t),s=this._first,o=N(e);s;)s instanceof Ze?wt(s._targets,i)&&(o?(!qe||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&r.push(s):(n=s.getTweensOf(i,e)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(t,e){e=e||{};var n,r=this,i=Yt(r,t),s=e,o=s.startAt,a=s.onStart,c=s.onStartParams,u=s.immediateRender,l=Ze.to(r,St({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||S,onStart:function(){if(r.pause(),!n){var t=e.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());l._dur!==t&&Kt(l,t,0,1).render(l._time,!0,!0),n=1}a&&a.apply(l,c||[])}},e));return u?l.render(0):l},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,St({startAt:{time:Yt(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),fe(this,Yt(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),fe(this,Yt(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+S)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,i=this._first,s=this.labels;i;)i._start>=n&&(i._start+=t,i._end+=t),i=i._next;if(e)for(r in s)s[r]>=n&&(s[r]+=t);return Dt(this)},n.invalidate=function(e){var n=this._first;for(this._lock=0;n;)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Dt(this)},n.totalDuration=function(t){var e,n,r,i=0,s=this,o=s._last,a=I;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(r=s.parent;o;)e=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,zt(s,o,n-o._delay,1)._lock=0):a=n,n<0&&o._ts&&(i-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=n/s._ts,s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),a=0),o._end>i&&o._ts&&(i=o._end),o=e;Kt(s,s===c&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(t){if(c._ts&&(Et(c,Ut(t,c)),f=ke.frame),ke.frame>=lt){lt+=E.autoSleep||120;var e=c._first;if((!e||!e._ts)&&E.autoSleep&&ke._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||ke.sleep()}}},e}(Be);St(ze.prototype,{_lock:0,_hasPause:0,_forcing:0});var qe,He,$e=function(t,e,n,r,i,s,o){var a,c,u,l,h,d,f,p,g=new pn(this._pt,t,e,0,1,cn,null,i),m=0,v=0;for(g.b=n,g.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=he(r)),s&&(s(p=[n,r],t,e),n=p[0],r=p[1]),c=n.match($)||[];a=$.exec(r);)l=a[0],h=r.substring(m,a.index),u?u=(u+1)%5:"rgba("===h.substr(-5)&&(u=1),l!==c[v++]&&(d=parseFloat(c[v-1])||0,g._pt={_next:g._pt,p:h||1===v?h:",",s:d,c:"="===l.charAt(1)?_t(d,l)-d:parseFloat(l)-d,m:u&&u<4?Math.round:0},m=$.lastIndex);return g.c=m<r.length?r.substring(m,r.length):"",g.fp=o,(G.test(r)||f)&&(g.e=0),this._pt=g,g},Ge=function(t,e,n,r,i,s,o,a,c,u){D(r)&&(r=r(i||0,t,s));var l,h=t[e],d="get"!==n?n:D(h)?c?t[e.indexOf("set")||!D(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():h,f=D(h)?c?nn:en:tn;if(R(r)&&(~r.indexOf("random(")&&(r=he(r)),"="===r.charAt(1)&&((l=_t(d,r)+(te(d)||0))||0===l)&&(r=l)),!u||d!==r||He)return isNaN(d*r)||""===r?(!h&&!(e in t)&&J(e,r),$e.call(this,t,e,d,r,f,a||E.stringFilter,c)):(l=new pn(this._pt,t,e,+d||0,r-(d||0),"boolean"==typeof h?an:on,0,f),c&&(l.fp=c),o&&l.modifier(o,this,t),this._pt=l)},Ke=function(t,e,n,r,i,s){var o,a,c,u;if(ct[t]&&!1!==(o=new ct[t]).init(i,o.rawVars?e[t]:function(t,e,n,r,i){if(D(t)&&(t=Ye(t,i,e,n,r)),!M(t)||t.style&&t.nodeType||B(t)||j(t))return R(t)?Ye(t,i,e,n,r):t;var s,o={};for(s in t)o[s]=Ye(t[s],i,e,n,r);return o}(e[t],r,i,s,n),n,r,s)&&(n._pt=a=new pn(n._pt,i,t,0,1,o.render,o,0,o.priority),n!==p))for(c=n._ptLookup[n._targets.indexOf(i)],u=o._props.length;u--;)c[o._props[u]]=a;return o},We=function t(e,n,r){var i,a,u,l,h,d,f,p,g,m,v,y,_,w=e.vars,b=w.ease,E=w.startAt,C=w.immediateRender,k=w.lazy,A=w.onUpdate,x=w.runBackwards,O=w.yoyoEase,P=w.keyframes,R=w.autoRevert,D=e._dur,N=e._startAt,L=e._targets,M=e.parent,U=M&&"nested"===M.data?M.vars.targets:L,V="auto"===e._overwrite&&!s,j=e.timeline;if(j&&(!P||!b)&&(b="none"),e._ease=Le(b,T.ease),e._yEase=O?De(Le(!0===O?b:O,T.ease)):0,O&&e._yoyo&&!e._repeat&&(O=e._yEase,e._yEase=e._ease,e._ease=O),e._from=!j&&!!w.runBackwards,!j||P&&!w.stagger){if(y=(p=L[0]?pt(L[0]).harness:0)&&w[p.prop],i=At(w,st),N&&(N._zTime<0&&N.progress(1),n<0&&x&&C&&!R?N.render(-1,!0):N.revert(x&&D?rt:nt),N._lazy=0),E){if(Rt(e._startAt=Ze.set(L,St({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:!N&&F(k),startAt:null,delay:0,onUpdate:A&&function(){return pe(e,"onUpdate")},stagger:0},E))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(o||!C&&!R)&&e._startAt.revert(rt),C&&D&&n<=0&&r<=0)return void(n&&(e._zTime=n))}else if(x&&D&&!N)if(n&&(C=!1),u=St({overwrite:!1,data:"isFromStart",lazy:C&&!N&&F(k),immediateRender:C,stagger:0,parent:M},i),y&&(u[p.prop]=y),Rt(e._startAt=Ze.set(L,u)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(o?e._startAt.revert(rt):e._startAt.render(-1,!0)),e._zTime=n,C){if(!n)return}else t(e._startAt,S,S);for(e._pt=e._ptCache=0,k=D&&F(k)||k&&!D,a=0;a<L.length;a++){if(f=(h=L[a])._gsap||ft(L)[a]._gsap,e._ptLookup[a]=m={},at[f.id]&&ot.length&&bt(),v=U===L?a:U.indexOf(h),p&&!1!==(g=new p).init(h,y||i,e,v,U)&&(e._pt=l=new pn(e._pt,h,g.name,0,1,g.render,g,0,g.priority),g._props.forEach((function(t){m[t]=l})),g.priority&&(d=1)),!p||y)for(u in i)ct[u]&&(g=Ke(u,i,e,v,h,U))?g.priority&&(d=1):m[u]=l=Ge.call(e,h,u,"get",i[u],v,U,0,w.stringFilter);e._op&&e._op[a]&&e.kill(h,e._op[a]),V&&e._pt&&(qe=e,c.killTweensOf(h,m,e.globalTime(n)),_=!e.parent,qe=0),e._pt&&k&&(at[f.id]=1)}d&&fn(e),e._onInit&&e._onInit(e)}e._onUpdate=A,e._initted=(!e._op||e._pt)&&!_,P&&n<=0&&j.render(I,!0,!0)},Xe=function(t,e,n,r){var i,s,o=e.ease||r||"power1.inOut";if(B(e))s=n[t]||(n[t]=[]),e.forEach((function(t,n){return s.push({t:n/(e.length-1)*100,v:t,e:o})}));else for(i in e)s=n[i]||(n[i]=[]),"ease"===i||s.push({t:parseFloat(t),v:e[i],e:o})},Ye=function(t,e,n,r,i){return D(t)?t.call(e,n,r,i):R(t)&&~t.indexOf("random(")?he(t):t},Qe=dt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Je={};mt(Qe+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return Je[t]=1}));var Ze=function(t){function e(e,n,i,o){var a;"number"==typeof n&&(i.duration=n,n=i,i=null);var u,l,h,d,f,p,g,m,v=(a=t.call(this,o?n:xt(n))||this).vars,y=v.duration,_=v.delay,w=v.immediateRender,b=v.stagger,T=v.overwrite,I=v.keyframes,S=v.defaults,C=v.scrollTrigger,k=v.yoyoEase,A=n.parent||c,x=(B(e)||j(e)?N(e[0]):"length"in n)?[e]:re(e);if(a._targets=x.length?ft(x):Z("GSAP target "+e+" not found. https://gsap.com",!E.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=T,I||b||V(y)||V(_)){if(n=a.vars,(u=a.timeline=new ze({data:"nested",defaults:S||{},targets:A&&"nested"===A.data?A.vars.targets:x})).kill(),u.parent=u._dp=r(a),u._start=0,b||V(y)||V(_)){if(d=x.length,g=b&&oe(b),M(b))for(f in b)~Qe.indexOf(f)&&(m||(m={}),m[f]=b[f]);for(l=0;l<d;l++)(h=At(n,Je)).stagger=0,k&&(h.yoyoEase=k),m&&Ct(h,m),p=x[l],h.duration=+Ye(y,r(a),l,p,x),h.delay=(+Ye(_,r(a),l,p,x)||0)-a._delay,!b&&1===d&&h.delay&&(a._delay=_=h.delay,a._start+=_,h.delay=0),u.to(p,h,g?g(l,p,x):0),u._ease=xe.none;u.duration()?y=_=0:a.timeline=0}else if(I){xt(St(u.vars.defaults,{ease:"none"})),u._ease=Le(I.ease||n.ease||"none");var O,P,R,D=0;if(B(I))I.forEach((function(t){return u.to(x,t,">")})),u.duration();else{for(f in h={},I)"ease"===f||"easeEach"===f||Xe(f,I[f],h,I.easeEach);for(f in h)for(O=h[f].sort((function(t,e){return t.t-e.t})),D=0,l=0;l<O.length;l++)(R={ease:(P=O[l]).e,duration:(P.t-(l?O[l-1].t:0))/100*y})[f]=P.v,u.to(x,R,D),D+=R.duration;u.duration()<y&&u.to({},{duration:y-u.duration()})}}y||a.duration(y=u.duration())}else a.timeline=0;return!0!==T||s||(qe=r(a),c.killTweensOf(x),qe=0),zt(A,r(a),i),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(w||!y&&!I&&a._start===yt(A._time)&&F(w)&&Lt(r(a))&&"nested"!==A.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-_)||0)),C&&qt(r(a),C),a}i(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,s,a,c,u,l,h,d,f=this._time,p=this._tDur,g=this._dur,m=t<0,v=t>p-S&&!m?p:t<S?0:t;if(g){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(r=v,h=this.timeline,this._repeat){if(a=g+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*a+t,e,n);if(r=yt(v%a),v===p?(s=this._repeat,r=g):(s=~~(c=yt(v/a)))&&s===c?(r=g,s--):r>g&&(r=g),(u=this._yoyo&&1&s)&&(d=this._yEase,r=g-r),c=Ft(this._tTime,a),r===f&&!n&&this._initted&&s===c)return this._tTime=v,this;s!==c&&(h&&this._yEase&&Ne(h,u),this.vars.repeatRefresh&&!u&&!this._lock&&r!==a&&this._initted&&(this._lock=n=1,this.render(yt(a*s),!0).invalidate()._lock=0))}if(!this._initted){if(Ht(this,m?t:r,n,e,v))return this._tTime=0,this;if(!(f===this._time||n&&this.vars.repeatRefresh&&s!==c))return this;if(g!==this._dur)return this.render(t,e,n)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(d||this._ease)(r/g),this._from&&(this.ratio=l=1-l),r&&!f&&!e&&!s&&(pe(this,"onStart"),this._tTime!==v))return this;for(i=this._pt;i;)i.r(l,i.d),i=i._next;h&&h.render(t<0?t:h._dur*h._ease(r/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(m&&Nt(this,t,0,n),pe(this,"onUpdate")),this._repeat&&s!==c&&this.vars.onRepeat&&!e&&this.parent&&pe(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(m&&!this._onUpdate&&Nt(this,t,0,!0),(t||!g)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Rt(this,1),e||m&&!f||!(v||f||u)||(pe(this,v===p?"onComplete":"onReverseComplete",!0),this._prom&&!(v<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var i,s,a,c=t.ratio,u=e<0||!e&&(!t._start&&$t(t)&&(t._initted||!Gt(t))||(t._ts<0||t._dp._ts<0)&&!Gt(t))?0:1,l=t._rDelay,h=0;if(l&&t._repeat&&(h=Zt(0,t._tDur,e),s=Ft(h,l),t._yoyo&&1&s&&(u=1-u),s!==Ft(t._tTime,l)&&(c=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==c||o||r||t._zTime===S||!e&&t._zTime){if(!t._initted&&Ht(t,e,r,n,h))return;for(a=t._zTime,t._zTime=e||(n?S:0),n||(n=e&&!a),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=h,i=t._pt;i;)i.r(u,i.d),i=i._next;e<0&&Nt(t,e,0,!0),t._onUpdate&&!n&&pe(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&pe(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&Rt(t,1),n||o||(pe(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,r,i){g||ke.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||We(this,s),function(t,e,n,r,i,s,o,a){var c,u,l,h,d=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!d)for(d=t._ptCache[e]=[],l=t._ptLookup,h=t._targets.length;h--;){if((c=l[h][e])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==e&&c.fp!==e;)c=c._next;if(!c)return He=1,t.vars[e]="+=0",We(t,o),He=0,a?Z(e+" not eligible for reset"):1;d.push(c)}for(h=d.length;h--;)(c=(u=d[h])._pt||u).s=!r&&0!==r||i?c.s+(r||0)+s*c.c:r,c.c=n-c.s,u.e&&(u.e=vt(n)+te(u.e)),u.b&&(u.b=c.s+te(u.b))}(this,t,e,n,r,this._ease(s/this._dur),s,i)?this.resetTo(t,e,n,r,1):(jt(this,0),this.parent||Ot(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?ge(this):this.scrollTrigger&&this.scrollTrigger.kill(!!o),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,qe&&!0!==qe.vars.overwrite)._first||ge(this),this.parent&&n!==this.timeline.totalDuration()&&Kt(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,s,a,c,u,l,h=this._targets,d=t?re(t):h,f=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(h,d))return"all"===e&&(this._pt=0),ge(this);for(r=this._op=this._op||[],"all"!==e&&(R(e)&&(c={},mt(e,(function(t){return c[t]=1})),e=c),e=function(t,e){var n,r,i,s,o=t[0]?pt(t[0]).harness:0,a=o&&o.aliases;if(!a)return e;for(r in n=Ct({},e),a)if(r in n)for(i=(s=a[r].split(",")).length;i--;)n[s[i]]=n[r];return n}(h,e)),l=h.length;l--;)if(~d.indexOf(h[l]))for(c in i=f[l],"all"===e?(r[l]=e,a=i,s={}):(s=r[l]=r[l]||{},a=e),a)(u=i&&i[c])&&("kill"in u.d&&!0!==u.d.kill(c)||Pt(this,u,"_pt"),delete i[c]),"all"!==s&&(s[c]=1);return this._initted&&!this._pt&&p&&ge(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return Qt(1,arguments)},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,e,n){return Qt(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return c.killTweensOf(t,e,n)},e}(Be);St(Ze.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),mt("staggerTo,staggerFrom,staggerFromTo",(function(t){Ze[t]=function(){var e=new ze,n=ee.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var tn=function(t,e,n){return t[e]=n},en=function(t,e,n){return t[e](n)},nn=function(t,e,n,r){return t[e](r.fp,n)},rn=function(t,e,n){return t.setAttribute(e,n)},sn=function(t,e){return D(t[e])?en:L(t[e])&&t.setAttribute?rn:tn},on=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},an=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},cn=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},un=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},ln=function(t,e,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(t,e,n),s=i},hn=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?Pt(this,r,"_pt"):r.dep||(e=1),r=n;return!e},dn=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},fn=function(t){for(var e,n,r,i,s=t._pt;s;){for(e=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=e}t._pt=r},pn=function(){function t(t,e,n,r,i,s,o,a,c){this.t=e,this.s=r,this.c=i,this.p=n,this.r=s||on,this.d=o||this,this.set=a||tn,this.pr=c||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=dn,this.m=t,this.mt=n,this.tween=e},t}();mt(dt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return st[t]=1})),X.TweenMax=X.TweenLite=Ze,X.TimelineLite=X.TimelineMax=ze,c=new ze({sortChildren:!1,defaults:T,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),E.stringFilter=Ce;var gn=[],mn={},vn=[],yn=0,_n=0,wn=function(t){return(mn[t]||vn).map((function(t){return t()}))},bn=function(){var t=Date.now(),e=[];t-yn>2&&(wn("matchMediaInit"),gn.forEach((function(t){var n,r,i,s,o=t.queries,a=t.conditions;for(r in o)(n=u.matchMedia(o[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,s=1);s&&(t.revert(),i&&e.push(t))})),wn("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),yn=t,wn("matchMedia"))},En=function(){function t(t,e){this.selector=e&&ie(e),this.data=[],this._r=[],this.isReverted=!1,this.id=_n++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){D(t)&&(n=e,e=t,t=D);var r=this,i=function(){var t,i=a,s=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=ie(n)),a=r,t=e.apply(r,arguments),D(t)&&r._r.push(t),a=i,r.selector=s,r.isReverted=!1,t};return r.last=i,t===D?i(r,(function(t){return r.add(null,t)})):t?r[t]=i:i},e.ignore=function(t){var e=a;a=null,t(this),a=e},e.getTweens=function(){var e=[];return this.data.forEach((function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof Ze&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t?function(){for(var e,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(e=n.data[i]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return r.splice(r.indexOf(t),1)})));for(r.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),i=n.data.length;i--;)(e=n.data[i])instanceof ze?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof Ze)&&e.revert&&e.revert(t);n._r.forEach((function(e){return e(t,n)})),n.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var r=gn.length;r--;)gn[r].id===this.id&&gn.splice(r,1)},e.revert=function(t){this.kill(t||{})},t}(),Tn=function(){function t(t){this.contexts=[],this.scope=t,a&&a.data.push(this)}var e=t.prototype;return e.add=function(t,e,n){M(t)||(t={matches:t});var r,i,s,o=new En(0,n||this.scope),c=o.conditions={};for(i in a&&!o.selector&&(o.selector=a.selector),this.contexts.push(o),e=o.add("onMatch",e),o.queries=t,t)"all"===i?s=1:(r=u.matchMedia(t[i]))&&(gn.indexOf(o)<0&&gn.push(o),(c[i]=r.matches)&&(s=1),r.addListener?r.addListener(bn):r.addEventListener("change",bn));return s&&e(o,(function(t){return o.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),In={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return ve(t)}))},timeline:function(t){return new ze(t)},getTweensOf:function(t,e){return c.getTweensOf(t,e)},getProperty:function(t,e,n,r){R(t)&&(t=re(t)[0]);var i=pt(t||{}).get,s=n?It:Tt;return"native"===n&&(n=""),t?e?s((ct[e]&&ct[e].get||i)(t,e,n,r)):function(e,n,r){return s((ct[e]&&ct[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=re(t)).length>1){var r=t.map((function(t){return kn.quickSetter(t,e,n)})),i=r.length;return function(t){for(var e=i;e--;)r[e](t)}}t=t[0]||{};var s=ct[e],o=pt(t),a=o.harness&&(o.harness.aliases||{})[e]||e,c=s?function(e){var r=new s;p._pt=0,r.init(t,n?e+n:e,p,0,[t]),r.render(1,r),p._pt&&un(1,p)}:o.set(t,a);return s?c:function(e){return c(t,a,n?e+n:e,o,1)}},quickTo:function(t,e,n){var r,i=kn.to(t,St(((r={})[e]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),s=function(t,n,r){return i.resetTo(e,t,n,r)};return s.tween=i,s},isTweening:function(t){return c.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Le(t.ease,T.ease)),kt(T,t||{})},config:function(t){return kt(E,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,s=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!ct[t]&&!X[t]&&Z(e+" effect requires "+t+" plugin.")})),ut[e]=function(t,e,r){return n(re(t),St(e||{},i),r)},s&&(ze.prototype[e]=function(t,n,r){return this.add(ut[e](t,M(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){xe[t]=Le(e)},parseEase:function(t,e){return arguments.length?Le(t,e):xe},getById:function(t){return c.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new ze(t);for(i.smoothChildTiming=F(t.smoothChildTiming),c.remove(i),i._dp=0,i._time=i._tTime=c._time,n=c._first;n;)r=n._next,!e&&!n._dur&&n instanceof Ze&&n.vars.onComplete===n._targets[0]||zt(i,n,n._start-n._delay),n=r;return zt(c,i,0),i},context:function(t,e){return t?new En(t,e):a},matchMedia:function(t){return new Tn(t)},matchMediaRefresh:function(){return gn.forEach((function(t){var e,n,r=t.conditions;for(n in r)r[n]&&(r[n]=!1,e=1);e&&t.revert()}))||bn()},addEventListener:function(t,e){var n=mn[t]||(mn[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=mn[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},utils:{wrap:function t(e,n,r){var i=n-e;return B(e)?le(e,t(0,e.length),n):Jt(r,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,n,r){var i=n-e,s=2*i;return B(e)?le(e,t(0,e.length-1),n):Jt(r,(function(t){return e+((t=(s+(t-e)%s)%s||0)>i?s-t:t)}))},distribute:oe,random:ue,snap:ce,normalize:function(t,e,n){return de(t,e,0,1,n)},getUnit:te,clamp:function(t,e,n){return Jt(n,(function(n){return Zt(t,e,n)}))},splitColor:be,toArray:re,selector:ie,mapRange:de,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||te(n))}},interpolate:function t(e,n,r,i){var s=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!s){var o,a,c,u,l,h=R(e),d={};if(!0===r&&(i=1)&&(r=null),h)e={p:e},n={p:n};else if(B(e)&&!B(n)){for(c=[],u=e.length,l=u-2,a=1;a<u;a++)c.push(t(e[a-1],e[a]));u--,s=function(t){t*=u;var e=Math.min(l,~~t);return c[e](t-e)},r=n}else i||(e=Ct(B(e)?[]:{},e));if(!c){for(o in n)Ge.call(d,e,o,"get",n[o]);s=function(t){return un(t,d)||(h?e.p:e)}}}return Jt(r,s)},shuffle:se},install:Q,effects:ut,ticker:ke,updateRoot:ze.updateRoot,plugins:ct,globalTimeline:c,core:{PropTween:pn,globals:tt,Tween:Ze,Timeline:ze,Animation:Be,getCache:pt,_removeLinkedListItem:Pt,reverting:function(){return o},context:function(t){return t&&a&&(a.data.push(t),t._ctx=a),a},suppressOverwrites:function(t){return s=t}}};mt("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return In[t]=Ze[t]})),ke.add(ze.updateRoot),p=In.to({},{duration:0});var Sn=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},Cn=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(R(n)&&(r={},mt(n,(function(t){return r[t]=1})),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}!function(t,e){var n,r,i,s=t._targets;for(n in e)for(r=s.length;r--;)(i=t._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=Sn(i,n)),i&&i.modifier&&i.modifier(e[n],t,s[r],n))}(t,n)}}}},kn=In.registerPlugin({name:"attr",init:function(t,e,n,r,i){var s,o,a;for(s in this.tween=n,e)a=t.getAttribute(s)||"",(o=this.add(t,"setAttribute",(a||0)+"",e[s],r,i,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(t,e){for(var n=e._pt;n;)o?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},Cn("roundProps",ae),Cn("modifiers"),Cn("snap",ce))||In;Ze.version=ze.version=kn.version="3.12.7",d=1,U()&&Ae(),xe.Power0,xe.Power1,xe.Power2,xe.Power3,xe.Power4,xe.Linear,xe.Quad,xe.Cubic,xe.Quart,xe.Quint,xe.Strong,xe.Elastic,xe.Back,xe.SteppedEase,xe.Bounce,xe.Sine,xe.Expo,xe.Circ},650:(t,e,n)=>{n.d(e,{H0:()=>It});var r,i,s,o,a,c,u,l,h=n(607),d={},f=180/Math.PI,p=Math.PI/180,g=Math.atan2,m=/([A-Z])/g,v=/(left|right|width|margin|padding|x)/i,y=/[\s,\(]\S/,_={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},w=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},b=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},E=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},T=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},I=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},S=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},C=function(t,e,n){return t.style[e]=n},k=function(t,e,n){return t.style.setProperty(e,n)},A=function(t,e,n){return t._gsap[e]=n},x=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},O=function(t,e,n,r,i){var s=t._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},P=function(t,e,n,r,i){var s=t._gsap;s[e]=n,s.renderTransform(i,s)},R="transform",D=R+"Origin",N=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in d&&s){if(this.tfm=this.tfm||{},"transform"===e)return _.transform.split(",").forEach((function(e){return t.call(r,e,n)}));if(~(e=_[e]||e).indexOf(",")?e.split(",").forEach((function(t){return r.tfm[t]=J(i,t)})):this.tfm[e]=o.x?o[e]:J(i,e),e===D&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(R)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(D,n,"")),e=R}(s||n)&&this.props.push(e,n,s[e])},L=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},M=function(){var t,e,n=this.props,r=this.target,i=r.style,s=r._gsap;for(t=0;t<n.length;t+=3)n[t+1]?2===n[t+1]?r[n[t]](n[t+2]):r[n[t]]=n[t+2]:n[t+2]?i[n[t]]=n[t+2]:i.removeProperty("--"===n[t].substr(0,2)?n[t]:n[t].replace(m,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)s[e]=this.tfm[e];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(t=u())&&t.isStart||i[R]||(L(i),s.zOrigin&&i[D]&&(i[D]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},F=function(t,e){var n={target:t,props:[],revert:M,save:N};return t._gsap||h.os.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach((function(t){return n.save(t)})),n},U=function(t,e){var n=i.createElementNS?i.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):i.createElement(t);return n&&n.style?n:i.createElement(t)},V=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(m,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,B(n)||n,1)||""},j="O,Moz,ms,Ms,Webkit".split(","),B=function(t,e,n){var r=(e||a).style,i=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(j[i]+t in r););return i<0?null:(3===i?"ms":i>=0?j[i]:"")+t},z=function(){"undefined"!=typeof window&&window.document&&(r=window,i=r.document,s=i.documentElement,a=U("div")||{style:{}},U("div"),R=B(R),D=R+"Origin",a.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",l=!!B("perspective"),u=h.os.core.reverting,o=1)},q=function(t){var e,n=t.ownerSVGElement,r=U("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=t.cloneNode(!0);i.style.display="block",r.appendChild(i),s.appendChild(r);try{e=i.getBBox()}catch(t){}return r.removeChild(i),s.removeChild(r),e},H=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},$=function(t){var e,n;try{e=t.getBBox()}catch(r){e=q(t),n=1}return e&&(e.width||e.height)||n||(e=q(t)),!e||e.width||e.x||e.y?e:{x:+H(t,["x","cx","x1"])||0,y:+H(t,["y","cy","y1"])||0,width:0,height:0}},G=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!$(t))},K=function(t,e){if(e){var n,r=t.style;e in d&&e!==D&&(e=R),r.removeProperty?("ms"!==(n=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty("--"===n?e:e.replace(m,"-$1").toLowerCase())):r.removeAttribute(e)}},W=function(t,e,n,r,i,s){var o=new h.J7(t._pt,e,n,0,1,s?S:I);return t._pt=o,o.b=r,o.e=i,t._props.push(n),o},X={deg:1,rad:1,turn:1},Y={grid:1,flex:1},Q=function t(e,n,r,s){var o,c,u,l,f=parseFloat(r)||0,p=(r+"").trim().substr((f+"").length)||"px",g=a.style,m=v.test(n),y="svg"===e.tagName.toLowerCase(),_=(y?"client":"offset")+(m?"Width":"Height"),w=100,b="px"===s,E="%"===s;if(s===p||!f||X[s]||X[p])return f;if("px"!==p&&!b&&(f=t(e,n,r,"px")),l=e.getCTM&&G(e),(E||"%"===p)&&(d[n]||~n.indexOf("adius")))return o=l?e.getBBox()[m?"width":"height"]:e[_],(0,h.E_)(E?f/o*w:f/100*o);if(g[m?"width":"height"]=w+(b?p:s),c="rem"!==s&&~n.indexOf("adius")||"em"===s&&e.appendChild&&!y?e:e.parentNode,l&&(c=(e.ownerSVGElement||{}).parentNode),c&&c!==i&&c.appendChild||(c=i.body),(u=c._gsap)&&E&&u.width&&m&&u.time===h.au.time&&!u.uncache)return(0,h.E_)(f/u.width*w);if(!E||"height"!==n&&"width"!==n)(E||"%"===p)&&!Y[V(c,"display")]&&(g.position=V(e,"position")),c===e&&(g.position="static"),c.appendChild(a),o=a[_],c.removeChild(a),g.position="absolute";else{var T=e.style[n];e.style[n]=w+s,o=e[_],T?e.style[n]=T:K(e,n)}return m&&E&&((u=(0,h.a0)(c)).time=h.au.time,u.width=c[_]),(0,h.E_)(b?o*f/w:o&&f?w/o*f:0)},J=function(t,e,n,r){var i;return o||z(),e in _&&"transform"!==e&&~(e=_[e]).indexOf(",")&&(e=e.split(",")[0]),d[e]&&"transform"!==e?(i=ut(t,r),i="transformOrigin"!==e?i[e]:i.svg?i.origin:lt(V(t,D))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=nt[e]&&nt[e](t,e,n)||V(t,e)||(0,h.n)(t,e)||("opacity"===e?1:0)),n&&!~(i+"").trim().indexOf(" ")?Q(t,e,i,n)+n:i},Z=function(t,e,n,r){if(!n||"none"===n){var i=B(e,t,1),s=i&&V(t,i,1);s&&s!==n?(e=i,n=s):"borderColor"===e&&(n=V(t,"borderTopColor"))}var o,a,c,u,l,d,f,p,g,m,v,y=new h.J7(this._pt,t.style,e,0,1,h.l1),_=0,w=0;if(y.b=n,y.e=r,n+="","auto"==(r+="")&&(d=t.style[e],t.style[e]=r,r=V(t,e)||r,d?t.style[e]=d:K(t,e)),o=[n,r],(0,h.Uc)(o),r=o[1],c=(n=o[0]).match(h.vM)||[],(r.match(h.vM)||[]).length){for(;a=h.vM.exec(r);)f=a[0],g=r.substring(_,a.index),l?l=(l+1)%5:"rgba("!==g.substr(-5)&&"hsla("!==g.substr(-5)||(l=1),f!==(d=c[w++]||"")&&(u=parseFloat(d)||0,v=d.substr((u+"").length),"="===f.charAt(1)&&(f=(0,h.B0)(u,f)+v),p=parseFloat(f),m=f.substr((p+"").length),_=h.vM.lastIndex-m.length,m||(m=m||h.Yz.units[e]||v,_===r.length&&(r+=m,y.e+=m)),v!==m&&(u=Q(t,e,d,m)||0),y._pt={_next:y._pt,p:g||1===w?g:",",s:u,c:p-u,m:l&&l<4||"zIndex"===e?Math.round:0});y.c=_<r.length?r.substring(_,r.length):""}else y.r="display"===e&&"none"===r?S:I;return h.Ks.test(r)&&(y.e=0),this._pt=y,y},tt={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},et=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,s=e.t,o=s.style,a=e.u,c=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],d[n]&&(r=1,n="transformOrigin"===n?D:R),K(s,n);r&&(K(s,R),c&&(c.svg&&s.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",ut(s,1),c.uncache=1,L(o)))}},nt={clearProps:function(t,e,n,r,i){if("isFromStart"!==i.data){var s=t._pt=new h.J7(t._pt,e,n,0,0,et);return s.u=r,s.pr=-10,s.tween=i,t._props.push(n),1}}},rt=[1,0,0,1,0,0],it={},st=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},ot=function(t){var e=V(t,R);return st(e)?rt:e.substr(7).match(h.vX).map(h.E_)},at=function(t,e){var n,r,i,o,a=t._gsap||(0,h.a0)(t),c=t.style,u=ot(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?rt:u:(u!==rt||t.offsetParent||t===s||a.svg||(i=c.display,c.display="block",(n=t.parentNode)&&(t.offsetParent||t.getBoundingClientRect().width)||(o=1,r=t.nextElementSibling,s.appendChild(t)),u=ot(t),i?c.display=i:K(t,"display"),o&&(r?n.insertBefore(t,r):n?n.appendChild(t):s.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},ct=function(t,e,n,r,i,s){var o,a,c,u=t._gsap,l=i||at(t,!0),h=u.xOrigin||0,d=u.yOrigin||0,f=u.xOffset||0,p=u.yOffset||0,g=l[0],m=l[1],v=l[2],y=l[3],_=l[4],w=l[5],b=e.split(" "),E=parseFloat(b[0])||0,T=parseFloat(b[1])||0;n?l!==rt&&(a=g*y-m*v)&&(c=E*(-m/a)+T*(g/a)-(g*w-m*_)/a,E=E*(y/a)+T*(-v/a)+(v*w-y*_)/a,T=c):(E=(o=$(t)).x+(~b[0].indexOf("%")?E/100*o.width:E),T=o.y+(~(b[1]||b[0]).indexOf("%")?T/100*o.height:T)),r||!1!==r&&u.smooth?(_=E-h,w=T-d,u.xOffset=f+(_*g+w*v)-_,u.yOffset=p+(_*m+w*y)-w):u.xOffset=u.yOffset=0,u.xOrigin=E,u.yOrigin=T,u.smooth=!!r,u.origin=e,u.originIsAbsolute=!!n,t.style[D]="0px 0px",s&&(W(s,u,"xOrigin",h,E),W(s,u,"yOrigin",d,T),W(s,u,"xOffset",f,u.xOffset),W(s,u,"yOffset",p,u.yOffset)),t.setAttribute("data-svg-origin",E+" "+T)},ut=function(t,e){var n=t._gsap||new h.n6(t);if("x"in n&&!e&&!n.uncache)return n;var r,i,s,o,a,c,u,d,m,v,y,_,w,b,E,T,I,S,C,k,A,x,O,P,N,L,M,F,U,j,B,z,q=t.style,H=n.scaleX<0,$="px",K="deg",W=getComputedStyle(t),X=V(t,D)||"0";return r=i=s=c=u=d=m=v=y=0,o=a=1,n.svg=!(!t.getCTM||!G(t)),W.translate&&("none"===W.translate&&"none"===W.scale&&"none"===W.rotate||(q[R]=("none"!==W.translate?"translate3d("+(W.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==W.rotate?"rotate("+W.rotate+") ":"")+("none"!==W.scale?"scale("+W.scale.split(" ").join(",")+") ":"")+("none"!==W[R]?W[R]:"")),q.scale=q.rotate=q.translate="none"),b=at(t,n.svg),n.svg&&(n.uncache?(N=t.getBBox(),X=n.xOrigin-N.x+"px "+(n.yOrigin-N.y)+"px",P=""):P=!e&&t.getAttribute("data-svg-origin"),ct(t,P||X,!!P||n.originIsAbsolute,!1!==n.smooth,b)),_=n.xOrigin||0,w=n.yOrigin||0,b!==rt&&(S=b[0],C=b[1],k=b[2],A=b[3],r=x=b[4],i=O=b[5],6===b.length?(o=Math.sqrt(S*S+C*C),a=Math.sqrt(A*A+k*k),c=S||C?g(C,S)*f:0,(m=k||A?g(k,A)*f+c:0)&&(a*=Math.abs(Math.cos(m*p))),n.svg&&(r-=_-(_*S+w*k),i-=w-(_*C+w*A))):(z=b[6],j=b[7],M=b[8],F=b[9],U=b[10],B=b[11],r=b[12],i=b[13],s=b[14],u=(E=g(z,U))*f,E&&(P=x*(T=Math.cos(-E))+M*(I=Math.sin(-E)),N=O*T+F*I,L=z*T+U*I,M=x*-I+M*T,F=O*-I+F*T,U=z*-I+U*T,B=j*-I+B*T,x=P,O=N,z=L),d=(E=g(-k,U))*f,E&&(T=Math.cos(-E),B=A*(I=Math.sin(-E))+B*T,S=P=S*T-M*I,C=N=C*T-F*I,k=L=k*T-U*I),c=(E=g(C,S))*f,E&&(P=S*(T=Math.cos(E))+C*(I=Math.sin(E)),N=x*T+O*I,C=C*T-S*I,O=O*T-x*I,S=P,x=N),u&&Math.abs(u)+Math.abs(c)>359.9&&(u=c=0,d=180-d),o=(0,h.E_)(Math.sqrt(S*S+C*C+k*k)),a=(0,h.E_)(Math.sqrt(O*O+z*z)),E=g(x,O),m=Math.abs(E)>2e-4?E*f:0,y=B?1/(B<0?-B:B):0),n.svg&&(P=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!st(V(t,R)),P&&t.setAttribute("transform",P))),Math.abs(m)>90&&Math.abs(m)<270&&(H?(o*=-1,m+=c<=0?180:-180,c+=c<=0?180:-180):(a*=-1,m+=m<=0?180:-180)),e=e||n.uncache,n.x=r-((n.xPercent=r&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+$,n.y=i-((n.yPercent=i&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+$,n.z=s+$,n.scaleX=(0,h.E_)(o),n.scaleY=(0,h.E_)(a),n.rotation=(0,h.E_)(c)+K,n.rotationX=(0,h.E_)(u)+K,n.rotationY=(0,h.E_)(d)+K,n.skewX=m+K,n.skewY=v+K,n.transformPerspective=y+$,(n.zOrigin=parseFloat(X.split(" ")[2])||!e&&n.zOrigin||0)&&(q[D]=lt(X)),n.xOffset=n.yOffset=0,n.force3D=h.Yz.force3D,n.renderTransform=n.svg?vt:l?mt:dt,n.uncache=0,n},lt=function(t){return(t=t.split(" "))[0]+" "+t[1]},ht=function(t,e,n){var r=(0,h.l_)(e);return(0,h.E_)(parseFloat(e)+parseFloat(Q(t,"x",n+"px",r)))+r},dt=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,mt(t,e)},ft="0deg",pt="0px",gt=") ",mt=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,s=n.x,o=n.y,a=n.z,c=n.rotation,u=n.rotationY,l=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,g=n.scaleY,m=n.transformPerspective,v=n.force3D,y=n.target,_=n.zOrigin,w="",b="auto"===v&&t&&1!==t||!0===v;if(_&&(l!==ft||u!==ft)){var E,T=parseFloat(u)*p,I=Math.sin(T),S=Math.cos(T);T=parseFloat(l)*p,E=Math.cos(T),s=ht(y,s,I*E*-_),o=ht(y,o,-Math.sin(T)*-_),a=ht(y,a,S*E*-_+_)}m!==pt&&(w+="perspective("+m+gt),(r||i)&&(w+="translate("+r+"%, "+i+"%) "),(b||s!==pt||o!==pt||a!==pt)&&(w+=a!==pt||b?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+gt),c!==ft&&(w+="rotate("+c+gt),u!==ft&&(w+="rotateY("+u+gt),l!==ft&&(w+="rotateX("+l+gt),h===ft&&d===ft||(w+="skew("+h+", "+d+gt),1===f&&1===g||(w+="scale("+f+", "+g+gt),y.style[R]=w||"translate(0, 0)"},vt=function(t,e){var n,r,i,s,o,a=e||this,c=a.xPercent,u=a.yPercent,l=a.x,d=a.y,f=a.rotation,g=a.skewX,m=a.skewY,v=a.scaleX,y=a.scaleY,_=a.target,w=a.xOrigin,b=a.yOrigin,E=a.xOffset,T=a.yOffset,I=a.forceCSS,S=parseFloat(l),C=parseFloat(d);f=parseFloat(f),g=parseFloat(g),(m=parseFloat(m))&&(g+=m=parseFloat(m),f+=m),f||g?(f*=p,g*=p,n=Math.cos(f)*v,r=Math.sin(f)*v,i=Math.sin(f-g)*-y,s=Math.cos(f-g)*y,g&&(m*=p,o=Math.tan(g-m),i*=o=Math.sqrt(1+o*o),s*=o,m&&(o=Math.tan(m),n*=o=Math.sqrt(1+o*o),r*=o)),n=(0,h.E_)(n),r=(0,h.E_)(r),i=(0,h.E_)(i),s=(0,h.E_)(s)):(n=v,s=y,r=i=0),(S&&!~(l+"").indexOf("px")||C&&!~(d+"").indexOf("px"))&&(S=Q(_,"x",l,"px"),C=Q(_,"y",d,"px")),(w||b||E||T)&&(S=(0,h.E_)(S+w-(w*n+b*i)+E),C=(0,h.E_)(C+b-(w*r+b*s)+T)),(c||u)&&(o=_.getBBox(),S=(0,h.E_)(S+c/100*o.width),C=(0,h.E_)(C+u/100*o.height)),o="matrix("+n+","+r+","+i+","+s+","+S+","+C+")",_.setAttribute("transform",o),I&&(_.style[R]=o)},yt=function(t,e,n,r,i){var s,o,a=360,c=(0,h.vQ)(i),u=parseFloat(i)*(c&&~i.indexOf("rad")?f:1)-r,l=r+u+"deg";return c&&("short"===(s=i.split("_")[1])&&(u%=a)!=u%180&&(u+=u<0?a:-360),"cw"===s&&u<0?u=(u+36e9)%a-~~(u/a)*a:"ccw"===s&&u>0&&(u=(u-36e9)%a-~~(u/a)*a)),t._pt=o=new h.J7(t._pt,e,n,r,u,b),o.e=l,o.u="deg",t._props.push(n),o},_t=function(t,e){for(var n in e)t[n]=e[n];return t},wt=function(t,e,n){var r,i,s,o,a,c,u,l=_t({},n._gsap),f=n.style;for(i in l.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),f[R]=e,r=ut(n,1),K(n,R),n.setAttribute("transform",s)):(s=getComputedStyle(n)[R],f[R]=e,r=ut(n,1),f[R]=s),d)(s=l[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=(0,h.l_)(s)!==(u=(0,h.l_)(o))?Q(n,i,s,u):parseFloat(s),c=parseFloat(o),t._pt=new h.J7(t._pt,r,i,a,c-a,w),t._pt.u=u||0,t._props.push(i));_t(r,l)};(0,h.fA)("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map((function(n){return e<2?t+n:"border"+n+t}));nt[e>1?"border"+t:t]=function(t,e,n,r,i){var s,a;if(arguments.length<4)return s=o.map((function(e){return J(t,e,n)})),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(r+"").split(" "),a={},o.forEach((function(t,e){return a[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,a,i)}}));var bt,Et,Tt,It={name:"css",register:z,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var s,a,c,u,l,f,p,g,m,v,b,I,S,C,k,A,x,O,P,N,L=this._props,M=t.style,U=n.vars.startAt;for(p in o||z(),this.styles=this.styles||F(t),A=this.styles.props,this.tween=n,e)if("autoRound"!==p&&(a=e[p],!h.wU[p]||!(0,h.Zm)(p,e,n,r,t,i)))if(l=typeof a,f=nt[p],"function"===l&&(l=typeof(a=a.call(n,r,t,i))),"string"===l&&~a.indexOf("random(")&&(a=(0,h.Vy)(a)),f)f(this,t,p,a,n)&&(k=1);else if("--"===p.substr(0,2))s=(getComputedStyle(t).getPropertyValue(p)+"").trim(),a+="",h.qA.lastIndex=0,h.qA.test(s)||(g=(0,h.l_)(s),m=(0,h.l_)(a)),m?g!==m&&(s=Q(t,p,s,m)+m):g&&(a+=g),this.add(M,"setProperty",s,a,r,i,0,0,p),L.push(p),A.push(p,0,M[p]);else if("undefined"!==l){if(U&&p in U?(s="function"==typeof U[p]?U[p].call(n,r,t,i):U[p],(0,h.vQ)(s)&&~s.indexOf("random(")&&(s=(0,h.Vy)(s)),(0,h.l_)(s+"")||"auto"===s||(s+=h.Yz.units[p]||(0,h.l_)(J(t,p))||""),"="===(s+"").charAt(1)&&(s=J(t,p))):s=J(t,p),u=parseFloat(s),(v="string"===l&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),c=parseFloat(a),p in _&&("autoAlpha"===p&&(1===u&&"hidden"===J(t,"visibility")&&c&&(u=0),A.push("visibility",0,M.visibility),W(this,M,"visibility",u?"inherit":"hidden",c?"inherit":"hidden",!c)),"scale"!==p&&"transform"!==p&&~(p=_[p]).indexOf(",")&&(p=p.split(",")[0])),b=p in d)if(this.styles.save(p),I||((S=t._gsap).renderTransform&&!e.parseTransform||ut(t,e.parseTransform),C=!1!==e.smoothOrigin&&S.smooth,(I=this._pt=new h.J7(this._pt,M,R,0,1,S.renderTransform,S,0,-1)).dep=1),"scale"===p)this._pt=new h.J7(this._pt,S,"scaleY",S.scaleY,(v?(0,h.B0)(S.scaleY,v+c):c)-S.scaleY||0,w),this._pt.u=0,L.push("scaleY",p),p+="X";else{if("transformOrigin"===p){A.push(D,0,M[D]),O=void 0,P=void 0,N=void 0,P=(O=(x=a).split(" "))[0],N=O[1]||"50%","top"!==P&&"bottom"!==P&&"left"!==N&&"right"!==N||(x=P,P=N,N=x),O[0]=tt[P]||P,O[1]=tt[N]||N,a=O.join(" "),S.svg?ct(t,a,0,C,0,this):((m=parseFloat(a.split(" ")[2])||0)!==S.zOrigin&&W(this,S,"zOrigin",S.zOrigin,m),W(this,M,p,lt(s),lt(a)));continue}if("svgOrigin"===p){ct(t,a,1,C,0,this);continue}if(p in it){yt(this,S,p,u,v?(0,h.B0)(u,v+a):a);continue}if("smoothOrigin"===p){W(this,S,"smooth",S.smooth,a);continue}if("force3D"===p){S[p]=a;continue}if("transform"===p){wt(this,a,t);continue}}else p in M||(p=B(p)||p);if(b||(c||0===c)&&(u||0===u)&&!y.test(a)&&p in M)c||(c=0),(g=(s+"").substr((u+"").length))!==(m=(0,h.l_)(a)||(p in h.Yz.units?h.Yz.units[p]:g))&&(u=Q(t,p,s,m)),this._pt=new h.J7(this._pt,b?S:M,p,u,(v?(0,h.B0)(u,v+c):c)-u,b||"px"!==m&&"zIndex"!==p||!1===e.autoRound?w:T),this._pt.u=m||0,g!==m&&"%"!==m&&(this._pt.b=s,this._pt.r=E);else if(p in M)Z.call(this,t,p,s,v?v+a:a);else if(p in t)this.add(t,p,s||t[p],v?v+a:a,r,i);else if("parseTransform"!==p){(0,h.dg)(p,a);continue}b||(p in M?A.push(p,0,M[p]):"function"==typeof t[p]?A.push(p,2,t[p]()):A.push(p,1,s||t[p])),L.push(p)}k&&(0,h.St)(this)},render:function(t,e){if(e.tween._time||!u())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:J,aliases:_,getSetter:function(t,e,n){var r=_[e];return r&&r.indexOf(",")<0&&(e=r),e in d&&e!==D&&(t._gsap.x||J(t,"x"))?n&&c===n?"scale"===e?x:A:(c=n||{})&&("scale"===e?O:P):t.style&&!(0,h.OF)(t.style[e])?C:~e.indexOf("-")?k:(0,h.Dx)(t,e)},core:{_removeProperty:K,_getMatrix:at}};h.os.utils.checkPrefix=B,h.os.core.getStyleSaver=F,bt="x,y,z,scale,scaleX,scaleY,xPercent,yPercent",Et="rotation,rotationX,rotationY,skewX,skewY",Tt=(0,h.fA)(bt+","+Et+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){d[t]=1})),(0,h.fA)(Et,(function(t){h.Yz.units[t]="deg",it[t]=1})),_[Tt[13]]=bt+","+Et,(0,h.fA)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");_[e[1]]=Tt[e[0]]})),(0,h.fA)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){h.Yz.units[t]="px"})),h.os.registerPlugin(It)},738:(t,e,n)=>{n.d(e,{os:()=>s});var r=n(607),i=n(650),s=r.os.registerPlugin(i.H0)||r.os;s.core.Tween},990:(t,e,n)=>{n.d(e,{MF:()=>ut,j6:()=>st,xZ:()=>ot,om:()=>it,Sx:()=>ht,Wp:()=>lt,KO:()=>dt});var r=n(125),i=n(424),s=n(126);let o,a;const c=new WeakMap,u=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap;let f={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return u.get(t);if("objectStoreNames"===e)return t.objectStoreNames||l.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function p(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(m(this),t),g(c.get(this))}:function(...t){return g(e.apply(m(this),t))}:function(t,...n){const r=e.call(m(this),t,...n);return l.set(r,t.sort?t.sort():[t]),g(r)}:(t instanceof IDBTransaction&&function(t){if(u.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));u.set(t,e)}(t),n=t,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>n instanceof t))?new Proxy(t,f):t);var e,n}function g(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(g(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&c.set(e,t)})).catch((()=>{})),d.set(e,t),e}(t);if(h.has(t))return h.get(t);const e=p(t);return e!==t&&(h.set(t,e),d.set(e,t)),e}const m=t=>d.get(t),v=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],_=new Map;function w(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(_.get(e))return _.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),i&&s.done]))[0]};return _.set(e,s),s}var b;b=f,f={...b,get:(t,e,n)=>w(t,e)||b.get(t,e,n),has:(t,e)=>!!w(t,e)||b.has(t,e)};class E{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const T="@firebase/app",I="0.11.3",S=new i.Vy("@firebase/app"),C="@firebase/app-compat",k="@firebase/analytics-compat",A="@firebase/analytics",x="@firebase/app-check-compat",O="@firebase/app-check",P="@firebase/auth",R="@firebase/auth-compat",D="@firebase/database",N="@firebase/data-connect",L="@firebase/database-compat",M="@firebase/functions",F="@firebase/functions-compat",U="@firebase/installations",V="@firebase/installations-compat",j="@firebase/messaging",B="@firebase/messaging-compat",z="@firebase/performance",q="@firebase/performance-compat",H="@firebase/remote-config",$="@firebase/remote-config-compat",G="@firebase/storage",K="@firebase/storage-compat",W="@firebase/firestore",X="@firebase/vertexai",Y="@firebase/firestore-compat",Q="firebase",J="[DEFAULT]",Z={[T]:"fire-core",[C]:"fire-core-compat",[A]:"fire-analytics",[k]:"fire-analytics-compat",[O]:"fire-app-check",[x]:"fire-app-check-compat",[P]:"fire-auth",[R]:"fire-auth-compat",[D]:"fire-rtdb",[N]:"fire-data-connect",[L]:"fire-rtdb-compat",[M]:"fire-fn",[F]:"fire-fn-compat",[U]:"fire-iid",[V]:"fire-iid-compat",[j]:"fire-fcm",[B]:"fire-fcm-compat",[z]:"fire-perf",[q]:"fire-perf-compat",[H]:"fire-rc",[$]:"fire-rc-compat",[G]:"fire-gcs",[K]:"fire-gcs-compat",[W]:"fire-fst",[Y]:"fire-fst-compat",[X]:"fire-vertex","fire-js":"fire-js",[Q]:"fire-js-all"},tt=new Map,et=new Map,nt=new Map;function rt(t,e){try{t.container.addComponent(e)}catch(n){S.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function it(t){const e=t.name;if(nt.has(e))return S.debug(`There were multiple attempts to register component ${e}.`),!1;nt.set(e,t);for(const e of tt.values())rt(e,t);for(const e of et.values())rt(e,t);return!0}function st(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ot(t){return null!=t&&void 0!==t.settings}const at=new s.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ct{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw at.create("app-deleted",{appName:this._name})}}const ut="11.5.0";function lt(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:J,automaticDataCollectionEnabled:!1},e),o=i.name;if("string"!=typeof o||!o)throw at.create("bad-app-name",{appName:String(o)});if(n||(n=(0,s.T9)()),!n)throw at.create("no-options");const a=tt.get(o);if(a){if((0,s.bD)(n,a.options)&&(0,s.bD)(i,a.config))return a;throw at.create("duplicate-app",{appName:o})}const c=new r.h1(o);for(const t of nt.values())c.addComponent(t);const u=new ct(n,i,c);return tt.set(o,u),u}function ht(t=J){const e=tt.get(t);if(!e&&t===J&&(0,s.T9)())return lt();if(!e)throw at.create("no-app",{appName:t});return e}function dt(t,e,n){var i;let s=null!==(i=Z[t])&&void 0!==i?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void S.warn(t.join(" "))}it(new r.uA(`${s}-version`,(()=>({library:s,version:e})),"VERSION"))}const ft="firebase-heartbeat-store";let pt=null;function gt(){return pt||(pt=function(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=g(o);return r&&o.addEventListener("upgradeneeded",(t=>{r(g(o.result),t.oldVersion,t.newVersion,g(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(ft)}catch(t){console.warn(t)}}}).catch((t=>{throw at.create("idb-open",{originalErrorMessage:t.message})}))),pt}async function mt(t,e){try{const n=(await gt()).transaction(ft,"readwrite"),r=n.objectStore(ft);await r.put(e,vt(t)),await n.done}catch(t){if(t instanceof s.g)S.warn(t.message);else{const e=at.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});S.warn(e.message)}}}function vt(t){return`${t.name}!${t.options.appId}`}class yt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new wt(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_t();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((t=>t.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const t=function(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(t,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){S.warn(t)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=_t(),{heartbeatsToSend:n,unsentEntries:r}=function(t,e=1024){const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),bt(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bt(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return S.warn(t),""}}}function _t(){return(new Date).toISOString().substring(0,10)}class wt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await gt()).transaction(ft),n=await e.objectStore(ft).get(vt(t));return await e.done,n}catch(t){if(t instanceof s.g)S.warn(t.message);else{const e=at.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});S.warn(e.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return mt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return mt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function bt(t){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:t})).length}it(new r.uA("platform-logger",(t=>new E(t)),"PRIVATE")),it(new r.uA("heartbeat",(t=>new yt(t)),"PRIVATE")),dt(T,I,""),dt(T,I,"esm2017"),dt("fire-js","")}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r=n(738);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s,o,a,c,u,l,h,d,f,p,g,m,v,y=function(){return s||"undefined"!=typeof window&&(s=window.gsap)&&s.registerPlugin&&s},_=1,w=[],b=[],E=[],T=Date.now,I=function(t,e){return e},S=function(t,e){return~E.indexOf(t)&&E[E.indexOf(t)+1][e]},C=function(t){return!!~p.indexOf(t)},k=function(t,e,n,r,i){return t.addEventListener(e,n,{passive:!1!==r,capture:!!i})},A=function(t,e,n,r){return t.removeEventListener(e,n,!!r)},x="scrollLeft",O="scrollTop",P=function(){return g&&g.isPressed||b.cache++},R=function(t,e){var n=function n(r){if(r||0===r){_&&(a.history.scrollRestoration="manual");var i=g&&g.isPressed;r=n.v=Math.round(r)||(g&&g.iOS?1:0),t(r),n.cacheID=b.cache,i&&I("ss",r)}else(e||b.cache!==n.cacheID||I("ref"))&&(n.cacheID=b.cache,n.v=t());return n.v+n.offset};return n.offset=0,t&&n},D={s:x,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:R((function(t){return arguments.length?a.scrollTo(t,N.sc()):a.pageXOffset||c[x]||u[x]||l[x]||0}))},N={s:O,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:D,sc:R((function(t){return arguments.length?a.scrollTo(D.sc(),t):a.pageYOffset||c[O]||u[O]||l[O]||0}))},L=function(t,e){return(e&&e._ctx&&e._ctx.selector||s.utils.toArray)(t)[0]||("string"==typeof t&&!1!==s.config().nullTargetWarn?console.warn("Element not found:",t):null)},M=function(t,e){var n=e.s,r=e.sc;C(t)&&(t=c.scrollingElement||u);var i=b.indexOf(t),o=r===N.sc?1:2;!~i&&(i=b.push(t)-1),b[i+o]||k(t,"scroll",P);var a=b[i+o],l=a||(b[i+o]=R(S(t,n),!0)||(C(t)?r:R((function(e){return arguments.length?t[n]=e:t[n]}))));return l.target=t,a||(l.smooth="smooth"===s.getProperty(t,"scrollBehavior")),l},F=function(t,e,n){var r=t,i=t,s=T(),o=s,a=e||50,c=Math.max(500,3*a),u=function(t,e){var c=T();e||c-s>a?(i=r,r=t,o=s,s=c):n?r+=t:r=i+(t-i)/(c-o)*(s-o)};return{update:u,reset:function(){i=r=n?0:r,o=s=0},getVelocity:function(t){var e=o,a=i,l=T();return(t||0===t)&&t!==r&&u(t),s===o||l-o>c?0:(r+(n?a:-a))/((n?l:s)-e)*1e3}}},U=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},V=function(t){var e=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(n)?e:n},j=function(){var t,e,n,r;(f=s.core.globals().ScrollTrigger)&&f.core&&(t=f.core,e=t.bridge||{},n=t._scrollers,r=t._proxies,n.push.apply(n,b),r.push.apply(r,E),b=n,E=r,I=function(t,n){return e[t](n)})},B=function(t){return s=t||y(),!o&&s&&"undefined"!=typeof document&&document.body&&(a=window,c=document,u=c.documentElement,l=c.body,p=[a,c,u,l],s.utils.clamp,v=s.core.context||function(){},d="onpointerenter"in l?"pointer":"mouse",h=z.isTouch=a.matchMedia&&a.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in a||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,m=z.eventTypes=("ontouchstart"in u?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in u?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return _=0}),500),j(),o=1),o};D.op=N,b.cache=0;var z=function(){function t(t){this.init(t)}var e,n;return t.prototype.init=function(t){o||B(s)||console.warn("Please gsap.registerPlugin(Observer)"),f||j();var e=t.tolerance,n=t.dragMinimum,r=t.type,i=t.target,p=t.lineHeight,y=t.debounce,_=t.preventDefault,b=t.onStop,E=t.onStopDelay,I=t.ignore,S=t.wheelSpeed,x=t.event,O=t.onDragStart,R=t.onDragEnd,z=t.onDrag,q=t.onPress,H=t.onRelease,$=t.onRight,G=t.onLeft,K=t.onUp,W=t.onDown,X=t.onChangeX,Y=t.onChangeY,Q=t.onChange,J=t.onToggleX,Z=t.onToggleY,tt=t.onHover,et=t.onHoverEnd,nt=t.onMove,rt=t.ignoreCheck,it=t.isNormalizer,st=t.onGestureStart,ot=t.onGestureEnd,at=t.onWheel,ct=t.onEnable,ut=t.onDisable,lt=t.onClick,ht=t.scrollSpeed,dt=t.capture,ft=t.allowClicks,pt=t.lockAxis,gt=t.onLockAxis;this.target=i=L(i)||u,this.vars=t,I&&(I=s.utils.toArray(I)),e=e||1e-9,n=n||0,S=S||1,ht=ht||1,r=r||"wheel,touch,pointer",y=!1!==y,p||(p=parseFloat(a.getComputedStyle(l).lineHeight)||22);var mt,vt,yt,_t,wt,bt,Et,Tt=this,It=0,St=0,Ct=t.passive||!_&&!1!==t.passive,kt=M(i,D),At=M(i,N),xt=kt(),Ot=At(),Pt=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===m[0],Rt=C(i),Dt=i.ownerDocument||c,Nt=[0,0,0],Lt=[0,0,0],Mt=0,Ft=function(){return Mt=T()},Ut=function(t,e){return(Tt.event=t)&&I&&~I.indexOf(t.target)||e&&Pt&&"touch"!==t.pointerType||rt&&rt(t,e)},Vt=function(){var t=Tt.deltaX=V(Nt),n=Tt.deltaY=V(Lt),r=Math.abs(t)>=e,i=Math.abs(n)>=e;Q&&(r||i)&&Q(Tt,t,n,Nt,Lt),r&&($&&Tt.deltaX>0&&$(Tt),G&&Tt.deltaX<0&&G(Tt),X&&X(Tt),J&&Tt.deltaX<0!=It<0&&J(Tt),It=Tt.deltaX,Nt[0]=Nt[1]=Nt[2]=0),i&&(W&&Tt.deltaY>0&&W(Tt),K&&Tt.deltaY<0&&K(Tt),Y&&Y(Tt),Z&&Tt.deltaY<0!=St<0&&Z(Tt),St=Tt.deltaY,Lt[0]=Lt[1]=Lt[2]=0),(_t||yt)&&(nt&&nt(Tt),yt&&(O&&1===yt&&O(Tt),z&&z(Tt),yt=0),_t=!1),bt&&!(bt=!1)&&gt&&gt(Tt),wt&&(at(Tt),wt=!1),mt=0},jt=function(t,e,n){Nt[n]+=t,Lt[n]+=e,Tt._vx.update(t),Tt._vy.update(e),y?mt||(mt=requestAnimationFrame(Vt)):Vt()},Bt=function(t,e){pt&&!Et&&(Tt.axis=Et=Math.abs(t)>Math.abs(e)?"x":"y",bt=!0),"y"!==Et&&(Nt[2]+=t,Tt._vx.update(t,!0)),"x"!==Et&&(Lt[2]+=e,Tt._vy.update(e,!0)),y?mt||(mt=requestAnimationFrame(Vt)):Vt()},zt=function(t){if(!Ut(t,1)){var e=(t=U(t,_)).clientX,r=t.clientY,i=e-Tt.x,s=r-Tt.y,o=Tt.isDragging;Tt.x=e,Tt.y=r,(o||(i||s)&&(Math.abs(Tt.startX-e)>=n||Math.abs(Tt.startY-r)>=n))&&(yt=o?2:1,o||(Tt.isDragging=!0),Bt(i,s))}},qt=Tt.onPress=function(t){Ut(t,1)||t&&t.button||(Tt.axis=Et=null,vt.pause(),Tt.isPressed=!0,t=U(t),It=St=0,Tt.startX=Tt.x=t.clientX,Tt.startY=Tt.y=t.clientY,Tt._vx.reset(),Tt._vy.reset(),k(it?i:Dt,m[1],zt,Ct,!0),Tt.deltaX=Tt.deltaY=0,q&&q(Tt))},Ht=Tt.onRelease=function(t){if(!Ut(t,1)){A(it?i:Dt,m[1],zt,!0);var e=!isNaN(Tt.y-Tt.startY),n=Tt.isDragging,r=n&&(Math.abs(Tt.x-Tt.startX)>3||Math.abs(Tt.y-Tt.startY)>3),o=U(t);!r&&e&&(Tt._vx.reset(),Tt._vy.reset(),_&&ft&&s.delayedCall(.08,(function(){if(T()-Mt>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(Dt.createEvent){var e=Dt.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,a,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}}))),Tt.isDragging=Tt.isGesturing=Tt.isPressed=!1,b&&n&&!it&&vt.restart(!0),yt&&Vt(),R&&n&&R(Tt),H&&H(Tt,r)}},$t=function(t){return t.touches&&t.touches.length>1&&(Tt.isGesturing=!0)&&st(t,Tt.isDragging)},Gt=function(){return(Tt.isGesturing=!1)||ot(Tt)},Kt=function(t){if(!Ut(t)){var e=kt(),n=At();jt((e-xt)*ht,(n-Ot)*ht,1),xt=e,Ot=n,b&&vt.restart(!0)}},Wt=function(t){if(!Ut(t)){t=U(t,_),at&&(wt=!0);var e=(1===t.deltaMode?p:2===t.deltaMode?a.innerHeight:1)*S;jt(t.deltaX*e,t.deltaY*e,0),b&&!it&&vt.restart(!0)}},Xt=function(t){if(!Ut(t)){var e=t.clientX,n=t.clientY,r=e-Tt.x,i=n-Tt.y;Tt.x=e,Tt.y=n,_t=!0,b&&vt.restart(!0),(r||i)&&Bt(r,i)}},Yt=function(t){Tt.event=t,tt(Tt)},Qt=function(t){Tt.event=t,et(Tt)},Jt=function(t){return Ut(t)||U(t,_)&&lt(Tt)};vt=Tt._dc=s.delayedCall(E||.25,(function(){Tt._vx.reset(),Tt._vy.reset(),vt.pause(),b&&b(Tt)})).pause(),Tt.deltaX=Tt.deltaY=0,Tt._vx=F(0,50,!0),Tt._vy=F(0,50,!0),Tt.scrollX=kt,Tt.scrollY=At,Tt.isDragging=Tt.isGesturing=Tt.isPressed=!1,v(this),Tt.enable=function(t){return Tt.isEnabled||(k(Rt?Dt:i,"scroll",P),r.indexOf("scroll")>=0&&k(Rt?Dt:i,"scroll",Kt,Ct,dt),r.indexOf("wheel")>=0&&k(i,"wheel",Wt,Ct,dt),(r.indexOf("touch")>=0&&h||r.indexOf("pointer")>=0)&&(k(i,m[0],qt,Ct,dt),k(Dt,m[2],Ht),k(Dt,m[3],Ht),ft&&k(i,"click",Ft,!0,!0),lt&&k(i,"click",Jt),st&&k(Dt,"gesturestart",$t),ot&&k(Dt,"gestureend",Gt),tt&&k(i,d+"enter",Yt),et&&k(i,d+"leave",Qt),nt&&k(i,d+"move",Xt)),Tt.isEnabled=!0,Tt.isDragging=Tt.isGesturing=Tt.isPressed=_t=yt=!1,Tt._vx.reset(),Tt._vy.reset(),xt=kt(),Ot=At(),t&&t.type&&qt(t),ct&&ct(Tt)),Tt},Tt.disable=function(){Tt.isEnabled&&(w.filter((function(t){return t!==Tt&&C(t.target)})).length||A(Rt?Dt:i,"scroll",P),Tt.isPressed&&(Tt._vx.reset(),Tt._vy.reset(),A(it?i:Dt,m[1],zt,!0)),A(Rt?Dt:i,"scroll",Kt,dt),A(i,"wheel",Wt,dt),A(i,m[0],qt,dt),A(Dt,m[2],Ht),A(Dt,m[3],Ht),A(i,"click",Ft,!0),A(i,"click",Jt),A(Dt,"gesturestart",$t),A(Dt,"gestureend",Gt),A(i,d+"enter",Yt),A(i,d+"leave",Qt),A(i,d+"move",Xt),Tt.isEnabled=Tt.isPressed=Tt.isDragging=!1,ut&&ut(Tt))},Tt.kill=Tt.revert=function(){Tt.disable();var t=w.indexOf(Tt);t>=0&&w.splice(t,1),g===Tt&&(g=0)},w.push(Tt),it&&C(i)&&(g=Tt),Tt.enable(x)},e=t,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&i(e.prototype,n),t}();z.version="3.12.7",z.create=function(t){return new z(t)},z.register=B,z.getAll=function(){return w.slice()},z.getById=function(t){return w.filter((function(e){return e.vars.id===t}))[0]},y()&&s.registerPlugin(z);var q,H,$,G,K,W,X,Y,Q,J,Z,tt,et,nt,rt,it,st,ot,at,ct,ut,lt,ht,dt,ft,pt,gt,mt,vt,yt,_t,wt,bt,Et,Tt,It,St,Ct,kt=1,At=Date.now,xt=At(),Ot=0,Pt=0,Rt=function(t,e,n){var r=Gt(t)&&("clamp("===t.substr(0,6)||t.indexOf("max")>-1);return n["_"+e+"Clamp"]=r,r?t.substr(6,t.length-7):t},Dt=function(t,e){return!e||Gt(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"},Nt=function t(){return Pt&&requestAnimationFrame(t)},Lt=function(){return nt=1},Mt=function(){return nt=0},Ft=function(t){return t},Ut=function(t){return Math.round(1e5*t)/1e5||0},Vt=function(){return"undefined"!=typeof window},jt=function(){return q||Vt()&&(q=window.gsap)&&q.registerPlugin&&q},Bt=function(t){return!!~X.indexOf(t)},zt=function(t){return("Height"===t?_t:$["inner"+t])||K["client"+t]||W["client"+t]},qt=function(t){return S(t,"getBoundingClientRect")||(Bt(t)?function(){return nn.width=$.innerWidth,nn.height=_t,nn}:function(){return ge(t)})},Ht=function(t,e){var n=e.s,r=e.d2,i=e.d,s=e.a;return Math.max(0,(n="scroll"+r)&&(s=S(t,n))?s()-qt(t)()[i]:Bt(t)?(K[n]||W[n])-zt(r):t[n]-t["offset"+r])},$t=function(t,e){for(var n=0;n<at.length;n+=3)(!e||~e.indexOf(at[n+1]))&&t(at[n],at[n+1],at[n+2])},Gt=function(t){return"string"==typeof t},Kt=function(t){return"function"==typeof t},Wt=function(t){return"number"==typeof t},Xt=function(t){return"object"==typeof t},Yt=function(t,e,n){return t&&t.progress(e?0:1)&&n&&t.pause()},Qt=function(t,e){if(t.enabled){var n=t._ctx?t._ctx.add((function(){return e(t)})):e(t);n&&n.totalTime&&(t.callbackAnimation=n)}},Jt=Math.abs,Zt="left",te="right",ee="bottom",ne="width",re="height",ie="Right",se="Left",oe="Top",ae="Bottom",ce="padding",ue="margin",le="Width",he="Height",de="px",fe=function(t){return $.getComputedStyle(t)},pe=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},ge=function(t,e){var n=e&&"matrix(1, 0, 0, 1, 0, 0)"!==fe(t)[rt]&&q.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return n&&n.progress(0).kill(),r},me=function(t,e){var n=e.d2;return t["offset"+n]||t["client"+n]||0},ve=function(t){var e,n=[],r=t.labels,i=t.duration();for(e in r)n.push(r[e]/i);return n},ye=function(t){var e=q.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort((function(t,e){return t-e}));return n?function(t,r,i){var s;if(void 0===i&&(i=.001),!r)return e(t);if(r>0){for(t-=i,s=0;s<n.length;s++)if(n[s]>=t)return n[s];return n[s-1]}for(s=n.length,t+=i;s--;)if(n[s]<=t)return n[s];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var s=e(n);return!r||Math.abs(s-n)<i||s-n<0==r<0?s:e(r<0?n-t:n+t)}},_e=function(t,e,n,r){return n.split(",").forEach((function(n){return t(e,n,r)}))},we=function(t,e,n,r,i){return t.addEventListener(e,n,{passive:!r,capture:!!i})},be=function(t,e,n,r){return t.removeEventListener(e,n,!!r)},Ee=function(t,e,n){(n=n&&n.wheelHandler)&&(t(e,"wheel",n),t(e,"touchmove",n))},Te={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ie={toggleActions:"play",anticipatePin:0},Se={top:0,left:0,center:.5,bottom:1,right:1},Ce=function(t,e){if(Gt(t)){var n=t.indexOf("="),r=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(r*=e/100),t=t.substr(0,n-1)),t=r+(t in Se?Se[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},ke=function(t,e,n,r,i,s,o,a){var c=i.startColor,u=i.endColor,l=i.fontSize,h=i.indent,d=i.fontWeight,f=G.createElement("div"),p=Bt(n)||"fixed"===S(n,"pinType"),g=-1!==t.indexOf("scroller"),m=p?W:n,v=-1!==t.indexOf("start"),y=v?c:u,_="border-color:"+y+";font-size:"+l+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((g||a)&&p?"fixed;":"absolute;"),(g||a||!p)&&(_+=(r===N?te:ee)+":"+(s+parseFloat(h))+"px;"),o&&(_+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),f.style.cssText=_,f.innerText=e||0===e?t+"-"+e:t,m.children[0]?m.insertBefore(f,m.children[0]):m.appendChild(f),f._offset=f["offset"+r.op.d2],Ae(f,0,r,v),f},Ae=function(t,e,n,r){var i={display:"block"},s=n[r?"os2":"p2"],o=n[r?"p2":"os2"];t._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+s+le]=1,i["border"+o+le]=0,i[n.p]=e+"px",q.set(t,i)},xe=[],Oe={},Pe=function(){return At()-Ot>34&&(Tt||(Tt=requestAnimationFrame(Xe)))},Re=function(){(!ht||!ht.isPressed||ht.startX>W.clientWidth)&&(b.cache++,ht?Tt||(Tt=requestAnimationFrame(Xe)):Xe(),Ot||Ue("scrollStart"),Ot=At())},De=function(){pt=$.innerWidth,ft=$.innerHeight},Ne=function(t){b.cache++,(!0===t||!et&&!lt&&!G.fullscreenElement&&!G.webkitFullscreenElement&&(!dt||pt!==$.innerWidth||Math.abs($.innerHeight-ft)>.25*$.innerHeight))&&Y.restart(!0)},Le={},Me=[],Fe=function t(){return be(ln,"scrollEnd",t)||Ge(!0)},Ue=function(t){return Le[t]&&Le[t].map((function(t){return t()}))||Me},Ve=[],je=function(t){for(var e=0;e<Ve.length;e+=5)(!t||Ve[e+4]&&Ve[e+4].query===t)&&(Ve[e].style.cssText=Ve[e+1],Ve[e].getBBox&&Ve[e].setAttribute("transform",Ve[e+2]||""),Ve[e+3].uncache=1)},Be=function(t,e){var n;for(it=0;it<xe.length;it++)!(n=xe[it])||e&&n._ctx!==e||(t?n.kill(1):n.revert(!0,!0));wt=!0,e&&je(e),e||Ue("revert")},ze=function(t,e){b.cache++,(e||!It)&&b.forEach((function(t){return Kt(t)&&t.cacheID++&&(t.rec=0)})),Gt(t)&&($.history.scrollRestoration=vt=t)},qe=0,He=function(){W.appendChild(yt),_t=!ht&&yt.offsetHeight||$.innerHeight,W.removeChild(yt)},$e=function(t){return Q(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(e){return e.style.display=t?"none":"block"}))},Ge=function(t,e){if(K=G.documentElement,W=G.body,X=[$,G,K,W],!Ot||t||wt){He(),It=ln.isRefreshing=!0,b.forEach((function(t){return Kt(t)&&++t.cacheID&&(t.rec=t())}));var n=Ue("refreshInit");ct&&ln.sort(),e||Be(),b.forEach((function(t){Kt(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))})),xe.slice(0).forEach((function(t){return t.refresh()})),wt=!1,xe.forEach((function(t){if(t._subPinOffset&&t.pin){var e=t.vars.horizontal?"offsetWidth":"offsetHeight",n=t.pin[e];t.revert(!0,1),t.adjustPinSpacing(t.pin[e]-n),t.refresh()}})),bt=1,$e(!0),xe.forEach((function(t){var e=Ht(t.scroller,t._dir),n="max"===t.vars.end||t._endClamp&&t.end>e,r=t._startClamp&&t.start>=e;(n||r)&&t.setPositions(r?e-1:t.start,n?Math.max(r?e:t.start+1,e):t.end,!0)})),$e(!1),bt=0,n.forEach((function(t){return t&&t.render&&t.render(-1)})),b.forEach((function(t){Kt(t)&&(t.smooth&&requestAnimationFrame((function(){return t.target.style.scrollBehavior="smooth"})),t.rec&&t(t.rec))})),ze(vt,1),Y.pause(),qe++,It=2,Xe(2),xe.forEach((function(t){return Kt(t.vars.onRefresh)&&t.vars.onRefresh(t)})),It=ln.isRefreshing=!1,Ue("refresh")}else we(ln,"scrollEnd",Fe)},Ke=0,We=1,Xe=function(t){if(2===t||!It&&!wt){ln.isUpdating=!0,Ct&&Ct.update(0);var e=xe.length,n=At(),r=n-xt>=50,i=e&&xe[0].scroll();if(We=Ke>i?-1:1,It||(Ke=i),r&&(Ot&&!nt&&n-Ot>200&&(Ot=0,Ue("scrollEnd")),Z=xt,xt=n),We<0){for(it=e;it-- >0;)xe[it]&&xe[it].update(0,r);We=1}else for(it=0;it<e;it++)xe[it]&&xe[it].update(0,r);ln.isUpdating=!1}Tt=0},Ye=[Zt,"top",ee,te,ue+ae,ue+ie,ue+oe,ue+se,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Qe=Ye.concat([ne,re,"boxSizing","max"+le,"max"+he,"position",ue,ce,ce+oe,ce+ie,ce+ae,ce+se]),Je=function(t,e,n,r){if(!t._gsap.swappedIn){for(var i,s=Ye.length,o=e.style,a=t.style;s--;)o[i=Ye[s]]=n[i];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),a[ee]=a[te]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[ne]=me(t,D)+de,o[re]=me(t,N)+de,o[ce]=a[ue]=a.top=a[Zt]="0",tn(r),a[ne]=a["max"+le]=n[ne],a[re]=a["max"+he]=n[re],a[ce]=n[ce],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},Ze=/([A-Z])/g,tn=function(t){if(t){var e,n,r=t.t.style,i=t.length,s=0;for((t.t._gsap||q.core.getCache(t.t)).uncache=1;s<i;s+=2)n=t[s+1],e=t[s],n?r[e]=n:r[e]&&r.removeProperty(e.replace(Ze,"-$1").toLowerCase())}},en=function(t){for(var e=Qe.length,n=t.style,r=[],i=0;i<e;i++)r.push(Qe[i],n[Qe[i]]);return r.t=t,r},nn={left:0,top:0},rn=function(t,e,n,r,i,s,o,a,c,u,l,h,d,f){Kt(t)&&(t=t(a)),Gt(t)&&"max"===t.substr(0,3)&&(t=h+("="===t.charAt(4)?Ce("0"+t.substr(3),n):0));var p,g,m,v=d?d.time():0;if(d&&d.seek(0),isNaN(t)||(t=+t),Wt(t))d&&(t=q.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,t)),o&&Ae(o,n,r,!0);else{Kt(e)&&(e=e(a));var y,_,w,b,E=(t||"0").split(" ");m=L(e,a)||W,(y=ge(m)||{})&&(y.left||y.top)||"none"!==fe(m).display||(b=m.style.display,m.style.display="block",y=ge(m),b?m.style.display=b:m.style.removeProperty("display")),_=Ce(E[0],y[r.d]),w=Ce(E[1]||"0",n),t=y[r.p]-c[r.p]-u+_+i-w,o&&Ae(o,w,r,n-w<20||o._isStart&&w>20),n-=n-w}if(f&&(a[f]=t||-.001,t<0&&(t=0)),s){var T=t+n,I=s._isStart;p="scroll"+r.d2,Ae(s,T,r,I&&T>20||!I&&(l?Math.max(W[p],K[p]):s.parentNode[p])<=T+1),l&&(c=ge(o),l&&(s.style[r.op.p]=c[r.op.p]-r.op.m-s._offset+de))}return d&&m&&(p=ge(m),d.seek(h),g=ge(m),d._caScrollDist=p[r.p]-g[r.p],t=t/d._caScrollDist*h),d&&d.seek(v),d?t:Math.round(t)},sn=/(webkit|moz|length|cssText|inset)/i,on=function(t,e,n,r){if(t.parentNode!==e){var i,s,o=t.style;if(e===W){for(i in t._stOrig=o.cssText,s=fe(t))+i||sn.test(i)||!s[i]||"string"!=typeof o[i]||"0"===i||(o[i]=s[i]);o.top=n,o.left=r}else o.cssText=t._stOrig;q.core.getCache(t).uncache=1,e.appendChild(t)}},an=function(t,e,n){var r=e,i=r;return function(e){var s=Math.round(t());return s!==r&&s!==i&&Math.abs(s-r)>3&&Math.abs(s-i)>3&&(e=s,n&&n()),i=r,r=Math.round(e)}},cn=function(t,e,n){var r={};r[e.p]="+="+n,q.set(t,r)},un=function(t,e){var n=M(t,e),r="_scroll"+e.p2,i=function e(i,s,o,a,c){var u=e.tween,l=s.onComplete,h={};o=o||n();var d=an(n,o,(function(){u.kill(),e.tween=0}));return c=a&&c||0,a=a||i-o,u&&u.kill(),s[r]=i,s.inherit=!1,s.modifiers=h,h[r]=function(){return d(o+a*u.ratio+c*u.ratio*u.ratio)},s.onUpdate=function(){b.cache++,e.tween&&Xe()},s.onComplete=function(){e.tween=0,l&&l.call(u)},u=e.tween=q.to(t,s)};return t[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},we(t,"wheel",n.wheelHandler),ln.isTouch&&we(t,"touchmove",n.wheelHandler),i},ln=function(){function t(e,n){H||t.register(q)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),mt(this),this.init(e,n)}return t.prototype.init=function(e,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Pt){var r,i,s,o,a,c,u,l,h,d,f,p,g,m,v,y,_,w,T,I,C,k,A,x,O,P,R,F,U,V,j,B,z,H,X,Y,tt,rt,st,ot,at,lt,ht=e=pe(Gt(e)||Wt(e)||e.nodeType?{trigger:e}:e,Ie),dt=ht.onUpdate,ft=ht.toggleClass,pt=ht.id,gt=ht.onToggle,mt=ht.onRefresh,vt=ht.scrub,yt=ht.trigger,_t=ht.pin,wt=ht.pinSpacing,Tt=ht.invalidateOnRefresh,xt=ht.anticipatePin,Nt=ht.onScrubComplete,Lt=ht.onSnapComplete,Mt=ht.once,Vt=ht.snap,jt=ht.pinReparent,$t=ht.pinSpacer,Zt=ht.containerAnimation,te=ht.fastScrollEnd,ee=ht.preventOverlaps,_e=e.horizontal||e.containerAnimation&&!1!==e.horizontal?D:N,Ee=!vt&&0!==vt,Se=L(e.scroller||$),Ae=q.core.getCache(Se),Pe=Bt(Se),De="fixed"===("pinType"in e?e.pinType:S(Se,"pinType")||Pe&&"fixed"),Le=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],Me=Ee&&e.toggleActions.split(" "),Ue="markers"in e?e.markers:Ie.markers,Ve=Pe?0:parseFloat(fe(Se)["border"+_e.p2+le])||0,je=this,Be=e.onRefreshInit&&function(){return e.onRefreshInit(je)},ze=function(t,e,n){var r=n.d,i=n.d2,s=n.a;return(s=S(t,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(e?zt(i):t["client"+i])||0}}(Se,Pe,_e),He=function(t,e){return!e||~E.indexOf(t)?qt(t):function(){return nn}}(Se,Pe),$e=0,Ke=0,Xe=0,Ye=M(Se,_e);if(je._startClamp=je._endClamp=!1,je._dir=_e,xt*=45,je.scroller=Se,je.scroll=Zt?Zt.time.bind(Zt):Ye,o=Ye(),je.vars=e,n=n||e.animation,"refreshPriority"in e&&(ct=1,-9999===e.refreshPriority&&(Ct=je)),Ae.tweenScroll=Ae.tweenScroll||{top:un(Se,N),left:un(Se,D)},je.tweenTo=r=Ae.tweenScroll[_e.p],je.scrubDuration=function(t){(z=Wt(t)&&t)?B?B.duration(t):B=q.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:z,paused:!0,onComplete:function(){return Nt&&Nt(je)}}):(B&&B.progress(1).kill(),B=0)},n&&(n.vars.lazy=!1,n._initted&&!je.isReverted||!1!==n.vars.immediateRender&&!1!==e.immediateRender&&n.duration()&&n.render(0,!0,!0),je.animation=n.pause(),n.scrollTrigger=je,je.scrubDuration(vt),V=0,pt||(pt=n.vars.id)),Vt&&(Xt(Vt)&&!Vt.push||(Vt={snapTo:Vt}),"scrollBehavior"in W.style&&q.set(Pe?[W,K]:Se,{scrollBehavior:"auto"}),b.forEach((function(t){return Kt(t)&&t.target===(Pe?G.scrollingElement||K:Se)&&(t.smooth=!1)})),s=Kt(Vt.snapTo)?Vt.snapTo:"labels"===Vt.snapTo?function(t){return function(e){return q.utils.snap(ve(t),e)}}(n):"labelsDirectional"===Vt.snapTo?(ot=n,function(t,e){return ye(ve(ot))(t,e.direction)}):!1!==Vt.directional?function(t,e){return ye(Vt.snapTo)(t,At()-Ke<500?0:e.direction)}:q.utils.snap(Vt.snapTo),H=Vt.duration||{min:.1,max:2},H=Xt(H)?J(H.min,H.max):J(H,H),X=q.delayedCall(Vt.delay||z/2||.1,(function(){var t=Ye(),e=At()-Ke<500,i=r.tween;if(!(e||Math.abs(je.getVelocity())<10)||i||nt||$e===t)je.isActive&&$e!==t&&X.restart(!0);else{var o,a,l=(t-c)/m,h=n&&!Ee?n.totalProgress():l,d=e?0:(h-j)/(At()-Z)*1e3||0,f=q.utils.clamp(-l,1-l,Jt(d/2)*d/.185),p=l+(!1===Vt.inertia?0:f),g=Vt,v=g.onStart,y=g.onInterrupt,_=g.onComplete;if(o=s(p,je),Wt(o)||(o=p),a=Math.max(0,Math.round(c+o*m)),t<=u&&t>=c&&a!==t){if(i&&!i._initted&&i.data<=Jt(a-t))return;!1===Vt.inertia&&(f=o-l),r(a,{duration:H(Jt(.185*Math.max(Jt(p-h),Jt(o-h))/d/.05||0)),ease:Vt.ease||"power3",data:Jt(a-t),onInterrupt:function(){return X.restart(!0)&&y&&y(je)},onComplete:function(){je.update(),$e=Ye(),n&&!Ee&&(B?B.resetTo("totalProgress",o,n._tTime/n._tDur):n.progress(o)),V=j=n&&!Ee?n.totalProgress():je.progress,Lt&&Lt(je),_&&_(je)}},t,f*m,a-t-f*m),v&&v(je,r.tween)}}})).pause()),pt&&(Oe[pt]=je),(st=(yt=je.trigger=L(yt||!0!==_t&&_t))&&yt._gsap&&yt._gsap.stRevert)&&(st=st(je)),_t=!0===_t?yt:L(_t),Gt(ft)&&(ft={targets:yt,className:ft}),_t&&(!1===wt||wt===ue||(wt=!(!wt&&_t.parentNode&&_t.parentNode.style&&"flex"===fe(_t.parentNode).display)&&ce),je.pin=_t,(i=q.core.getCache(_t)).spacer?v=i.pinState:($t&&(($t=L($t))&&!$t.nodeType&&($t=$t.current||$t.nativeElement),i.spacerIsNative=!!$t,$t&&(i.spacerState=en($t))),i.spacer=w=$t||G.createElement("div"),w.classList.add("pin-spacer"),pt&&w.classList.add("pin-spacer-"+pt),i.pinState=v=en(_t)),!1!==e.force3D&&q.set(_t,{force3D:!0}),je.spacer=w=i.spacer,U=fe(_t),x=U[wt+_e.os2],I=q.getProperty(_t),C=q.quickSetter(_t,_e.a,de),Je(_t,w,U),_=en(_t)),Ue){p=Xt(Ue)?pe(Ue,Te):Te,d=ke("scroller-start",pt,Se,_e,p,0),f=ke("scroller-end",pt,Se,_e,p,0,d),T=d["offset"+_e.op.d2];var Qe=L(S(Se,"content")||Se);l=this.markerStart=ke("start",pt,Qe,_e,p,T,0,Zt),h=this.markerEnd=ke("end",pt,Qe,_e,p,T,0,Zt),Zt&&(rt=q.quickSetter([l,h],_e.a,de)),De||E.length&&!0===S(Se,"fixedMarkers")||(lt=fe(at=Pe?W:Se).position,at.style.position="absolute"===lt||"fixed"===lt?lt:"relative",q.set([d,f],{force3D:!0}),P=q.quickSetter(d,_e.a,de),F=q.quickSetter(f,_e.a,de))}if(Zt){var Ze=Zt.vars.onUpdate,sn=Zt.vars.onUpdateParams;Zt.eventCallback("onUpdate",(function(){je.update(0,0,1),Ze&&Ze.apply(Zt,sn||[])}))}if(je.previous=function(){return xe[xe.indexOf(je)-1]},je.next=function(){return xe[xe.indexOf(je)+1]},je.revert=function(t,e){if(!e)return je.kill(!0);var r=!1!==t||!je.enabled,i=et;r!==je.isReverted&&(r&&(Y=Math.max(Ye(),je.scroll.rec||0),Xe=je.progress,tt=n&&n.progress()),l&&[l,h,d,f].forEach((function(t){return t.style.display=r?"none":"block"})),r&&(et=je,je.update(r)),!_t||jt&&je.isActive||(r?function(t,e,n){tn(n);var r=t._gsap;if(r.spacerIsNative)tn(r.spacerState);else if(t._gsap.swappedIn){var i=e.parentNode;i&&(i.insertBefore(t,e),i.removeChild(e))}t._gsap.swappedIn=!1}(_t,w,v):Je(_t,w,fe(_t),O)),r||je.update(r),et=i,je.isReverted=r)},je.refresh=function(i,s,p,b){if(!et&&je.enabled||s)if(_t&&i&&Ot)we(t,"scrollEnd",Fe);else{!It&&Be&&Be(je),et=je,r.tween&&!p&&(r.tween.kill(),r.tween=0),B&&B.pause(),Tt&&n&&n.revert({kill:!1}).invalidate(),je.isReverted||je.revert(!0,!0),je._subPinOffset=!1;var E,T,S,C,x,P,F,U,V,j,z,H,$,Q=ze(),J=He(),Z=Zt?Zt.duration():Ht(Se,_e),nt=m<=.01,rt=0,it=b||0,st=Xt(p)?p.end:e.end,ot=e.endTrigger||yt,at=Xt(p)?p.start:e.start||(0!==e.start&&yt?_t?"0 0":"0 100%":0),ct=je.pinnedContainer=e.pinnedContainer&&L(e.pinnedContainer,je),lt=yt&&Math.max(0,xe.indexOf(je))||0,ht=lt;for(Ue&&Xt(p)&&(H=q.getProperty(d,_e.p),$=q.getProperty(f,_e.p));ht-- >0;)(P=xe[ht]).end||P.refresh(0,1)||(et=je),!(F=P.pin)||F!==yt&&F!==_t&&F!==ct||P.isReverted||(j||(j=[]),j.unshift(P),P.revert(!0,!0)),P!==xe[ht]&&(lt--,ht--);for(Kt(at)&&(at=at(je)),at=Rt(at,"start",je),c=rn(at,yt,Q,_e,Ye(),l,d,je,J,Ve,De,Z,Zt,je._startClamp&&"_startClamp")||(_t?-.001:0),Kt(st)&&(st=st(je)),Gt(st)&&!st.indexOf("+=")&&(~st.indexOf(" ")?st=(Gt(at)?at.split(" ")[0]:"")+st:(rt=Ce(st.substr(2),Q),st=Gt(at)?at:(Zt?q.utils.mapRange(0,Zt.duration(),Zt.scrollTrigger.start,Zt.scrollTrigger.end,c):c)+rt,ot=yt)),st=Rt(st,"end",je),u=Math.max(c,rn(st||(ot?"100% 0":Z),ot,Q,_e,Ye()+rt,h,f,je,J,Ve,De,Z,Zt,je._endClamp&&"_endClamp"))||-.001,rt=0,ht=lt;ht--;)(F=(P=xe[ht]).pin)&&P.start-P._pinPush<=c&&!Zt&&P.end>0&&(E=P.end-(je._startClamp?Math.max(0,P.start):P.start),(F===yt&&P.start-P._pinPush<c||F===ct)&&isNaN(at)&&(rt+=E*(1-P.progress)),F===_t&&(it+=E));if(c+=rt,u+=rt,je._startClamp&&(je._startClamp+=rt),je._endClamp&&!It&&(je._endClamp=u||-.001,u=Math.min(u,Ht(Se,_e))),m=u-c||(c-=.01)&&.001,nt&&(Xe=q.utils.clamp(0,1,q.utils.normalize(c,u,Y))),je._pinPush=it,l&&rt&&((E={})[_e.a]="+="+rt,ct&&(E[_e.p]="-="+Ye()),q.set([l,h],E)),!_t||bt&&je.end>=Ht(Se,_e)){if(yt&&Ye()&&!Zt)for(T=yt.parentNode;T&&T!==W;)T._pinOffset&&(c-=T._pinOffset,u-=T._pinOffset),T=T.parentNode}else E=fe(_t),C=_e===N,S=Ye(),k=parseFloat(I(_e.a))+it,!Z&&u>1&&(z={style:z=(Pe?G.scrollingElement||K:Se).style,value:z["overflow"+_e.a.toUpperCase()]},Pe&&"scroll"!==fe(W)["overflow"+_e.a.toUpperCase()]&&(z.style["overflow"+_e.a.toUpperCase()]="scroll")),Je(_t,w,E),_=en(_t),T=ge(_t,!0),U=De&&M(Se,C?D:N)(),wt?((O=[wt+_e.os2,m+it+de]).t=w,(ht=wt===ce?me(_t,_e)+m+it:0)&&(O.push(_e.d,ht+de),"auto"!==w.style.flexBasis&&(w.style.flexBasis=ht+de)),tn(O),ct&&xe.forEach((function(t){t.pin===ct&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)})),De&&Ye(Y)):(ht=me(_t,_e))&&"auto"!==w.style.flexBasis&&(w.style.flexBasis=ht+de),De&&((x={top:T.top+(C?S-c:U)+de,left:T.left+(C?U:S-c)+de,boxSizing:"border-box",position:"fixed"})[ne]=x["max"+le]=Math.ceil(T.width)+de,x[re]=x["max"+he]=Math.ceil(T.height)+de,x[ue]=x[ue+oe]=x[ue+ie]=x[ue+ae]=x[ue+se]="0",x[ce]=E[ce],x[ce+oe]=E[ce+oe],x[ce+ie]=E[ce+ie],x[ce+ae]=E[ce+ae],x[ce+se]=E[ce+se],y=function(t,e,n){for(var r,i=[],s=t.length,o=n?8:0;o<s;o+=2)r=t[o],i.push(r,r in e?e[r]:t[o+1]);return i.t=t.t,i}(v,x,jt),It&&Ye(0)),n?(V=n._initted,ut(1),n.render(n.duration(),!0,!0),A=I(_e.a)-k+m+it,R=Math.abs(m-A)>1,De&&R&&y.splice(y.length-2,2),n.render(0,!0,!0),V||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),ut(0)):A=m,z&&(z.value?z.style["overflow"+_e.a.toUpperCase()]=z.value:z.style.removeProperty("overflow-"+_e.a));j&&j.forEach((function(t){return t.revert(!1,!0)})),je.start=c,je.end=u,o=a=It?Y:Ye(),Zt||It||(o<Y&&Ye(Y),je.scroll.rec=0),je.revert(!1,!0),Ke=At(),X&&($e=-1,X.restart(!0)),et=0,n&&Ee&&(n._initted||tt)&&n.progress()!==tt&&n.progress(tt||0,!0).render(n.time(),!0,!0),(nt||Xe!==je.progress||Zt||Tt||n&&!n._initted)&&(n&&!Ee&&n.totalProgress(Zt&&c<-.001&&!Xe?q.utils.normalize(c,u,0):Xe,!0),je.progress=nt||(o-c)/m===Xe?0:Xe),_t&&wt&&(w._pinOffset=Math.round(je.progress*A)),B&&B.invalidate(),isNaN(H)||(H-=q.getProperty(d,_e.p),$-=q.getProperty(f,_e.p),cn(d,_e,H),cn(l,_e,H-(b||0)),cn(f,_e,$),cn(h,_e,$-(b||0))),nt&&!It&&je.update(),!mt||It||g||(g=!0,mt(je),g=!1)}},je.getVelocity=function(){return(Ye()-a)/(At()-Z)*1e3||0},je.endAnimation=function(){Yt(je.callbackAnimation),n&&(B?B.progress(1):n.paused()?Ee||Yt(n,je.direction<0,1):Yt(n,n.reversed()))},je.labelToScroll=function(t){return n&&n.labels&&(c||je.refresh()||c)+n.labels[t]/n.duration()*m||0},je.getTrailing=function(t){var e=xe.indexOf(je),n=je.direction>0?xe.slice(0,e).reverse():xe.slice(e+1);return(Gt(t)?n.filter((function(e){return e.vars.preventOverlaps===t})):n).filter((function(t){return je.direction>0?t.end<=c:t.start>=u}))},je.update=function(t,e,i){if(!Zt||i||t){var s,l,h,f,p,g,v,b=!0===It?Y:je.scroll(),E=t?0:(b-c)/m,T=E<0?0:E>1?1:E||0,I=je.progress;if(e&&(a=o,o=Zt?Ye():b,Vt&&(j=V,V=n&&!Ee?n.totalProgress():T)),xt&&_t&&!et&&!kt&&Ot&&(!T&&c<b+(b-a)/(At()-Z)*xt?T=1e-4:1===T&&u>b+(b-a)/(At()-Z)*xt&&(T=.9999)),T!==I&&je.enabled){if(f=(p=(s=je.isActive=!!T&&T<1)!=(!!I&&I<1))||!!T!=!!I,je.direction=T>I?1:-1,je.progress=T,f&&!et&&(l=T&&!I?0:1===T?1:1===I?2:3,Ee&&(h=!p&&"none"!==Me[l+1]&&Me[l+1]||Me[l],v=n&&("complete"===h||"reset"===h||h in n))),ee&&(p||v)&&(v||vt||!n)&&(Kt(ee)?ee(je):je.getTrailing(ee).forEach((function(t){return t.endAnimation()}))),Ee||(!B||et||kt?n&&n.totalProgress(T,!(!et||!Ke&&!t)):(B._dp._time-B._start!==B._time&&B.render(B._dp._time-B._start),B.resetTo?B.resetTo("totalProgress",T,n._tTime/n._tDur):(B.vars.totalProgress=T,B.invalidate().restart()))),_t)if(t&&wt&&(w.style[wt+_e.os2]=x),De){if(f){if(g=!t&&T>I&&u+1>b&&b+1>=Ht(Se,_e),jt)if(t||!s&&!g)on(_t,w);else{var S=ge(_t,!0),O=b-c;on(_t,W,S.top+(_e===N?O:0)+de,S.left+(_e===N?0:O)+de)}tn(s||g?y:_),R&&T<1&&s||C(k+(1!==T||g?0:A))}}else C(Ut(k+A*T));Vt&&!r.tween&&!et&&!kt&&X.restart(!0),ft&&(p||Mt&&T&&(T<1||!Et))&&Q(ft.targets).forEach((function(t){return t.classList[s||Mt?"add":"remove"](ft.className)})),dt&&!Ee&&!t&&dt(je),f&&!et?(Ee&&(v&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),dt&&dt(je)),!p&&Et||(gt&&p&&Qt(je,gt),Le[l]&&Qt(je,Le[l]),Mt&&(1===T?je.kill(!1,1):Le[l]=0),p||Le[l=1===T?1:3]&&Qt(je,Le[l])),te&&!s&&Math.abs(je.getVelocity())>(Wt(te)?te:2500)&&(Yt(je.callbackAnimation),B?B.progress(1):Yt(n,"reverse"===h?1:!T,1))):Ee&&dt&&!et&&dt(je)}if(F){var D=Zt?b/Zt.duration()*(Zt._caScrollDist||0):b;P(D+(d._isFlipped?1:0)),F(D)}rt&&rt(-b/Zt.duration()*(Zt._caScrollDist||0))}},je.enable=function(e,n){je.enabled||(je.enabled=!0,we(Se,"resize",Ne),Pe||we(Se,"scroll",Re),Be&&we(t,"refreshInit",Be),!1!==e&&(je.progress=Xe=0,o=a=$e=Ye()),!1!==n&&je.refresh())},je.getTween=function(t){return t&&r?r.tween:B},je.setPositions=function(t,e,n,r){if(Zt){var i=Zt.scrollTrigger,s=Zt.duration(),o=i.end-i.start;t=i.start+o*t/s,e=i.start+o*e/s}je.refresh(!1,!1,{start:Dt(t,n&&!!je._startClamp),end:Dt(e,n&&!!je._endClamp)},r),je.update()},je.adjustPinSpacing=function(t){if(O&&t){var e=O.indexOf(_e.d)+1;O[e]=parseFloat(O[e])+t+de,O[1]=parseFloat(O[1])+t+de,tn(O)}},je.disable=function(e,n){if(je.enabled&&(!1!==e&&je.revert(!0,!0),je.enabled=je.isActive=!1,n||B&&B.pause(),Y=0,i&&(i.uncache=1),Be&&be(t,"refreshInit",Be),X&&(X.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!Pe)){for(var s=xe.length;s--;)if(xe[s].scroller===Se&&xe[s]!==je)return;be(Se,"resize",Ne),Pe||be(Se,"scroll",Re)}},je.kill=function(t,r){je.disable(t,r),B&&!r&&B.kill(),pt&&delete Oe[pt];var s=xe.indexOf(je);s>=0&&xe.splice(s,1),s===it&&We>0&&it--,s=0,xe.forEach((function(t){return t.scroller===je.scroller&&(s=1)})),s||It||(je.scroll.rec=0),n&&(n.scrollTrigger=null,t&&n.revert({kill:!1}),r||n.kill()),l&&[l,h,d,f].forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),Ct===je&&(Ct=0),_t&&(i&&(i.uncache=1),s=0,xe.forEach((function(t){return t.pin===_t&&s++})),s||(i.spacer=0)),e.onKill&&e.onKill(je)},xe.push(je),je.enable(!1,!1),st&&st(je),n&&n.add&&!m){var an=je.update;je.update=function(){je.update=an,b.cache++,c||u||je.refresh()},q.delayedCall(.01,je.update),m=.01,c=u=0}else je.refresh();_t&&function(){if(St!==qe){var t=St=qe;requestAnimationFrame((function(){return t===qe&&Ge(!0)}))}}()}else this.update=this.refresh=this.kill=Ft},t.register=function(e){return H||(q=e||jt(),Vt()&&window.document&&t.enable(),H=Pt),H},t.defaults=function(t){if(t)for(var e in t)Ie[e]=t[e];return Ie},t.disable=function(t,e){Pt=0,xe.forEach((function(n){return n[e?"kill":"disable"](t)})),be($,"wheel",Re),be(G,"scroll",Re),clearInterval(tt),be(G,"touchcancel",Ft),be(W,"touchstart",Ft),_e(be,G,"pointerdown,touchstart,mousedown",Lt),_e(be,G,"pointerup,touchend,mouseup",Mt),Y.kill(),$t(be);for(var n=0;n<b.length;n+=3)Ee(be,b[n],b[n+1]),Ee(be,b[n],b[n+2])},t.enable=function(){if($=window,G=document,K=G.documentElement,W=G.body,q&&(Q=q.utils.toArray,J=q.utils.clamp,mt=q.core.context||Ft,ut=q.core.suppressOverwrites||Ft,vt=$.history.scrollRestoration||"auto",Ke=$.pageYOffset||0,q.core.globals("ScrollTrigger",t),W)){Pt=1,(yt=document.createElement("div")).style.height="100vh",yt.style.position="absolute",He(),Nt(),z.register(q),t.isTouch=z.isTouch,gt=z.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),dt=1===z.isTouch,we($,"wheel",Re),X=[$,G,K,W],q.matchMedia?(t.matchMedia=function(t){var e,n=q.matchMedia();for(e in t)n.add(e,t[e]);return n},q.addEventListener("matchMediaInit",(function(){return Be()})),q.addEventListener("matchMediaRevert",(function(){return je()})),q.addEventListener("matchMedia",(function(){Ge(0,1),Ue("matchMedia")})),q.matchMedia().add("(orientation: portrait)",(function(){return De(),De}))):console.warn("Requires GSAP 3.11.0 or later"),De(),we(G,"scroll",Re);var e,n,r=W.hasAttribute("style"),i=W.style,s=i.borderTopStyle,o=q.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",e=ge(W),N.m=Math.round(e.top+N.sc())||0,D.m=Math.round(e.left+D.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(W.setAttribute("style",""),W.removeAttribute("style")),tt=setInterval(Pe,250),q.delayedCall(.5,(function(){return kt=0})),we(G,"touchcancel",Ft),we(W,"touchstart",Ft),_e(we,G,"pointerdown,touchstart,mousedown",Lt),_e(we,G,"pointerup,touchend,mouseup",Mt),rt=q.utils.checkPrefix("transform"),Qe.push(rt),H=At(),Y=q.delayedCall(.2,Ge).pause(),at=[G,"visibilitychange",function(){var t=$.innerWidth,e=$.innerHeight;G.hidden?(st=t,ot=e):st===t&&ot===e||Ne()},G,"DOMContentLoaded",Ge,$,"load",Ge,$,"resize",Ne],$t(we),xe.forEach((function(t){return t.enable(0,1)})),n=0;n<b.length;n+=3)Ee(be,b[n],b[n+1]),Ee(be,b[n],b[n+2])}},t.config=function(e){"limitCallbacks"in e&&(Et=!!e.limitCallbacks);var n=e.syncInterval;n&&clearInterval(tt)||(tt=n)&&setInterval(Pe,n),"ignoreMobileResize"in e&&(dt=1===t.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&($t(be)||$t(we,e.autoRefreshEvents||"none"),lt=-1===(e.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var n=L(t),r=b.indexOf(n),i=Bt(n);~r&&b.splice(r,i?6:2),e&&(i?E.unshift($,e,W,e,K,e):E.unshift(n,e))},t.clearMatchMedia=function(t){xe.forEach((function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)}))},t.isInViewport=function(t,e,n){var r=(Gt(t)?L(t):t).getBoundingClientRect(),i=r[n?ne:re]*e||0;return n?r.right-i>0&&r.left+i<$.innerWidth:r.bottom-i>0&&r.top+i<$.innerHeight},t.positionInViewport=function(t,e,n){Gt(t)&&(t=L(t));var r=t.getBoundingClientRect(),i=r[n?ne:re],s=null==e?i/2:e in Se?Se[e]*i:~e.indexOf("%")?parseFloat(e)*i/100:parseFloat(e)||0;return n?(r.left+s)/$.innerWidth:(r.top+s)/$.innerHeight},t.killAll=function(t){if(xe.slice(0).forEach((function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()})),!0!==t){var e=Le.killAll||[];Le={},e.forEach((function(t){return t()}))}},t}();ln.version="3.12.7",ln.saveStyles=function(t){return t?Q(t).forEach((function(t){if(t&&t.style){var e=Ve.indexOf(t);e>=0&&Ve.splice(e,5),Ve.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),q.core.getCache(t),mt())}})):Ve},ln.revert=function(t,e){return Be(!t,e)},ln.create=function(t,e){return new ln(t,e)},ln.refresh=function(t){return t?Ne(!0):(H||ln.register())&&Ge(!0)},ln.update=function(t){return++b.cache&&Xe(!0===t?2:0)},ln.clearScrollMemory=ze,ln.maxScroll=function(t,e){return Ht(t,e?D:N)},ln.getScrollFunc=function(t,e){return M(L(t),e?D:N)},ln.getById=function(t){return Oe[t]},ln.getAll=function(){return xe.filter((function(t){return"ScrollSmoother"!==t.vars.id}))},ln.isScrolling=function(){return!!Ot},ln.snapDirectional=ye,ln.addEventListener=function(t,e){var n=Le[t]||(Le[t]=[]);~n.indexOf(e)||n.push(e)},ln.removeEventListener=function(t,e){var n=Le[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},ln.batch=function(t,e){var n,r=[],i={},s=e.interval||.016,o=e.batchMax||1e9,a=function(t,e){var n=[],r=[],i=q.delayedCall(s,(function(){e(n,r),n=[],r=[]})).pause();return function(t){n.length||i.restart(!0),n.push(t.trigger),r.push(t),o<=n.length&&i.progress(1)}};for(n in e)i[n]="on"===n.substr(0,2)&&Kt(e[n])&&"onRefreshInit"!==n?a(0,e[n]):e[n];return Kt(o)&&(o=o(),we(ln,"refresh",(function(){return o=e.batchMax()}))),Q(t).forEach((function(t){var e={};for(n in i)e[n]=i[n];e.trigger=t,r.push(ln.create(e))})),r};var hn,dn=function(t,e,n,r){return e>r?t(r):e<0&&t(0),n>r?(r-e)/(n-e):n<0?e/(e-n):1},fn=function t(e,n){!0===n?e.style.removeProperty("touch-action"):e.style.touchAction=!0===n?"auto":n?"pan-"+n+(z.isTouch?" pinch-zoom":""):"none",e===K&&t(W,n)},pn={auto:1,scroll:1},gn=function(t){var e,n=t.event,r=t.target,i=t.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||q.core.getCache(s),a=At();if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==W&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!pn[(e=fe(s)).overflowY]&&!pn[e.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==r&&!Bt(s)&&(pn[(e=fe(s)).overflowY]||pn[e.overflowX]),o._isScrollT=a}(o._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},mn=function(t,e,n,r){return z.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:r=r&&gn,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&we(G,z.eventTypes[0],yn,!1,!0)},onDisable:function(){return be(G,z.eventTypes[0],yn,!0)}})},vn=/(input|label|select|textarea)/i,yn=function(t){var e=vn.test(t.target.tagName);(e||hn)&&(t._gsapAllow=!0,hn=e)};ln.sort=function(t){if(Kt(t))return xe.sort(t);var e=$.pageYOffset||0;return ln.getAll().forEach((function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+$.innerHeight})),xe.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+(t.vars.containerAnimation?1e6:t._sortY)-((e.vars.containerAnimation?1e6:e._sortY)+-1e6*(e.vars.refreshPriority||0))})},ln.observe=function(t){return new z(t)},ln.normalizeScroll=function(t){if(void 0===t)return ht;if(!0===t&&ht)return ht.enable();if(!1===t)return ht&&ht.kill(),void(ht=t);var e=t instanceof z?t:function(t){Xt(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e,n,r,i,s,o,a,c,u=t,l=u.normalizeScrollX,h=u.momentum,d=u.allowNestedScroll,f=u.onRelease,p=L(t.target)||K,g=q.core.globals().ScrollSmoother,m=g&&g.get(),v=gt&&(t.content&&L(t.content)||m&&!1!==t.content&&!m.smooth()&&m.content()),y=M(p,N),_=M(p,D),w=1,E=(z.isTouch&&$.visualViewport?$.visualViewport.scale*$.visualViewport.width:$.outerWidth)/$.innerWidth,T=0,I=Kt(h)?function(){return h(e)}:function(){return h||2.8},S=mn(p,t.type,!0,d),C=function(){return i=!1},k=Ft,A=Ft,x=function(){n=Ht(p,N),A=J(gt?1:0,n),l&&(k=J(0,Ht(p,D))),r=qe},O=function(){v._gsap.y=Ut(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},P=function(){x(),s.isActive()&&s.vars.scrollY>n&&(y()>n?s.progress(1)&&y(n):s.resetTo("scrollY",n))};return v&&q.set(v,{y:"+=0"}),t.ignoreCheck=function(t){return gt&&"touchmove"===t.type&&function(){if(i){requestAnimationFrame(C);var t=Ut(e.deltaY/2),n=A(y.v-t);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=Ut((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=b.cache,Xe()}return!0}y.offset&&O(),i=!0}()||w>1.05&&"touchstart"!==t.type||e.isGesturing||t.touches&&t.touches.length>1},t.onPress=function(){i=!1;var t=w;w=Ut(($.visualViewport&&$.visualViewport.scale||1)/E),s.pause(),t!==w&&fn(p,w>1.01||!l&&"x"),o=_(),a=y(),x(),r=qe},t.onRelease=t.onGestureStart=function(t,e){if(y.offset&&O(),e){b.cache++;var r,i,o=I();l&&(i=(r=_())+.05*o*-t.velocityX/.227,o*=dn(_,r,i,Ht(p,D)),s.vars.scrollX=k(i)),i=(r=y())+.05*o*-t.velocityY/.227,o*=dn(y,r,i,Ht(p,N)),s.vars.scrollY=A(i),s.invalidate().duration(o).play(.01),(gt&&s.vars.scrollY>=n||r>=n-1)&&q.to({},{onUpdate:P,duration:o})}else c.restart(!0);f&&f(t)},t.onWheel=function(){s._ts&&s.pause(),At()-T>1e3&&(r=0,T=At())},t.onChange=function(t,e,n,i,s){if(qe!==r&&x(),e&&l&&_(k(i[2]===e?o+(t.startX-t.x):_()+e-i[1])),n){y.offset&&O();var c=s[2]===n,u=c?a+t.startY-t.y:y()+n-s[1],h=A(u);c&&u!==h&&(a+=h-u),y(h)}(n||e)&&Xe()},t.onEnable=function(){fn(p,!l&&"x"),ln.addEventListener("refresh",P),we($,"resize",P),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=_.smooth=!1),S.enable()},t.onDisable=function(){fn(p,!0),be($,"resize",P),ln.removeEventListener("refresh",P),S.kill()},t.lockAxis=!1!==t.lockAxis,(e=new z(t)).iOS=gt,gt&&!y()&&y(1),gt&&q.ticker.add(Ft),c=e._dc,s=q.to(e,{ease:"power4",paused:!0,inherit:!1,scrollX:l?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:an(y,y(),(function(){return s.pause()}))},onUpdate:Xe,onComplete:c.vars.onComplete}),e}(t);return ht&&ht.target===e.target&&ht.kill(),Bt(e.target)&&(ht=e),e},ln.core={_getVelocityProp:F,_inputObserver:mn,_scrollers:b,_proxies:E,bridge:{ss:function(){Ot||Ue("scrollStart"),Ot=At()},ref:function(){return et}}},jt()&&q.registerPlugin(ln);var _n=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,wn=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,bn=Math.PI/180,En=(Math.PI,Math.sin),Tn=Math.cos,In=Math.abs,Sn=Math.sqrt,Cn=(Math.atan2,function(t){return"number"==typeof t}),kn=1e5,An=function(t){return Math.round(t*kn)/kn||0};function xn(t,e,n,r,i,s,o,a,c){if(t!==a||e!==c){n=In(n),r=In(r);var u=i%360*bn,l=Tn(u),h=En(u),d=Math.PI,f=2*d,p=(t-a)/2,g=(e-c)/2,m=l*p+h*g,v=-h*p+l*g,y=m*m,_=v*v,w=y/(n*n)+_/(r*r);w>1&&(n=Sn(w)*n,r=Sn(w)*r);var b=n*n,E=r*r,T=(b*E-b*_-E*y)/(b*_+E*y);T<0&&(T=0);var I=(s===o?-1:1)*Sn(T),S=I*(n*v/r),C=I*(-r*m/n),k=(t+a)/2+(l*S-h*C),A=(e+c)/2+(h*S+l*C),x=(m-S)/n,O=(v-C)/r,P=(-m-S)/n,R=(-v-C)/r,D=x*x+O*O,N=(O<0?-1:1)*Math.acos(x/Sn(D)),L=(x*R-O*P<0?-1:1)*Math.acos((x*P+O*R)/Sn(D*(P*P+R*R)));isNaN(L)&&(L=d),!o&&L>0?L-=f:o&&L<0&&(L+=f),N%=f,L%=f;var M,F=Math.ceil(In(L)/(f/4)),U=[],V=L/F,j=4/3*En(V/2)/(1+Tn(V/2)),B=l*n,z=h*n,q=h*-r,H=l*r;for(M=0;M<F;M++)m=Tn(i=N+M*V),v=En(i),x=Tn(i+=V),O=En(i),U.push(m-j*v,v+j*m,x+j*O,O-j*x,x,O);for(M=0;M<U.length;M+=2)m=U[M],v=U[M+1],U[M]=m*B+v*q+k,U[M+1]=m*z+v*H+A;return U[M-2]=a,U[M-1]=c,U}}var On,Pn,Rn=function(){return On||"undefined"!=typeof window&&(On=window.gsap)&&On.registerPlugin&&On},Dn=function(){(On=Rn())?(On.registerEase("_CE",Un.create),Pn=1):console.warn("Please gsap.registerPlugin(CustomEase)")},Nn=function(t){return~~(1e3*t+(t<0?-.5:.5))/1e3},Ln=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,Mn=/[cLlsSaAhHvVtTqQ]/g,Fn=function t(e,n,r,i,s,o,a,c,u,l,h){var d,f=(e+r)/2,p=(n+i)/2,g=(r+s)/2,m=(i+o)/2,v=(s+a)/2,y=(o+c)/2,_=(f+g)/2,w=(p+m)/2,b=(g+v)/2,E=(m+y)/2,T=(_+b)/2,I=(w+E)/2,S=a-e,C=c-n,k=Math.abs((r-a)*C-(i-c)*S),A=Math.abs((s-a)*C-(o-c)*S);return l||(l=[{x:e,y:n},{x:a,y:c}],h=1),l.splice(h||l.length-1,0,{x:T,y:I}),(k+A)*(k+A)>u*(S*S+C*C)&&(d=l.length,t(e,n,f,p,_,w,T,I,u,l,h),t(T,I,b,E,v,y,a,c,u,l,h+1+(l.length-d))),l},Un=function(){function t(t,e,n){Pn||Dn(),this.id=t,this.setData(e,n)}var e=t.prototype;return e.setData=function(t,e){e=e||{};var n,r,i,s,o,a,c,u,l,h=(t=t||"0,0,1,1").match(Ln),d=1,f=[],p=[],g=e.precision||1,m=g<=1;if(this.data=t,(Mn.test(t)||~t.indexOf("M")&&t.indexOf("C")<0)&&(h=function(t){var e,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m=(t+"").replace(wn,(function(t){var e=+t;return e<1e-4&&e>-1e-4?0:e})).match(_n)||[],v=[],y=0,_=0,w=2/3,b=m.length,E=0,T="ERROR: malformed path: "+t,I=function(t,e,n,r){l=(n-t)/3,h=(r-e)/3,a.push(t+l,e+h,n-l,r-h,n,r)};if(!t||!isNaN(m[0])||isNaN(m[1]))return console.log(T),v;for(e=0;e<b;e++)if(f=s,isNaN(m[e])?o=(s=m[e].toUpperCase())!==m[e]:e--,r=+m[e+1],i=+m[e+2],o&&(r+=y,i+=_),e||(c=r,u=i),"M"===s)a&&(a.length<8?v.length-=1:E+=a.length),y=c=r,_=u=i,a=[r,i],v.push(a),e+=2,s="L";else if("C"===s)a||(a=[0,0]),o||(y=_=0),a.push(r,i,y+1*m[e+3],_+1*m[e+4],y+=1*m[e+5],_+=1*m[e+6]),e+=6;else if("S"===s)l=y,h=_,"C"!==f&&"S"!==f||(l+=y-a[a.length-4],h+=_-a[a.length-3]),o||(y=_=0),a.push(l,h,r,i,y+=1*m[e+3],_+=1*m[e+4]),e+=4;else if("Q"===s)l=y+(r-y)*w,h=_+(i-_)*w,o||(y=_=0),y+=1*m[e+3],_+=1*m[e+4],a.push(l,h,y+(r-y)*w,_+(i-_)*w,y,_),e+=4;else if("T"===s)l=y-a[a.length-4],h=_-a[a.length-3],a.push(y+l,_+h,r+(y+1.5*l-r)*w,i+(_+1.5*h-i)*w,y=r,_=i),e+=2;else if("H"===s)I(y,_,y=r,_),e+=1;else if("V"===s)I(y,_,y,_=r+(o?_-y:0)),e+=1;else if("L"===s||"Z"===s)"Z"===s&&(r=c,i=u,a.closed=!0),("L"===s||In(y-r)>.5||In(_-i)>.5)&&(I(y,_,r,i),"L"===s&&(e+=2)),y=r,_=i;else if("A"===s){if(p=m[e+4],g=m[e+5],l=m[e+6],h=m[e+7],n=7,p.length>1&&(p.length<3?(h=l,l=g,n--):(h=g,l=p.substr(2),n-=2),g=p.charAt(1),p=p.charAt(0)),d=xn(y,_,+m[e+1],+m[e+2],+m[e+3],+p,+g,(o?y:0)+1*l,(o?_:0)+1*h),e+=n,d)for(n=0;n<d.length;n++)a.push(d[n]);y=a[a.length-2],_=a[a.length-1]}else console.log(T);return(e=a.length)<6?(v.pop(),e=0):a[0]===a[e-2]&&a[1]===a[e-1]&&(a.closed=!0),v.totalPoints=E+e,v}(t)[0]),4===(n=h.length))h.unshift(0,0),h.push(1,1),n=8;else if((n-2)%6)throw"Invalid CustomEase";for(0==+h[0]&&1==+h[n-2]||function(t,e,n){n||0===n||(n=Math.max(+t[t.length-1],+t[1]));var r,i=-1*+t[0],s=-n,o=t.length,a=1/(+t[o-2]+i),c=-e||(Math.abs(+t[o-1]-+t[1])<.01*(+t[o-2]-+t[0])?function(t){var e,n=t.length,r=1e20;for(e=1;e<n;e+=6)+t[e]<r&&(r=+t[e]);return r}(t)+s:+t[o-1]+s);for(c=c?1/c:-a,r=0;r<o;r+=2)t[r]=(+t[r]+i)*a,t[r+1]=(+t[r+1]+s)*c}(h,e.height,e.originY),this.segment=h,s=2;s<n;s+=6)r={x:+h[s-2],y:+h[s-1]},i={x:+h[s+4],y:+h[s+5]},f.push(r,i),Fn(r.x,r.y,+h[s],+h[s+1],+h[s+2],+h[s+3],i.x,i.y,1/(2e5*g),f,f.length-1);for(n=f.length,s=0;s<n;s++)c=f[s],u=f[s-1]||c,(c.x>u.x||u.y!==c.y&&u.x===c.x||c===u)&&c.x<=1?(u.cx=c.x-u.x,u.cy=c.y-u.y,u.n=c,u.nx=c.x,m&&s>1&&Math.abs(u.cy/u.cx-f[s-2].cy/f[s-2].cx)>2&&(m=0),u.cx<d&&(u.cx?d=u.cx:(u.cx=.001,s===n-1&&(u.x-=.001,d=Math.min(d,.001),m=0)))):(f.splice(s--,1),n--);if(o=1/(n=1/d+1|0),a=0,c=f[0],m){for(s=0;s<n;s++)l=s*o,c.nx<l&&(c=f[++a]),r=c.y+(l-c.x)/c.cx*c.cy,p[s]={x:l,cx:o,y:r,cy:0,nx:9},s&&(p[s-1].cy=r-p[s-1].y);a=f[f.length-1],p[n-1].cy=a.y-r,p[n-1].cx=a.x-p[p.length-1].x}else{for(s=0;s<n;s++)c.nx<s*o&&(c=f[++a]),p[s]=c;a<f.length-1&&(p[s-1]=f[f.length-2])}return this.ease=function(t){var e=p[t*n|0]||p[n-1];return e.nx<t&&(e=e.n),e.y+(t-e.x)/e.cx*e.cy},this.ease.custom=this,this.id&&On&&On.registerEase(this.id,this.ease),this},e.getSVGData=function(e){return t.getSVGData(this,e)},t.create=function(e,n,r){return new t(e,n,r).ease},t.register=function(t){On=t,Dn()},t.get=function(t){return On.parseEase(t)},t.getSVGData=function(e,n){var r,i,s,o,a,c,u,l,h,d,f=(n=n||{}).width||100,p=n.height||100,g=n.x||0,m=(n.y||0)+p,v=On.utils.toArray(n.path)[0];if(n.invert&&(p=-p,m=0),"string"==typeof e&&(e=On.parseEase(e)),e.custom&&(e=e.custom),e instanceof t)r=function(t){Cn(t[0])&&(t=[t]);var e,n,r,i,s="",o=t.length;for(n=0;n<o;n++){for(i=t[n],s+="M"+An(i[0])+","+An(i[1])+" C",e=i.length,r=2;r<e;r++)s+=An(i[r++])+","+An(i[r++])+" "+An(i[r++])+","+An(i[r++])+" "+An(i[r++])+","+An(i[r])+" ";i.closed&&(s+="z")}return s}(function(t,e,n,r,i,s,o){for(var a,c,u,l,h,d=t.length;--d>-1;)for(c=(a=t[d]).length,u=0;u<c;u+=2)l=a[u],h=a[u+1],a[u]=l*e+0*h+s,a[u+1]=0*l+h*i+o;return t._dirty=1,t}([e.segment],f,0,0,-p,g,m));else{for(r=[g,m],o=1/(u=Math.max(5,200*(n.precision||1))),l=5/(u+=2),h=Nn(g+o*f),i=((d=Nn(m+e(o)*-p))-m)/(h-g),s=2;s<u;s++)a=Nn(g+s*o*f),c=Nn(m+e(s*o)*-p),(Math.abs((c-d)/(a-h)-i)>l||s===u-1)&&(r.push(h,d),i=(c-d)/(a-h)),h=a,d=c;r="M"+r.join(",")}return v&&v.setAttribute("d",r),r},t}();Un.version="3.12.7",Un.headless=!0,Rn()&&On.registerPlugin(Un);var Vn=n(419);r.os.registerPlugin(ln,Un);var jn=r.os.timeline({defaults:{duration:2,yoyo:!0,ease:"power2.inOut"}}).fromTo(".leftText, .rightText",{svgOrigin:"640 500",skewY:function(t){return[-30,15][t]},scaleX:function(t){return[.6,.85][t]},x:200},{skewY:function(t){return[-15,30][t]},scaleX:function(t){return[.85,.6][t]},x:-200}).play(.5),Bn=r.os.timeline();document.querySelectorAll("text").forEach((function(t,e){Bn.add(r.os.fromTo(t,{xPercent:-100,x:700},{duration:1,xPercent:0,x:575,ease:"sine.inOut"}),e%3*.2)}));var zn=null;window.addEventListener("pointermove",(function(t){zn||(zn=requestAnimationFrame((function(){jn.pause(),Bn.pause(),r.os.to([jn,Bn],{duration:2,ease:"power4",progress:t.x/innerWidth}),zn=null})))})),r.os.to(".slide1 .content-section",{y:"-20vh",ease:"none",duration:1,scrollTrigger:{trigger:".content-wrapper",scroller:".slide1",start:"top bottom",end:"top bottom",scrub:2}}),window.addEventListener("load",(function(){ln.refresh()})),setTimeout((function(){ln.refresh()}),500);var qn=document.querySelector(".content-wrapper");console.log(qn.getBoundingClientRect());var Hn=document.querySelector("#fiberflow-path"),$n=Hn.getTotalLength();Hn.style.strokeDasharray=$n,Hn.style.strokeDashoffset=$n,r.os.to(Hn,{strokeDashoffset:0,ease:"power4.Out",scrollTrigger:{trigger:".content-spacer",scroller:".slide1",start:"top bottom",endTrigger:".content-section",end:"top bottom",scrub:2}}),document.querySelectorAll(".rect-info-box").forEach((function(t){var e=t.getTotalLength();r.os.set(t,{strokeDasharray:e,strokeDashoffset:e}),r.os.to(t,{strokeDashoffset:0,duration:1.5,ease:"power4.Out",scrollTrigger:{trigger:t.closest(".info-box-fiber-1-1, .info-box-fiber-1-2, .info-box-fiber-1-3, .info-box-fiber-2"),scroller:".slide1",start:"top 100%",toggleActions:"play none none none",scrub:2}})})),document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".slide1 .contact-container"),e=document.querySelector(".slide1 .contact-btn"),n=document.getElementById("svg-info-box-button-contact"),r=document.querySelector(".slide1 .email"),i=document.querySelector(".slide1 .call");e.addEventListener("mouseenter",(function(){r.style.transform="translateX(30px)",i.style.transform="translateX(-30px)",e.style.pointerEvents="none",n.style.opacity="0",e.style.opacity="0",r.style.opacity="1",i.style.opacity="1",setTimeout((function(){r.style.pointerEvents="auto",i.style.pointerEvents="auto"}),300)})),t.addEventListener("mouseleave",(function(s){var o=s.relatedTarget;t.contains(o)||r.contains(o)||i.contains(o)||(r.style.transform="translateX(0)",i.style.transform="translateX(0)",r.style.opacity="0",i.style.opacity="0",e.style.opacity="1",n.style.opacity="1",setTimeout((function(){e.style.pointerEvents="auto",r.style.pointerEvents="none",i.style.pointerEvents="none"}),300))})),document.querySelector(".schedule-demo-btn").addEventListener("click",(function(){(function(){var t=document.getElementById("modalTemplate"),e=document.importNode(t.content,!0),n=e.querySelector(".modal-popup");n.dataset.instanceId=Date.now();var r=document.querySelector(".slider-wrapper .slide1 .content-section .content-wrapper");return r?r.appendChild(e):console.error("Container not found"),new Vn.A(n)})().open()}))}))})();